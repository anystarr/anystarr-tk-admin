(this["webpackJsonpreact-admin"]=this["webpackJsonpreact-admin"]||[]).push([[38],{1016:function(e,a,t){"use strict";var n=t(39),l=t(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M476 399.1c0-3.9-3.1-7.1-7-7.1h-42c-3.8 0-7 3.2-7 7.1V484h-84.5c-4.1 0-7.5 3.1-7.5 7v42c0 3.8 3.4 7 7.5 7H420v84.9c0 3.9 3.2 7.1 7 7.1h42c3.9 0 7-3.2 7-7.1V540h84.5c4.1 0 7.5-3.2 7.5-7v-42c0-3.9-3.4-7-7.5-7H476v-84.9zM560.5 704h-225c-4.1 0-7.5 3.2-7.5 7v42c0 3.8 3.4 7 7.5 7h225c4.1 0 7.5-3.2 7.5-7v-42c0-3.8-3.4-7-7.5-7zm-7.1-502.6c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v704c0 17.7 14.3 32 32 32h512c17.7 0 32-14.3 32-32V397.3c0-8.5-3.4-16.6-9.4-22.6L553.4 201.4zM664 888H232V264h282.2L664 413.8V888zm190.2-581.4L611.3 72.9c-6-5.7-13.9-8.9-22.2-8.9H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h277l219 210.6V824c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V329.6c0-8.7-3.5-17-9.8-23z"}}]},name:"diff",theme:"outlined"},c=t(54),o=function(e,a){return l.createElement(c.a,Object(n.a)(Object(n.a)({},e),{},{ref:a,icon:r}))},i=l.forwardRef(o);a.a=i},1017:function(e,a,t){"use strict";var n=t(39),l=t(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"},c=t(54),o=function(e,a){return l.createElement(c.a,Object(n.a)(Object(n.a)({},e),{},{ref:a,icon:r}))},i=l.forwardRef(o);a.a=i},123:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getRenderPropValue=void 0;a.getRenderPropValue=function(e){return e?"function"===typeof e?e():e:null}},182:function(e,a,t){"use strict";t(49),t(56),t(183),t(185)},183:function(e,a,t){"use strict";t(49),t(184)},184:function(e,a,t){},185:function(e,a,t){},186:function(e,a,t){"use strict";var n=t(35).default,l=t(37).default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(38)),c=n(t(51)),o=n(t(217)),i=n(t(36)),s=n(t(192)),m=n(t(295)),d=l(t(0)),u=t(42),p=n(t(187)),f=t(82),v=t(188),g=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)a.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(t[n[l]]=e[n[l]])}return t},b=d.forwardRef((function(e,a){var t=e.prefixCls,n=e.placement,l=void 0===n?"top":n,b=e.trigger,E=void 0===b?"click":b,y=e.okType,h=void 0===y?"primary":y,O=e.icon,C=void 0===O?d.createElement(o.default,null):O,w=e.children,x=e.overlayClassName,k=e.onOpenChange,j=e.onVisibleChange,_=g(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),P=d.useContext(u.ConfigContext).getPrefixCls,z=(0,s.default)(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),S=(0,c.default)(z,2),N=S[0],I=S[1],R=function(e,a){I(e,!0),null===j||void 0===j||j(e,a),null===k||void 0===k||k(e,a)},T=P("popover",t),V=P("popconfirm",t),L=(0,i.default)(V,x);return d.createElement(p.default,(0,r.default)({},_,{trigger:E,prefixCls:T,placement:l,onOpenChange:function(a){var t=e.disabled;void 0!==t&&t||R(a)},open:N,ref:a,overlayClassName:L,_overlay:d.createElement(v.Overlay,(0,r.default)({okType:h,icon:C},e,{prefixCls:T,close:function(e){R(!1,e)},onConfirm:function(a){var t;return null===(t=e.onConfirm)||void 0===t?void 0:t.call(void 0,a)},onCancel:function(a){var t;R(!1,a),null===(t=e.onCancel)||void 0===t||t.call(void 0,a)}}))}),(0,f.cloneElement)(w,{onKeyDown:function(e){var a,t;d.isValidElement(w)&&(null===(t=null===w||void 0===w?void 0:(a=w.props).onKeyDown)||void 0===t||t.call(a,e)),function(e){e.keyCode===m.default.ESC&&N&&R(!1,e)}(e)}}))}));a.default=b},187:function(e,a,t){"use strict";var n=t(37).default,l=t(35).default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=l(t(38)),c=n(t(0)),o=t(123),i=t(99),s=t(42),m=l(t(140)),d=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)a.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(t[n[l]]=e[n[l]])}return t},u=function(e){var a=e.title,t=e.content,n=e.prefixCls;return c.createElement(c.Fragment,null,a&&c.createElement("div",{className:"".concat(n,"-title")},(0,o.getRenderPropValue)(a)),c.createElement("div",{className:"".concat(n,"-inner-content")},(0,o.getRenderPropValue)(t)))},p=c.forwardRef((function(e,a){var t=e.prefixCls,n=e.title,l=e.content,o=e._overlay,p=e.placement,f=void 0===p?"top":p,v=e.trigger,g=void 0===v?"hover":v,b=e.mouseEnterDelay,E=void 0===b?.1:b,y=e.mouseLeaveDelay,h=void 0===y?.1:y,O=e.overlayStyle,C=void 0===O?{}:O,w=d(e,["prefixCls","title","content","_overlay","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),x=c.useContext(s.ConfigContext).getPrefixCls,k=x("popover",t),j=x(),_=c.useMemo((function(){return o||(n||l?c.createElement(u,{prefixCls:k,title:n,content:l}):null)}),[o,n,l,k]);return c.createElement(m.default,(0,r.default)({placement:f,trigger:g,mouseEnterDelay:E,mouseLeaveDelay:h,overlayStyle:C},w,{prefixCls:k,ref:a,overlay:_,transitionName:(0,i.getTransitionName)(j,"zoom-big",w.transitionName)}))}));a.default=p},188:function(e,a,t){"use strict";var n=t(37).default,l=t(35).default;Object.defineProperty(a,"__esModule",{value:!0}),a.Overlay=void 0;var r=l(t(38)),c=n(t(0)),o=l(t(55)),i=t(279),s=l(t(311)),m=l(t(174)),d=l(t(191)),u=t(123),p=t(42);a.Overlay=function(e){var a=e.prefixCls,t=e.okButtonProps,n=e.cancelButtonProps,l=e.title,f=e.cancelText,v=e.okText,g=e.okType,b=e.icon,E=e.showCancel,y=void 0===E||E,h=e.close,O=e.onConfirm,C=e.onCancel,w=c.useContext(p.ConfigContext).getPrefixCls;return c.createElement(m.default,{componentName:"Popconfirm",defaultLocale:d.default.Popconfirm},(function(e){return c.createElement("div",{className:"".concat(a,"-inner-content")},c.createElement("div",{className:"".concat(a,"-message")},b&&c.createElement("span",{className:"".concat(a,"-message-icon")},b),c.createElement("div",{className:"".concat(a,"-message-title")},(0,u.getRenderPropValue)(l))),c.createElement("div",{className:"".concat(a,"-buttons")},y&&c.createElement(o.default,(0,r.default)({onClick:C,size:"small"},n),null!==f&&void 0!==f?f:e.cancelText),c.createElement(s.default,{buttonProps:(0,r.default)((0,r.default)({size:"small"},(0,i.convertLegacyProps)(g)),t),actionFn:O,close:h,prefixCls:w("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},null!==v&&void 0!==v?v:e.okText)))}))}},2e3:function(e,a,t){"use strict";t.r(a);t(58);var n=t(59),l=t.n(n),r=(t(83),t(84)),c=t.n(r),o=(t(77),t(70)),i=t.n(o),s=t(68),m=(t(94),t(95)),d=t.n(m),u=(t(56),t(55)),p=t.n(u),f=(t(63),t(66)),v=t.n(f),g=(t(64),t(67)),b=t.n(g),E=(t(74),t(75)),y=t.n(E),h=(t(69),t(72)),O=t.n(h),C=(t(180),t(181)),w=t.n(C),x=(t(278),t(282)),k=t.n(x),j=(t(289),t(140)),_=t.n(j),P=(t(408),t(426)),z=t.n(P),S=(t(375),t(352)),N=t.n(S),I=(t(182),t(186)),R=t.n(I),T=(t(62),t(65)),V=t.n(T),L=(t(79),t(80)),D=t.n(L),A=t(0),F=t.n(A),M=t(76),B=(t(116),t(60)),H=t(103),K=t(122),J=(t(12),t(135)),W=t.n(J),q=t(78),U=t.n(q),Y=t(319),$=t(1016),G=t(1017),Q=t(2003);const{MonthPicker:X,RangePicker:Z}=D.a,{Option:ee}=V.a,ae=([{label:"\u5f85\u5904\u7406",value:"to_handle"},{label:"\u5df2\u5904\u7406",value:"handled"}].map((e,a)=>F.a.createElement(ee,{key:a,value:e.value},e.label)),(e,a,t)=>[{title:"operation",dataIndex:"edit",key:"edit",width:"100",align:"center",render:(e,n)=>{const l=F.a.createElement(N.a,null,F.a.createElement(N.a.Item,null,F.a.createElement(R.a,{title:"Are you sure to close this task",onConfirm:()=>{a(n)},okText:"Yes",cancelText:"No"},F.a.createElement("a",null,F.a.createElement(Y.a,null),F.a.createElement("span",{style:{marginLeft:"4px"}},"Close Task")))),F.a.createElement(N.a.Item,null,F.a.createElement("a",{onClick:()=>{t(n)}},F.a.createElement($.a,null),F.a.createElement("span",{style:{marginLeft:"4px"}},"Modify Reward Amount"))));return F.a.createElement(z.a,{overlay:l,style:{width:"150px"}},F.a.createElement("a",{className:"ant-dropdown-link",onClick:e=>e.preventDefault()},F.a.createElement(G.a,{style:{fontSize:"25px",color:"#000"}})))}},{title:"Application ID",dataIndex:"id",key:"id",width:"100",align:"center",render:(a,t)=>F.a.createElement("a",{className:"action-btn",onClick:()=>{e(t)}},a)},{title:"Campaign title",dataIndex:"title",key:"title",align:"center",width:300,render:(e,a)=>F.a.createElement(_.a,{title:e},F.a.createElement("div",{style:{width:"300px"}},e))},{title:"Campaign type",dataIndex:"business_type",key:"business_type",align:"center",render:(e,a)=>1==e?F.a.createElement("span",{className:"table-row-p"},F.a.createElement(Q.a,{style:{color:"#868AF6",fontSize:"13px",marginRight:"3px"}}),"CPA"):3==e?F.a.createElement("span",{className:"table-row-green"},F.a.createElement(Q.a,{style:{color:"#18BFA4",fontSize:"13px",marginRight:"3px"}}),"Branding"):4==e?F.a.createElement("span",{className:"table-row-red"},F.a.createElement(Q.a,{style:{color:"#f85c5a",fontSize:"13px",marginRight:"3px"}}),"abComo"):null},{title:"Username",dataIndex:"user_name",key:"user_name",width:"100",align:"center"},{title:"Application date",dataIndex:"create_time",key:"create_time",width:180,align:"center"},{title:"commission",dataIndex:"commission",key:"commission",width:"100",align:"center"},{title:"Leading time ",dataIndex:"update_time",key:"update_time",width:"100",align:"center",render:(e,a)=>F.a.createElement("div",null,Object(K.b)(a.submit_time,a.review_time))},{title:"Task status",dataIndex:"status",width:200,key:"status",align:"left",render:(e,a)=>F.a.createElement("div",{style:{width:"160px"}},F.a.createElement(k.a,{status:0==e?"default":"success"}),F.a.createElement("span",null,0==e?"Task closed":1==e?"New Task":2==e?"Pending for submit":3==e?"Pending for Review":4==e?"Review Rejected":5==e?"Sub Process Review Approved":6==e?"Whole Process Review Approved":""))},{title:"# of upload images",dataIndex:"images",key:"images",align:"center",render:(e,a)=>F.a.createElement("div",{style:{display:"flex"}},e&&JSON.parse(e).map((e,a)=>(console.log("urlll,",e),/^.+(\.mp4|\.avi|video|\.mov|\.rmvb|.flv)$/.test(e)?F.a.createElement("video",{src:e,controls:"controls",style:{width:"100px",marginLeft:"10px"}},"\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301 video \u6807\u7b7e\u3002"):F.a.createElement(w.a,{src:e,style:{maxWidth:"70px",marginLeft:"10px"}}))))},{title:"Link",dataIndex:"linkes",key:"linkes",align:"center",width:"100",render:(e,a)=>F.a.createElement("div",null,Object(K.e)(e)?JSON.parse(e).map((e,a)=>F.a.createElement("a",{href:e,target:"_blank"},e)):e)}]),te={labelCol:{span:8},wrapperCol:{span:16}},ne=e=>{const[a]=O.a.useForm();return F.a.createElement(O.a,Object.assign({},te,{form:a,name:"advanced_search",className:"ant-advanced-search-form",onFinish:a=>{console.log("values",a),e.changeSearch(a)}}),F.a.createElement(v.a,{gutter:24},F.a.createElement(b.a,{span:8},F.a.createElement(O.a.Item,{name:"key",label:"Key"},F.a.createElement(y.a,null))),F.a.createElement(b.a,{span:8},F.a.createElement(O.a.Item,{name:"status",label:"Task status"},F.a.createElement(V.a,{allowClear:!0},F.a.createElement(ee,{value:"0"},"Closed"),F.a.createElement(ee,{value:"1"},"New task"),F.a.createElement(ee,{value:"2"},"Pending for submit"),F.a.createElement(ee,{value:"3"},"Pending for review"),F.a.createElement(ee,{value:"4"},"Review Rejected"),F.a.createElement(ee,{value:"5"},"Sub Process Review Approved"),F.a.createElement(ee,{value:"6"},"Whole Process Review Approved")))),F.a.createElement(b.a,{span:8},F.a.createElement(O.a.Item,{name:"user_name",label:"User"},F.a.createElement(y.a,null)))),F.a.createElement(v.a,{gutter:24},F.a.createElement(b.a,{span:8},F.a.createElement(O.a.Item,{name:"business_id",label:"Campaign ID"},F.a.createElement(y.a,null))),F.a.createElement(b.a,{span:8},F.a.createElement(O.a.Item,{name:"business_type",label:"Campaign type"},F.a.createElement(V.a,{allowClear:!0},F.a.createElement(ee,{value:"1"},"CPA"),F.a.createElement(ee,{value:"3"},"Branding"),F.a.createElement(ee,{value:"4"},"abComo"))))),F.a.createElement(v.a,null,F.a.createElement(b.a,{span:24,style:{textAlign:"right"}},F.a.createElement(p.a,{type:"primary",htmlType:"submit",loading:e.loading},"Search"),F.a.createElement(p.a,{style:{margin:"0 8px"},onClick:()=>{a.resetFields()}},"Reset"))))},le=e=>{let{visible:a,onCreate:t,onCancel:n,formData:l,disabled:r}=e;const[c]=O.a.useForm(),[o,i]=Object(A.useState)({}),[s,m]=Object(A.useState)(!1);Object(A.useEffect)(()=>{Object.keys(l).length?c.setFieldsValue(l):c.resetFields()},[]);return F.a.createElement(d.a,{visible:a,title:"Modify Reward Amount",okText:"Submit",cancelText:"Cancel",onCancel:n,onOk:()=>{c.validateFields().then(e=>{c.resetFields(),t(e)}).catch(e=>{console.log("Validate Failed:",e)})}},F.a.createElement(O.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:14}},{form:c,name:"form_in_modal"}),F.a.createElement(O.a.Item,{name:"amount",label:"reward amount",rules:[{required:!0}]},F.a.createElement(y.a,null))))};var re=e=>{const[a,t]=Object(A.useState)({list:[],pagination:{current:1,pageSize:10},search:{},loading:!0,visible:!1,disabled:!1,formData:{},taskId:null}),[n,r]=Object(A.useState)({visible:!1,data:{}});Object(A.useEffect)(()=>{const{pagination:e}=a,t={start_row:0,page_size:a.pagination.pageSize};o(t)},[]);const o=e=>{console.log("parasm");const{pagination:n,search:l}=a;t(Object(s.a)(Object(s.a)({},a),{},{loading:!0})),Object(B.Kb)(Object(K.a)(e)).then(n=>{t(Object(s.a)(Object(s.a)({},a),{},{visible:!1,list:n.data.result.records&&Object(H.getKeyList)(n.data.result.records),loading:!1,search:e.search,pagination:{total:n.data.result.total,current:e.start_row/e.page_size+1,pageSize:e.page_size}}))}).catch(e=>{console.log("err",e)})};return F.a.createElement(l.a,{className:"animated fadeIn"},F.a.createElement(le,{visible:a.visible,onCreate:e=>{console.log("datammm",e);let t=a.taskId;console.log("taskId",t);let n={id:t,amount:e.amount};Object(B.jc)(n).then(e=>{i.a.success("success");const t={start_row:0,page_size:a.pagination.pageSize};o(t)})},onCancel:()=>{t(Object(s.a)(Object(s.a)({},a),{},{visible:!1}))},formData:a.formData,disabled:a.disabled}),F.a.createElement("div",{className:"web-bread-c"},F.a.createElement(M.a,{arr:["Task List"]}),F.a.createElement("h3",null,"Task List"),F.a.createElement("a",{onClick:()=>{e.history.push("/tasks_ma/tasks")}},"Back to old edition"),F.a.createElement("img",{src:U.a,className:"aset",alt:"aset"})),F.a.createElement("div",{className:"base-wr"},F.a.createElement("div",{className:"base-style"},F.a.createElement(ne,{changeSearch:e=>{const n=Object(s.a)(Object(s.a)({},e),{},{page_size:10,start_row:0,search:e});t(Object(s.a)(Object(s.a)({},a),{},{search:e})),o(n)},loading:a.loading})),F.a.createElement(v.a,null,F.a.createElement(b.a,{span:24},F.a.createElement("div",{className:"base-style"},F.a.createElement(c.a,{columns:ae(e=>{console.log("data",e);var a=W.a+"/task_detail_new/"+e.id;window.open(a,"_blank").focus()},e=>{console.log("close task",e),Object(B.f)({id:e.id}).then(e=>{i.a.success("close success");const t={start_row:0,page_size:a.pagination.pageSize};o(t)})},e=>{t(Object(s.a)(Object(s.a)({},a),{},{visible:!0,taskId:e.id}))}),rowKey:e=>e.key,dataSource:a.list,onChange:e=>{console.log("state",a);const t=Object(s.a)(Object(s.a)({},a.search),{},{page_size:e.pageSize,start_row:e.pageSize*(e.current-1),search:a.search});console.log("ttt",t),o(t)},bordered:!0,size:"small",loading:a.loading,pagination:a.pagination,rowSelection:Object(s.a)({type:"checkbox"},()=>{}),scroll:{scrollToFirstRowOnChange:!0,x:1e3}}))))))};a.default=re},319:function(e,a,t){"use strict";var n=t(39),l=t(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},c=t(54),o=function(e,a){return l.createElement(c.a,Object(n.a)(Object(n.a)({},e),{},{ref:a,icon:r}))},i=l.forwardRef(o);a.a=i}}]);