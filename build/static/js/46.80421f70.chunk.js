(this["webpackJsonpreact-admin"]=this["webpackJsonpreact-admin"]||[]).push([[46],{100:function(e,a,t){"use strict";var n=t(0),l=t.n(n),r=t(76),i=t(78),c=t.n(i);var s=e=>{let{title:a}=e;return l.a.createElement("div",{className:"web-bread-c"},l.a.createElement(r.a,{arr:[a]}),l.a.createElement("h3",null,a),l.a.createElement("img",{src:c.a,className:"aset",alt:"aset"}))};a.a=s},1967:function(e,a,t){"use strict";t.r(a);t(58);var n=t(59),l=t.n(n),r=(t(83),t(84)),i=t.n(r),c=(t(77),t(70)),s=t.n(c),m=(t(94),t(95)),o=t.n(m),d=t(68),p=(t(56),t(55)),g=t.n(p),u=(t(63),t(66)),E=t.n(u),b=(t(64),t(67)),h=t.n(b),y=(t(74),t(75)),x=t.n(y),f=(t(69),t(72)),w=t.n(f),C=(t(180),t(181)),_=t.n(C),v=(t(278),t(282)),k=t.n(v),S=(t(289),t(140)),O=t.n(S),I=(t(62),t(65)),N=t.n(I),j=(t(79),t(80)),z=t.n(j),R=t(0),F=t.n(R),P=(t(116),t(60)),L=t(103),A=(t(12),t(122)),M=(t(78),t(100)),B=t(135),D=t.n(B),J=t(2002),H=t(2003),T=t(597),q=t(718),K=t(205),U=t(222),W=t.n(U);t(198);const{MonthPicker:V,RangePicker:G}=z.a,{Option:Q}=N.a,X=([{label:"\u5f85\u5904\u7406",value:"to_handle"},{label:"\u5df2\u5904\u7406",value:"handled"}].map((e,a)=>F.a.createElement(Q,{key:a,value:e.value},e.label)),(e,a)=>[{title:"Action",dataIndex:"edit",key:"edit",width:100,align:"center",render:(t,n)=>F.a.createElement(F.a.Fragment,null,F.a.createElement("a",{className:"action-btn",onClick:()=>{e(n)}},F.a.createElement(J.a,null),F.a.createElement("span",{style:{marginLeft:"4px"}},"Edit")),F.a.createElement("a",{className:"action-btn",onClick:()=>{a(n)}},F.a.createElement(J.a,null),F.a.createElement("span",{style:{marginLeft:"4px"}},"Ref Edit")))},{title:"Campaign ID",dataIndex:"id",key:"id",width:100,align:"center",render:(e,a)=>F.a.createElement("span",{className:"table-id"},e)},{title:"Campaign title",dataIndex:"title",key:"title",align:"center",render:(e,a)=>F.a.createElement(O.a,{title:e},F.a.createElement("div",{style:{width:"300px"}},e))},{title:"Language",dataIndex:"language",key:"language",align:"center",render:(e,a)=>F.a.createElement("span",null,1==e?"English":2==e?"French":3==e?"Spanish":4==e?"Polish":5==e?"Portuguese":"")},{title:"Campaign type",dataIndex:"type",key:"type",align:"center",render:(e,a)=>1==e?F.a.createElement("span",{className:"table-row-p"},F.a.createElement(H.a,{style:{color:"#868AF6",fontSize:"13px",marginRight:"3px"}}),"CPA"):3==e?F.a.createElement("span",{className:"table-row-green"},F.a.createElement(H.a,{style:{color:"#18BFA4",fontSize:"13px",marginRight:"3px"}}),"Branding"):4==e?F.a.createElement("span",{className:"table-row-red"},F.a.createElement(H.a,{style:{color:"#f85c5a",fontSize:"13px",marginRight:"3px"}}),"abComo"):null},{title:"Banner",dataIndex:"banner",key:"banner",align:"center",render:(e,a)=>F.a.createElement("div",{style:{display:"flex"}},e&&JSON.parse(e).map((e,a)=>F.a.createElement("a",{href:e,target:"_blank"},F.a.createElement("img",{src:e,key:a,className:"table-img"}))))},{title:"Campaign status",dataIndex:"status",key:"status",align:"center",render:(e,a)=>F.a.createElement("div",{style:{width:"200px"}},F.a.createElement(k.a,{status:1==e||2==e?"success":4==e?"processing":0==e?"error":"default"}),F.a.createElement("span",null,0==e?"Campaign expired":1==e?"Campaign Posting":2==e?"Campaign Onging":3==e?"Campaign Created":4==e?"Campaign Draft":5==e?"Campaign on hold":""))},{title:"Created by",dataIndex:"created_by",key:"created_by",align:"center",render:(e,a)=>F.a.createElement("div",{style:{width:"150px"}},F.a.createElement(K.a,{name:e,style:{display:"inline-block"}}),F.a.createElement("span",null,e))},{title:"Code left",dataIndex:"surplus_code_number",key:"surplus_code_number",align:"center",render:(e,a)=>e<10&&1==a.language?F.a.createElement("span",{style:{color:"rgb(232,18,18)"}},"!",e):F.a.createElement("span",null,e)},{title:"With Sample",dataIndex:"with_sample",key:"with_sample",width:"100",align:"center",render:(e,a)=>1==e?F.a.createElement("span",{className:"table-row-no"},F.a.createElement(T.a,{style:{color:"#f85c5a",fontSize:"13px",marginRight:"3px"}}),"no"):F.a.createElement("span",{className:"table-row-yes"},F.a.createElement(q.a,{style:{color:"#33d6bb",fontSize:"13px",marginRight:"3px"}}),"yes")},{title:"Pin",dataIndex:"set_top",key:"set_top",align:"center",width:"100",render:(e,a)=>1==e?F.a.createElement("span",{className:"table-row-no"},F.a.createElement(T.a,{style:{color:"#f85c5a",fontSize:"13px",marginRight:"3px"}}),"no"):F.a.createElement("span",{className:"table-row-yes"},F.a.createElement(q.a,{style:{color:"#33d6bb",fontSize:"13px",marginRight:"3px"}}),"yes")},{title:"Country",dataIndex:"country_list",key:"country_list",width:"100",align:"center",render:(e,a)=>F.a.createElement(F.a.Fragment,null,e&&JSON.parse(e).map((e,a)=>F.a.createElement("span",{className:"table-id-block",key:a},e.toUpperCase())))},{title:"Start",dataIndex:"start_time",key:"start_time",align:"center",width:170},{title:"End",dataIndex:"close_time",key:"close_time",align:"center",width:170},{title:"Merchant",dataIndex:"merchant_name",key:"merchant_name",align:"center",width:100,render:(e,a)=>F.a.createElement("div",null,F.a.createElement(_.a,{src:a.merchant,style:{maxHeight:60,overflow:"hidden"}}),F.a.createElement("span",null,e))}]),Y={labelCol:{span:8},wrapperCol:{span:16}},Z=e=>{const[a]=w.a.useForm(),[t,n]=Object(R.useState)([{name:"English",value:"English"},{name:"French",value:"French"},{name:"Spanish",value:"Spanish"},{name:"Polish",value:"Polish"},{name:"Portuguese",value:"Portuguese"}]);return F.a.createElement(w.a,Object.assign({},Y,{form:a,name:"advanced_search",className:"ant-advanced-search-form",onFinish:a=>{e.changeSearch(a)}}),F.a.createElement(E.a,{gutter:24},F.a.createElement(h.a,{span:10},F.a.createElement(w.a.Item,{name:"title",label:"Campaign title"},F.a.createElement(x.a,null))),F.a.createElement(h.a,{span:11},F.a.createElement(w.a.Item,{name:"status",label:"Campaign status"},F.a.createElement(N.a,{allowClear:!0},F.a.createElement(Q,{value:"0"},"expired"),F.a.createElement(Q,{value:"1"},"posting"),F.a.createElement(Q,{value:"2"},"onging"),F.a.createElement(Q,{value:"3"},"created"),F.a.createElement(Q,{value:"4"},"draft"),F.a.createElement(Q,{value:"5"},"on hold"))))),F.a.createElement(E.a,{gutter:24},F.a.createElement(h.a,{span:10},F.a.createElement(w.a.Item,{name:"type",label:"Campaign type"},F.a.createElement(N.a,{allowClear:!0},F.a.createElement(Q,{value:"1"},"CPA"),F.a.createElement(Q,{value:"3"},"Branding"),F.a.createElement(Q,{value:"4"},"abComo")))),F.a.createElement(h.a,{span:11},F.a.createElement(w.a.Item,{name:"language",label:"Campaign language"},F.a.createElement(N.a,{allowClear:!0},t.map(e=>F.a.createElement(Q,{key:e.value,value:e.name},e.name)))))),F.a.createElement(E.a,null,F.a.createElement(h.a,{span:24,style:{textAlign:"right"}},F.a.createElement(g.a,{type:"primary",htmlType:"submit",loading:e.loading},"Search"),F.a.createElement(g.a,{style:{margin:"0 8px"},onClick:()=>{a.resetFields()}},"Reset"))))},$=e=>{let{visible:a,onCreate:t,onCancel:n,formData:l,disabled:r}=e;const[i]=w.a.useForm(),[c,s]=Object(R.useState)({editorState:W.a.createEditorState(""),outputHTML:""});Object(R.useEffect)(()=>{console.log("formData",l);let e=l.id;e&&Object(P.ab)({campaignId:e}).then(e=>{console.log("xixixix"),s(Object(d.a)(Object(d.a)({},c),{},{editorState:W.a.createEditorState(e.data.Campaign_content)}))})},[l]);return F.a.createElement(o.a,{visible:a,title:"Campaign content  rtf",okText:"Submit",width:1100,cancelText:"Cancel",onCancel:n,onOk:()=>{i.validateFields().then(e=>{i.resetFields(),t({id:l.id,campaign_content:c.outputHTML})}).catch(e=>{console.log("Validate Failed:",e)})}},F.a.createElement(w.a,Object.assign({},{labelCol:{span:3},wrapperCol:{span:21}},{form:i,name:"form_in_modal"}),F.a.createElement(w.a.Item,{label:"Campaign Content",rules:[{required:!0}]},F.a.createElement(W.a,{value:c.editorState,onChange:e=>{s(a=>Object(d.a)(Object(d.a)({},a),{},{editorState:e,outputHTML:e.toHTML()}))}}))))};var ee=e=>{const[a,t]=Object(R.useState)({list:[],pagination:{current:1,pageSize:10},search:{},loading:!0,visible:!1,disabled:!1,formData:{}}),[n,r]=Object(R.useState)({visible:!1,data:{}});Object(R.useEffect)(()=>{const{pagination:e}=a,t={start_row:0,page_size:a.pagination.pageSize};c(t)},[]);const c=e=>{const{pagination:n,search:l}=a;console.log("params",e),t(Object(d.a)(Object(d.a)({},a),{},{loading:!0})),Object(P.cb)({campaignJson:JSON.stringify(Object(A.a)(e))}).then(n=>{t(Object(d.a)(Object(d.a)({},a),{},{visible:!1,list:n.data.list&&Object(L.getKeyList)(n.data.list),loading:!1,search:e.search,pagination:{current:e.start_row/e.page_size+1,pageSize:e.page_size,total:n.data.pager.total}}))}).catch(e=>{console.log("err",e)})};return F.a.createElement(l.a,{className:"animated fadeIn"},F.a.createElement($,{visible:a.visible,onCreate:e=>{console.log("data....",e),e.campaign_content="<div style=' padding: 60px;background-color: #fff;color: #666;'>"+e.campaign_content+"</div>",Object(P.dc)({campaignId:e.id,content:e.campaign_content}).then(e=>{s.a.success("success");const t={start_row:0,page_size:a.pagination.pageSize};c(t)})},onCancel:()=>{t(Object(d.a)(Object(d.a)({},a),{},{visible:!1}))},formData:a.formData,disabled:a.disabled}),F.a.createElement(M.a,{title:"Campaign List"}),F.a.createElement("div",{className:"base-wr"},F.a.createElement("div",{className:"base-style"},F.a.createElement(Z,{changeSearch:e=>{const a=Object(d.a)(Object(d.a)({},e),{},{page_size:10,start_row:0,search:e});c(a)},loading:a.loading})),F.a.createElement(E.a,null,F.a.createElement(h.a,{span:24},F.a.createElement("div",{className:"base-style"},F.a.createElement(E.a,null,F.a.createElement(h.a,{span:24,style:{textAlign:"right",marginBottom:"15px"}},F.a.createElement(g.a,{type:"primary",onClick:()=>{e.history.push({pathname:"/createCampaign/0",query:{}}),sessionStorage.setItem("query",JSON.stringify({}))}},"New Campaign"),F.a.createElement(g.a,{type:"primary",onClick:()=>{e.history.push({pathname:"/createCampaignNew/0",query:{}}),sessionStorage.setItem("query",JSON.stringify({}))}},"New Campaign 2.0"))),F.a.createElement(i.a,{columns:X(e=>{let a;console.log("data.is_new_campaign",e.is_new_campaign),a=e.is_new_campaign?D.a+"/createCampaignNew/"+e.id:D.a+"/createCampaign/"+e.id,window.open(a,"_blank").focus()},e=>{t(Object(d.a)(Object(d.a)({},a),{},{visible:!0,formData:e}))}),expandable:{expandedRowRender:e=>{console.log("expandedRowRender",e);return F.a.createElement(i.a,{columns:(e=>[{title:"Action",dataIndex:"edit",key:"edit",width:100,align:"center",render:(a,t)=>F.a.createElement("a",{className:"action-btn",onClick:()=>{e(t)}},F.a.createElement(J.a,null),F.a.createElement("span",{style:{marginLeft:"4px"}},"Edit"))},{title:"Campaign ID",dataIndex:"id",key:"id",width:100,align:"center",render:(e,a)=>F.a.createElement("span",{className:"table-id"},e)},{title:"Campaign title",dataIndex:"title",key:"title",align:"center",render:(e,a)=>F.a.createElement(O.a,{title:e},F.a.createElement("div",{style:{width:"300px"}},e))},{title:"Language",dataIndex:"language",key:"language",align:"center",render:(e,a)=>F.a.createElement("span",null,1==e?"English":2==e?"French":3==e?"Spanish":4==e?"Polish":5==e?"Portuguese":"")},{title:"Campaign type",dataIndex:"type",key:"type",align:"center",render:(e,a)=>1==e?F.a.createElement("span",{className:"table-row-p"},F.a.createElement(H.a,{style:{color:"#868AF6",fontSize:"13px",marginRight:"3px"}}),"CPA"):3==e?F.a.createElement("span",{className:"table-row-green"},F.a.createElement(H.a,{style:{color:"#18BFA4",fontSize:"13px",marginRight:"3px"}}),"Branding"):4==e?F.a.createElement("span",{className:"table-row-red"},F.a.createElement(H.a,{style:{color:"#f85c5a",fontSize:"13px",marginRight:"3px"}}),"abComo"):null},{title:"Banner",dataIndex:"banner",key:"banner",align:"center",render:(e,a)=>F.a.createElement("div",{style:{display:"flex"}},e&&JSON.parse(e).map((e,a)=>F.a.createElement("a",{href:e,target:"_blank"},F.a.createElement("img",{src:e,key:a,style:{width:"60px",marginLeft:"5px"}}))))},{title:"Campaign status",dataIndex:"status",key:"status",align:"center",render:(e,a)=>F.a.createElement("div",{style:{width:"200px"}},F.a.createElement(k.a,{status:1==e||2==e?"success":4==e?"processing":0==e?"error":"default"}),F.a.createElement("span",null,0==e?"Campaign expired":1==e?"Campaign Posting":2==e?"Campaign Onging":3==e?"Campaign Created":4==e?"Campaign Draft":5==e?"Campaign on hold":""))},{title:"Created by",dataIndex:"created_by",key:"created_by",align:"center",render:(e,a)=>F.a.createElement("div",{style:{width:"150px"}},F.a.createElement(K.a,{name:e,style:{display:"inline-block"}}),F.a.createElement("span",null,e))},{title:"Code left",dataIndex:"surplus_code_number",key:"surplus_code_number",align:"center",render:(e,a)=>e<10&&1==a.language?F.a.createElement("span",{style:{color:"rgb(232,18,18)"}},"!",e):F.a.createElement("span",null,e)},{title:"With Sample",dataIndex:"with_sample",key:"with_sample",width:"100",align:"center",render:(e,a)=>1==e?F.a.createElement("span",{className:"table-row-no"},F.a.createElement(T.a,{style:{color:"#f85c5a",fontSize:"13px",marginRight:"3px"}}),"no"):F.a.createElement("span",{className:"table-row-yes"},F.a.createElement(q.a,{style:{color:"#33d6bb",fontSize:"13px",marginRight:"3px"}}),"yes")},{title:"Pin",dataIndex:"set_top",key:"set_top",align:"center",width:"100",render:(e,a)=>1==e?F.a.createElement("span",{className:"table-row-no"},F.a.createElement(T.a,{style:{color:"#f85c5a",fontSize:"13px",marginRight:"3px"}}),"no"):F.a.createElement("span",{className:"table-row-yes"},F.a.createElement(q.a,{style:{color:"#33d6bb",fontSize:"13px",marginRight:"3px"}}),"yes")},{title:"Country",dataIndex:"country_list",key:"country_list",width:"100",align:"center",render:(e,a)=>F.a.createElement(F.a.Fragment,null,e&&JSON.parse(e).map((e,a)=>F.a.createElement("span",{className:"table-id",key:a},e.toUpperCase())))},{title:"Start",dataIndex:"start_time",key:"start_time",align:"center"},{title:"End",dataIndex:"close_time",key:"close_time",align:"center"},{title:"Merchant",dataIndex:"merchant_name",key:"merchant_name",align:"center",width:100,render:(e,a)=>F.a.createElement("div",null,F.a.createElement(_.a,{src:a.merchant,style:{maxHeight:60,overflow:"hidden"}}),F.a.createElement("span",null,e))}])(e=>{let a;console.log("data.is_new_campaign",e.is_new_campaign),a=e.is_new_campaign?D.a+"/createCampaignNew/"+e.id:D.a+"/createCampaign/"+e.id,window.open(a,"_blank").focus()}),dataSource:e.childCampaignList,pagination:!1,bordered:!0})}},rowKey:e=>e.key,dataSource:a.list,bordered:!0,size:"small",onChange:e=>{const t=Object(d.a)(Object(d.a)({},a.search),{},{search:a.search,page_size:e.pageSize,start_row:e.pageSize*(e.current-1)});console.log("changepaams",t),c(t)},loading:a.loading,pagination:a.pagination,scroll:{scrollToFirstRowOnChange:!0,x:1e3}}))))))};a.default=ee},597:function(e,a,t){"use strict";var n=t(39),l=t(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},i=t(54),c=function(e,a){return l.createElement(i.a,Object(n.a)(Object(n.a)({},e),{},{ref:a,icon:r}))},s=l.forwardRef(c);a.a=s},718:function(e,a,t){"use strict";var n=t(39),l=t(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},i=t(54),c=function(e,a){return l.createElement(i.a,Object(n.a)(Object(n.a)({},e),{},{ref:a,icon:r}))},s=l.forwardRef(c);a.a=s}}]);