(this["webpackJsonpreact-admin"]=this["webpackJsonpreact-admin"]||[]).push([[48],{1016:function(e,a,t){"use strict";var n=t(39),l=t(0),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M476 399.1c0-3.9-3.1-7.1-7-7.1h-42c-3.8 0-7 3.2-7 7.1V484h-84.5c-4.1 0-7.5 3.1-7.5 7v42c0 3.8 3.4 7 7.5 7H420v84.9c0 3.9 3.2 7.1 7 7.1h42c3.9 0 7-3.2 7-7.1V540h84.5c4.1 0 7.5-3.2 7.5-7v-42c0-3.9-3.4-7-7.5-7H476v-84.9zM560.5 704h-225c-4.1 0-7.5 3.2-7.5 7v42c0 3.8 3.4 7 7.5 7h225c4.1 0 7.5-3.2 7.5-7v-42c0-3.8-3.4-7-7.5-7zm-7.1-502.6c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v704c0 17.7 14.3 32 32 32h512c17.7 0 32-14.3 32-32V397.3c0-8.5-3.4-16.6-9.4-22.6L553.4 201.4zM664 888H232V264h282.2L664 413.8V888zm190.2-581.4L611.3 72.9c-6-5.7-13.9-8.9-22.2-8.9H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h277l219 210.6V824c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V329.6c0-8.7-3.5-17-9.8-23z"}}]},name:"diff",theme:"outlined"},r=t(54),s=function(e,a){return l.createElement(r.a,Object(n.a)(Object(n.a)({},e),{},{ref:a,icon:c}))},i=l.forwardRef(s);a.a=i},1017:function(e,a,t){"use strict";var n=t(39),l=t(0),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"},r=t(54),s=function(e,a){return l.createElement(r.a,Object(n.a)(Object(n.a)({},e),{},{ref:a,icon:c}))},i=l.forwardRef(s);a.a=i},1956:function(e,a,t){"use strict";t.r(a);t(58);var n=t(59),l=t.n(n),c=(t(83),t(84)),r=t.n(c),s=(t(77),t(70)),i=t.n(s),m=t(68),o=(t(94),t(95)),d=t.n(o),u=(t(56),t(55)),E=t.n(u),g=(t(63),t(66)),p=t.n(g),h=(t(64),t(67)),b=t.n(h),f=(t(74),t(75)),v=t.n(f),O=(t(69),t(72)),y=t.n(O),S=(t(465),t(466)),j=t.n(S),w=(t(278),t(282)),C=t.n(w),x=(t(289),t(140)),T=t.n(x),k=(t(408),t(426)),z=t.n(k),I=(t(375),t(352)),A=t.n(I),L=(t(393),t(394)),R=t.n(L),_=(t(62),t(65)),N=t.n(_),D=(t(79),t(80)),K=t.n(D),M=t(0),P=t.n(M),H=t(76),V=(t(116),t(60)),F=t(103),J=t(122),B=(t(12),t(78)),q=t.n(B),U=t(1016),G=t(39),Q={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M676.4 528.95L293.2 829.97c-14.25 11.2-35.2 1.1-35.2-16.95V210.97c0-18.05 20.95-28.14 35.2-16.94l383.2 301.02a21.53 21.53 0 010 33.9M694 864h64a8 8 0 008-8V168a8 8 0 00-8-8h-64a8 8 0 00-8 8v688a8 8 0 008 8"}}]},name:"step-forward",theme:"outlined"},W=t(54),X=function(e,a){return M.createElement(W.a,Object(G.a)(Object(G.a)({},e),{},{ref:a,icon:Q}))};var Y=M.forwardRef(X),Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M442.3 677.6l199.4-156.7a11.3 11.3 0 000-17.7L442.3 346.4c-7.4-5.8-18.3-.6-18.3 8.8v313.5c0 9.4 10.9 14.7 18.3 8.9z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"play-square",theme:"outlined"},$=function(e,a){return M.createElement(W.a,Object(G.a)(Object(G.a)({},e),{},{ref:a,icon:Z}))};var ee=M.forwardRef($),ae=t(319),te=t(1017),ne=t(2003);const{MonthPicker:le,RangePicker:ce}=K.a,{Option:re}=N.a,{TabPane:se}=R.a,ie=([{label:"\u5f85\u5904\u7406",value:"to_handle"},{label:"\u5df2\u5904\u7406",value:"handled"}].map((e,a)=>P.a.createElement(re,{key:a,value:e.value},e.label)),(e,a,t)=>[{title:"operation",dataIndex:"edit",key:"edit",width:"100",align:"center",render:(a,n)=>{const l=P.a.createElement(A.a,null,P.a.createElement(A.a.Item,null,P.a.createElement("a",{onClick:()=>{e(n)}},P.a.createElement(U.a,null),P.a.createElement("span",{style:{marginLeft:"4px"}},"detail"))),P.a.createElement(A.a.Item,null,P.a.createElement("a",{onClick:()=>{t(n,"2")}},P.a.createElement(Y,null),P.a.createElement("span",{style:{marginLeft:"4px"}},"Start"))),P.a.createElement(A.a.Item,null,P.a.createElement("a",{onClick:()=>{t(n,"3")}},P.a.createElement(ee,null),P.a.createElement("span",{style:{marginLeft:"4px"}},"Paused"))),P.a.createElement(A.a.Item,null,P.a.createElement("a",{onClick:()=>{t(n,"5")}},P.a.createElement(ae.a,null),P.a.createElement("span",{style:{marginLeft:"4px"}},"Cancel"))));return P.a.createElement(z.a,{overlay:l,style:{width:"150px"}},P.a.createElement("a",{className:"ant-dropdown-link",onClick:e=>e.preventDefault()},P.a.createElement(te.a,{style:{fontSize:"25px",color:"#000"}})))}},{title:"Category",dataIndex:"category",key:"category",width:"100",align:"center",render:(e,a)=>P.a.createElement("span",{className:"table-row-p"},P.a.createElement(ne.a,{style:{color:"#868AF6",fontSize:"13px",marginRight:"3px"}}),e)},{title:"Language",dataIndex:"language",key:"language",width:"100",align:"center",render:(e,a)=>P.a.createElement("span",{className:"table-row-red"},P.a.createElement(ne.a,{style:{color:"#f85c5a",fontSize:"13px",marginRight:"3px"}}),e)},{title:"Title",dataIndex:"title",key:"title",align:"center",render:(e,a)=>P.a.createElement(T.a,{title:e},P.a.createElement("div",{style:{width:"300px"}},e))},{title:"Source File",dataIndex:"source_file",key:"source_file",width:200,align:"left",render:(e,a)=>P.a.createElement("a",{href:e},e)},{title:"Create Time",dataIndex:"create_time",key:"create_time",width:200,align:"center",render:(e,a)=>P.a.createElement("span",null,Object(J.c)(e))},{title:"Update Time",dataIndex:"update_time",key:"update_time",width:200,align:"center",render:(e,a)=>P.a.createElement("span",null,Object(J.c)(e))},{title:"Status",dataIndex:"status",key:"status",align:"center",width:"100",render:(e,a)=>P.a.createElement("div",null,P.a.createElement(C.a,{status:4==e||5==e?"default":4==e?"error":"success"}),P.a.createElement("span",null,0==e?"TASK CREATED":1==e?"TASK IN SCHEDULE":2==e?"TASK IN PROGRESS":3==e?"TASK PAUSED":4==e?"TASK ERROR":5==e?"TASK CANCELLED":"TASK COMPLETED"))},{title:"Progress (%)",dataIndex:"progress",key:"progress",align:"center",width:180,render:(e,a)=>P.a.createElement(j.a,null)}]),me={labelCol:{span:8},wrapperCol:{span:16}},oe=e=>{const[a]=y.a.useForm();return P.a.createElement(y.a,Object.assign({},me,{form:a,name:"advanced_search",className:"ant-advanced-search-form",onFinish:a=>{e.changeSearch(a)}}),P.a.createElement(p.a,{gutter:24},P.a.createElement(b.a,{span:8},P.a.createElement(y.a.Item,{name:"id",label:"ID"},P.a.createElement(v.a,null))),P.a.createElement(b.a,{span:8},P.a.createElement(y.a.Item,{name:"title",label:"Title"},P.a.createElement(v.a,null))),P.a.createElement(b.a,{span:8},P.a.createElement(y.a.Item,{name:"category",label:"Category"},P.a.createElement(v.a,null)))),P.a.createElement(p.a,{gutter:24},P.a.createElement(b.a,{span:8},P.a.createElement(y.a.Item,{name:"language",label:"Language"},P.a.createElement(v.a,null))),P.a.createElement(b.a,{span:8},P.a.createElement(y.a.Item,{name:"created_by",label:"Created by"},P.a.createElement(v.a,null))),P.a.createElement(b.a,{span:8},P.a.createElement(y.a.Item,{name:"status",label:"Status"},P.a.createElement(N.a,null,P.a.createElement(re,{value:0},"TASK CREATED"),P.a.createElement(re,{value:1},"TASK IN SCHEDULE"),P.a.createElement(re,{value:2},"TASK IN PROGRESS"),P.a.createElement(re,{value:3},"TASK PAUSED"),P.a.createElement(re,{value:4},"TASK ERROR"),P.a.createElement(re,{value:5},"TASK CANCELLED"),P.a.createElement(re,{value:6},"TASK COMPLETED"))))),P.a.createElement(p.a,null,P.a.createElement(b.a,{span:24,style:{textAlign:"right"}},P.a.createElement(E.a,{type:"primary",htmlType:"submit",loading:e.loading},"Search"),P.a.createElement(E.a,{style:{margin:"0 8px"},onClick:()=>{a.resetFields()}},"Reset"))))},de=e=>{let{visible:a,onCreate:t,onCancel:n,formData:l,disabled:c}=e;const[r]=y.a.useForm(),[s,i]=Object(M.useState)({}),[m,o]=Object(M.useState)(!1);Object(M.useEffect)(()=>{Object.keys(l).length?r.setFieldsValue(l):r.resetFields()},[]);return P.a.createElement(d.a,{visible:a,title:"\u521b\u5efa\u9080\u8bf7\u7801",okText:"Submit",cancelText:"Cancel",onCancel:n,onOk:()=>{r.validateFields().then(e=>{r.resetFields(),t(e)}).catch(e=>{console.log("Validate Failed:",e)})}},P.a.createElement(y.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:14}},{form:r,name:"form_in_modal"}),P.a.createElement(y.a.Item,{name:"email",label:"email",rules:[{required:!0}]},P.a.createElement(v.a,null))))};var ue=e=>{const[a,t]=Object(M.useState)({list:[],pagination:{current:1,pageSize:10},search:{},loading:!0,visible:!1,disabled:!1,formData:{}}),[n,c]=Object(M.useState)({visible:!1,data:{}});Object(M.useEffect)(()=>{const{pagination:e}=a,t={start_row:0,page_size:a.pagination.pageSize};s(t)},[]);const s=e=>{const{pagination:n,search:l}=a;t(Object(m.a)(Object(m.a)({},a),{},{loading:!0})),Object(V.tb)({postTaskJson:JSON.stringify(Object(J.a)(e))}).then(e=>{t(Object(m.a)(Object(m.a)({},a),{},{visible:!1,list:e.data.list&&Object(F.getKeyList)(e.data.list),loading:!1,pagination:{total:e.data.pager.total}}))}).catch(e=>{console.log("err",e)})};return P.a.createElement(l.a,{className:"animated fadeIn"},P.a.createElement(de,{visible:a.visible,onCreate:e=>{console.log("data",e),Object(V.j)(e).then(e=>{i.a.success("\u521b\u5efa\u6210\u529f");const t=Object(m.a)({},a.search);s(t)}).catch(e=>{console.log("err",e)})},onCancel:()=>{t(Object(m.a)(Object(m.a)({},a),{},{visible:!1}))},formData:a.formData,disabled:a.disabled}),P.a.createElement("div",{className:"web-bread-c"},P.a.createElement(H.a,{arr:["Post List"]}),P.a.createElement("h3",null,"Post List"),P.a.createElement("img",{src:q.a,className:"aset",alt:"aset"})),P.a.createElement("div",{className:"base-wr"},P.a.createElement("div",{className:"base-style"},P.a.createElement(oe,{changeSearch:e=>{const n=Object(m.a)(Object(m.a)({},e),{},{page_size:10,start_row:0});t(Object(m.a)(Object(m.a)({},a),e)),s(n)},loading:a.loading})),P.a.createElement(p.a,null,P.a.createElement(b.a,{span:24},P.a.createElement("div",{className:"base-style"},P.a.createElement(p.a,null,P.a.createElement(b.a,{span:24,style:{textAlign:"right",marginBottom:"15px"}},P.a.createElement(E.a,{onClick:()=>{e.history.push({pathname:"/postManagement/create_post/0",query:{}})},type:"primary"},"Create Post"))),P.a.createElement(r.a,{columns:ie(a=>{console.log("data",a),e.history.push({pathname:"/postManagement/create_post/"+a.id,query:Object(m.a)({},a)}),sessionStorage.setItem("query",JSON.stringify(a))},0,(e,t)=>{let n=e.id;Object(V.hc)({postTaskJson:JSON.stringify({id:n,status:t})}).then(e=>{const t={start_row:0,page_size:a.pagination.pageSize};s(t)})}),dataSource:a.list,onChange:e=>{const t=Object(m.a)(Object(m.a)({},a.search),{},{page_size:e.pageSize,start_row:e.pageSize*(e.current-1)});s(t)},bordered:!0,size:"small",loading:a.loading,pagination:a.pagination,scroll:{scrollToFirstRowOnChange:!0,x:1e3}}))))))};a.default=ue},319:function(e,a,t){"use strict";var n=t(39),l=t(0),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},r=t(54),s=function(e,a){return l.createElement(r.a,Object(n.a)(Object(n.a)({},e),{},{ref:a,icon:c}))},i=l.forwardRef(s);a.a=i}}]);