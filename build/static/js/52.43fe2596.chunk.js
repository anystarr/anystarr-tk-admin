(this["webpackJsonpreact-admin"]=this["webpackJsonpreact-admin"]||[]).push([[52],{1959:function(e,a,t){"use strict";t.r(a);t(58);var n=t(59),c=t.n(n),l=(t(83),t(84)),s=t.n(l),r=(t(220),t(221)),i=t.n(r),o=(t(77),t(70)),d=t.n(o),m=t(68),u=(t(94),t(95)),g=t.n(u),p=(t(63),t(66)),b=t.n(p),E=(t(64),t(67)),h=t.n(E),f=(t(74),t(75)),O=t.n(f),v=(t(69),t(72)),j=t.n(v),w=(t(278),t(282)),y=t.n(w),C=(t(56),t(55)),k=t.n(C),x=(t(62),t(65)),S=t.n(x),_=(t(79),t(80)),I=t.n(_),z=t(0),U=t.n(z),L=t(76),N=(t(116),t(60)),R=t(103),F=t(2002),J=t(516),D=t(39),T={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M624 706.3h-74.1V464c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v242.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.7a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-download",theme:"outlined"},A=t(54),M=function(e,a){return z.createElement(A.a,Object(D.a)(Object(D.a)({},e),{},{ref:a,icon:T}))};var V=z.forwardRef(M),B=t(372),H=t(135),K=t.n(H),P=t(78),q=t.n(P),G=t(122);const{MonthPicker:Q,RangePicker:W}=I.a,{Option:X}=S.a,Y=[{label:"Active",value:"1"},{label:"Banned",value:"2"},{label:"Locked",value:"5"}].map((e,a)=>U.a.createElement(X,{key:a,value:e.value},e.label)),Z=(e,a,t,n)=>[{title:"Action",dataIndex:"id1",key:"id1",align:"center",render:(a,t)=>U.a.createElement("a",{className:"action-btn",onClick:()=>{e(t)}},U.a.createElement(F.a,null),U.a.createElement("span",{style:{marginLeft:"4px"}},"Edit"))},{title:"User ID",dataIndex:"id",key:"id",align:"center",render:(e,a)=>U.a.createElement("span",{className:"table-id"},e)},{title:"send active email",dataIndex:"sendEmail",key:"sendEmail",align:"center",render:(e,a)=>6==a.status?U.a.createElement(k.a,{type:"primary",size:"small",loading:n.loading&&n.id===a.id,onClick:()=>{t(a.id)}},"send"):null},{title:"Email",dataIndex:"email",key:"email",align:"center"},{title:"Invitation code",dataIndex:"invitation_code",key:"invitation_code",align:"center"},{title:"User status",dataIndex:"status",key:"status",align:"center",render:(e,t)=>U.a.createElement("div",{style:{cursor:"pointer",width:"120px"},onClick:()=>{a(t)}},U.a.createElement(y.a,{status:1==e?"success":6==e?"processing":3==e?"error":"default"}),U.a.createElement("span",null,1==e?"Active":2==e?"Banne":3==e?"DELETED":4==e?"INACTIVE":5==e?"LOCKED":6==e?"Created":""))},{title:"Created on",dataIndex:"create_time",key:"create_time",align:"center"}],$={labelCol:{span:8},wrapperCol:{span:16}},ee=e=>{const[a]=j.a.useForm();return U.a.createElement(j.a,Object.assign({},$,{form:a,name:"advanced_search",className:"ant-advanced-search-form",onFinish:a=>{e.changeSearch(a)}}),U.a.createElement(b.a,{gutter:24},U.a.createElement(h.a,{span:8},U.a.createElement(j.a.Item,{name:"email",label:"Email"},U.a.createElement(O.a,null))),U.a.createElement(h.a,{span:8},U.a.createElement(j.a.Item,{name:"id",label:"User ID"},U.a.createElement(O.a,null)))),U.a.createElement(b.a,null,U.a.createElement(h.a,{span:24,style:{textAlign:"right"}},U.a.createElement(k.a,{icon:U.a.createElement(J.a,null),type:"primary",htmlType:"submit",loading:e.loading},"Search"),U.a.createElement(k.a,{style:{margin:"0 8px"},onClick:()=>{a.resetFields()}},"Reset"))))},ae=e=>{let{visible:a,onCreate:t,onCancel:n}=e;const[c]=j.a.useForm(),[l,s]=Object(z.useState)({}),[r,i]=Object(z.useState)(!1);return Object(z.useEffect)(()=>{},[]),U.a.createElement(g.a,{visible:a,title:"",okText:"Submit",cancelText:"Cancel",onCancel:n,onOk:()=>{c.validateFields().then(e=>{c.resetFields(),t(e)}).catch(e=>{console.log("Validate Failed:",e)})}},U.a.createElement(j.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:14}},{form:c,name:"form_in_modal"}),U.a.createElement(j.a.Item,{name:"status",label:"status",rules:[{required:!0}]},U.a.createElement(S.a,null,Y))))};var te=e=>{const[a,t]=Object(z.useState)({list:[],pagination:{current:1,pageSize:10},search:{},loading:!0,visible:!1,disabled:!1,formData:{},startRow:0,userId:"",downloadUserUrl:""}),[n,l]=Object(z.useState)({visible:!1,data:{}}),[r,o]=Object(z.useState)({loading:!1,id:-1});Object(z.useEffect)(()=>{const{pagination:e}=a,t={start_row:0,page_size:a.pagination.pageSize};u(t)},[]);const u=e=>{const{pagination:n,search:c}=a;console.log("paramslist",e);let l=Object(N.O)(),s=JSON.stringify(Object(m.a)({},a.search)),r="".concat(l,"?userJson=").concat(s);t(Object(m.a)(Object(m.a)({},a),{},{loading:!0})),Object(N.Tb)({userJson:JSON.stringify(Object(G.a)(e))}).then(e=>{t(Object(m.a)(Object(m.a)({},a),{},{list:e.data.list&&Object(R.getKeyList)(e.data.list),loading:!1,startRow:e.data.pager.start_row,visible:!1,pagination:{total:e.data.pager.total},downloadUserUrl:encodeURI(r)}))}).catch(e=>{console.log("err",e)})};return U.a.createElement(c.a,{className:"animated fadeIn"},U.a.createElement(ae,{visible:a.visible,onCreate:e=>{console.log("data",e);let t=a.userId;Object(N.kc)({userJson:JSON.stringify({id:t,status:e.status})}).then(a=>{const t={page_size:10,start_row:0,status:e.prevStatus};u(t)}).catch(e=>{console.log("err",e)})},onCancel:()=>{t(Object(m.a)(Object(m.a)({},a),{},{visible:!1}))}}),U.a.createElement("div",{className:"web-bread-c"},U.a.createElement(L.a,{arr:["User List"]}),U.a.createElement("h3",null,"User List"),U.a.createElement("img",{src:q.a,className:"aset"})),U.a.createElement("div",{className:"base-wr"},U.a.createElement("div",{className:"base-style"},U.a.createElement(ee,{changeSearch:e=>{const n=Object(m.a)(Object(m.a)({},e),{},{page_size:a.pagination.pageSize,start_row:0});t(Object(m.a)(Object(m.a)({},a),e)),u(n)},loading:a.loading})),U.a.createElement(b.a,null,U.a.createElement(h.a,{span:24},U.a.createElement("div",{className:"base-style"},U.a.createElement(b.a,null,U.a.createElement(h.a,{span:24,style:{textAlign:"right",marginBottom:"15px"}},U.a.createElement("a",{style:{backgroundColor:"#1890ff",color:"#fff",padding:"8px 15px",marginLeft:"10px"},href:a.downloadUserUrl,type:"download"},U.a.createElement(V,null),U.a.createElement("span",{style:{marginLeft:"5px"}},"Download User")),U.a.createElement(k.a,{type:"primary",onClick:()=>{e.history.push("/add_user")},style:{marginLeft:"10px"}},"+ Create Account"),U.a.createElement(i.a,{customRequest:e=>{let{file:t,onSuccess:n}=e;window.confirm("Please confirm info is correct")&&Object(N.Jc)({file:t}).then(e=>{d.a.success("success");const t={start_row:0,page_size:a.pagination.pageSize};u(t)})}},U.a.createElement(k.a,{style:{marginLeft:"10px"},icon:U.a.createElement(B.a,null)},"Click to Upload File To Create")))),U.a.createElement(s.a,{columns:Z(e=>{var a=K.a+"/userDetail/"+e.id;window.open(a,"_blank").focus()},e=>{console.log("changeStatus",e),t(Object(m.a)(Object(m.a)({},a),{},{visible:!0,userId:e.id}))},e=>{console.log("id",e),console.log("state",a),o({loading:!0,id:e}),Object(N.uc)({id:e}).then(e=>{d.a.success("success");const t={page_size:10,start_row:a.startRow};u(t),o(Object(m.a)(Object(m.a)({},r),{},{loading:!1}))})},r),rowKey:e=>e.key,dataSource:a.list,onChange:e=>{const t=Object(m.a)(Object(m.a)({},a.search),{},{page_size:e.pageSize,start_row:e.pageSize*(e.current-1)});u(t)},rowSelection:Object(m.a)({type:"checkbox"},()=>{}),bordered:!0,loading:a.loading,pagination:a.pagination,scroll:{scrollToFirstRowOnChange:!0,x:1e3}}))))))};a.default=te},372:function(e,a,t){"use strict";var n=t(39),c=t(0),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},s=t(54),r=function(e,a){return c.createElement(s.a,Object(n.a)(Object(n.a)({},e),{},{ref:a,icon:l}))},i=c.forwardRef(r);a.a=i},516:function(e,a,t){"use strict";var n=t(39),c=t(0),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},s=t(54),r=function(e,a){return c.createElement(s.a,Object(n.a)(Object(n.a)({},e),{},{ref:a,icon:l}))},i=c.forwardRef(r);a.a=i}}]);