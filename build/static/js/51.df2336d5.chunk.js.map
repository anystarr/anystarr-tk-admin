{"version":3,"sources":["../node_modules/@ant-design/icons-svg/es/asn/CloudDownloadOutlined.js","../node_modules/@ant-design/icons/es/icons/CloudDownloadOutlined.js","views/Account/Account.jsx","views/Account/index.js","../node_modules/@ant-design/icons-svg/es/asn/UploadOutlined.js","../node_modules/@ant-design/icons/es/icons/UploadOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/SearchOutlined.js","../node_modules/@ant-design/icons/es/icons/SearchOutlined.js"],"names":["CloudDownloadOutlined","props","ref","React","AntdIcon","Object","assign","icon","CloudDownloadOutlinedSvg","displayName","Option","MonthPicker","RangePicker","StatusOptions","label","value","map","option","index","key","columns","edit","changeStatus","sendEmail","emailLoading","title","dataIndex","align","render","text","item","className","onClick","FormOutlined","style","marginLeft","status","type","size","loading","id","cursor","width","searchLayout","labelCol","span","wrapperCol","SearchBar","useForm","form","name","onFinish","values","changeSearch","gutter","Item","textAlign","SearchOutlined","htmlType","margin","resetFields","DetailModal","visible","onCreate","onCancel","useState","useEffect","okText","cancelText","onOk","validateFields","then","catch","info","console","log","rules","required","SearchTableView","list","pagination","current","pageSize","search","disabled","formData","startRow","userId","downloadUserUrl","state","setState","data","setEmailLoading","params","start_row","page_size","getList","apiHref","APIDownloadUserNew","json","JSON","stringify","resHref","APIGetUserList","userJson","getCleanedParams","resp","getKeyList","pager","total","encodeURI","err","APIModifyUserStatus","prevStatus","WebBreadcrumb","arr","src","Aset","marginBottom","backgroundColor","color","padding","href","history","push","customRequest","file","onSuccess","window","confirm","APIbatchUploadUserList","success","UploadOutlined","url","webhost","open","focus","APISendActiveEmail","rowKey","record","dataSource","onChange","rowSelection","bordered","scroll","scrollToFirstRowOnChange","x","Account","UploadOutlinedSvg","SearchOutlinedSvg"],"mappings":"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","file":"static/js/51.df2336d5.chunk.js","sourcesContent":["// This icon file is generated automatically.\nvar CloudDownloadOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M624 706.3h-74.1V464c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v242.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.7a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z\" } }] }, \"name\": \"cloud-download\", \"theme\": \"outlined\" };\nexport default CloudDownloadOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport CloudDownloadOutlinedSvg from \"@ant-design/icons-svg/es/asn/CloudDownloadOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar CloudDownloadOutlined = function CloudDownloadOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: CloudDownloadOutlinedSvg\n  }));\n};\n\nCloudDownloadOutlined.displayName = 'CloudDownloadOutlined';\nexport default /*#__PURE__*/React.forwardRef(CloudDownloadOutlined);","import React, { Component, useEffect, useState } from 'react'\nimport WebBreadcrumb from '@/components/WebBreadcrumb'\nimport {\n    Layout,\n    Row,\n    Col,\n    Tag,\n    Table,\n    Button,\n    Modal,\n    Input,\n    Form,\n    DatePicker,\n    Select,\n    message,\n    Upload,\n    Badge\n} from 'antd'\nimport '@/style/view-style/table.less'\nimport {\n    APIexportRewardRecord,\n    APIGetUserList,\n    APIDownloadUser,\n    APIModifyUserStatus,\n    APIbatchUploadUserList,\n    APIDownloadUserNew,\n    APISendActiveEmail\n} from '@/mapi'\nimport { getKeyList } from '@/tools/action.js'\nimport { UploadOutlined, FormOutlined, CloudDownloadOutlined, SearchOutlined } from '@ant-design/icons'\nimport webhost from '@/tools/webhost.js'\nimport Aset from '@/imgs/aset1.png'\nimport { getYearMonthDayTimeNew, getCleanedParams } from '@/tools/help.js'\nconst { MonthPicker, RangePicker } = DatePicker\nconst { Option } = Select\n\nconst statusList = [\n    { label: 'Active', value: '1' },\n    { label: 'Banned', value: '2' },\n    { label: 'Locked', value: '5' }\n]\n\nconst StatusOptions = statusList.map((option, index) => {\n    return (\n        <Option key={index} value={option.value}>\n            {option.label}\n        </Option>\n    )\n})\n\nconst getLocalTime = nS => {\n    return new Date(Date.parse(nS)).toLocaleString().replace(/:\\d{1,2}$/, ' ')\n}\n\nconst columns = (edit, changeStatus, sendEmail, emailLoading) => [\n    {\n        title: 'Action',\n        dataIndex: 'id1',\n        key: 'id1',\n        align: 'center',\n        render: (text, item) => (\n            <a\n                className='action-btn'\n                onClick={() => {\n                    edit(item)\n                }}>\n                <FormOutlined />\n                <span style={{ marginLeft: '4px' }}>Edit</span>\n            </a>\n        )\n    },\n    {\n        title: 'User ID',\n        dataIndex: 'id',\n        key: 'id',\n        align: 'center',\n        render: (text, item) => <span className='table-id'>{text}</span>\n    },\n    {\n        title: 'send active email',\n        dataIndex: 'sendEmail',\n        key: 'sendEmail',\n        align: 'center',\n        render: (text, item) =>\n            item.status == 6 ? (\n                <Button\n                    type='primary'\n                    size='small'\n                    loading={emailLoading.loading && emailLoading.id === item.id}\n                    onClick={() => {\n                        sendEmail(item.id)\n                    }}>\n                    send\n                </Button>\n            ) : null\n    },\n    {\n        title: 'Email',\n        dataIndex: 'email',\n        key: 'email',\n        align: 'center'\n    },\n    {\n        title: 'Invitation code',\n        dataIndex: 'invitation_code',\n        key: 'invitation_code',\n        align: 'center'\n    },\n    {\n        title: 'User status',\n        dataIndex: 'status',\n        key: 'status',\n        align: 'center',\n        render: (text, item) => (\n            <div\n                style={{ cursor: 'pointer', width: '120px' }}\n                onClick={() => {\n                    changeStatus(item)\n                }}>\n                <Badge status={text == 1 ? 'success' : text == 6 ? 'processing' : text == 3 ? 'error' : 'default'} />\n                <span>\n                    {text == 1\n                        ? 'Active'\n                        : text == 2\n                        ? 'Banne'\n                        : text == 3\n                        ? 'DELETED'\n                        : text == 4\n                        ? 'INACTIVE'\n                        : text == 5\n                        ? 'LOCKED'\n                        : text == 6\n                        ? 'Created'\n                        : ''}\n                </span>\n            </div>\n        )\n    },\n    {\n        title: 'Created on',\n        dataIndex: 'create_time',\n        key: 'create_time',\n        align: 'center'\n        // render: (text, item) => <span>{getLocalTime(item.create_time)}</span>\n    }\n]\n\nconst searchLayout = {\n    labelCol: {\n        span: 8\n    },\n    wrapperCol: {\n        span: 16\n    }\n}\n\nconst SearchBar = props => {\n    const [form] = Form.useForm()\n\n    const onFinish = values => {\n        props.changeSearch(values)\n    }\n\n    return (\n        <Form\n            {...searchLayout}\n            form={form}\n            name='advanced_search'\n            className='ant-advanced-search-form'\n            onFinish={onFinish}>\n            <Row gutter={24}>\n                <Col span={8}>\n                    <Form.Item name='email' label='Email'>\n                        <Input />\n                    </Form.Item>\n                </Col>\n                <Col span={8}>\n                    <Form.Item name='id' label='User ID'>\n                        <Input />\n                    </Form.Item>\n                </Col>\n            </Row>\n            <Row>\n                <Col span={24} style={{ textAlign: 'right' }}>\n                    <Button icon={<SearchOutlined />} type='primary' htmlType='submit' loading={props.loading}>\n                        Search\n                    </Button>\n                    <Button\n                        style={{ margin: '0 8px' }}\n                        onClick={() => {\n                            form.resetFields()\n                        }}>\n                        Reset\n                    </Button>\n                </Col>\n            </Row>\n        </Form>\n    )\n}\n\nconst DetailModal = ({ visible, onCreate, onCancel }) => {\n    const [form] = Form.useForm()\n\n    const [user, setUser] = useState({})\n    const [allMemVisible, setAllMemVisible] = useState(false)\n\n    const layout = {\n        labelCol: { span: 6 },\n        wrapperCol: { span: 14 }\n    }\n    const rangeConfig = {\n        rules: [\n            {\n                type: 'array',\n                message: 'Please select time!'\n            }\n        ]\n    }\n\n    useEffect(() => {}, [])\n\n    return (\n        <Modal\n            visible={visible}\n            title=''\n            okText='Submit'\n            cancelText='Cancel'\n            onCancel={onCancel}\n            onOk={() => {\n                form.validateFields()\n                    .then(values => {\n                        form.resetFields()\n                        onCreate(values)\n                    })\n                    .catch(info => {\n                        console.log('Validate Failed:', info)\n                    })\n            }}>\n            <Form {...layout} form={form} name='form_in_modal'>\n                <Form.Item name='status' label='status' rules={[{ required: true }]}>\n                    <Select>{StatusOptions}</Select>\n                </Form.Item>\n            </Form>\n        </Modal>\n    )\n}\n\nconst SearchTableView = props => {\n    const [state, setState] = useState({\n        list: [],\n        pagination: {\n            current: 1,\n            pageSize: 10\n        },\n        search: {},\n        loading: true,\n        visible: false,\n        disabled: false,\n        formData: {},\n        startRow: 0,\n        userId: '',\n        downloadUserUrl: ''\n    })\n    const [handleState, setHandleState] = useState({\n        visible: false,\n        data: {}\n    })\n\n    const [emailLoading, setEmailLoading] = useState({\n        loading: false,\n        id: -1\n    })\n\n    useEffect(() => {\n        const { pagination } = state\n        const params = { start_row: 0, page_size: state.pagination.pageSize }\n        getList(params)\n    }, [])\n\n    const getList = params => {\n        const { pagination, search } = state\n        console.log('paramslist', params)\n        let apiHref = APIDownloadUserNew()\n        let json = JSON.stringify({ ...state.search })\n        let resHref = `${apiHref}?userJson=${json}`\n        setState({\n            ...state,\n            loading: true\n        })\n        APIGetUserList({ userJson: JSON.stringify(getCleanedParams(params)) })\n            .then(resp => {\n                setState({\n                    ...state,\n                    list: resp.data.list && getKeyList(resp.data.list),\n                    loading: false,\n                    startRow: resp.data.pager.start_row,\n                    visible: false,\n                    pagination: {\n                        // ...state.pagination,\n                        total: resp.data.pager.total\n                    },\n                    downloadUserUrl: encodeURI(resHref)\n                })\n            })\n            .catch(err => {\n                console.log('err', err)\n            })\n    }\n\n    const handleChange = pagination => {\n        const params = {\n            ...state.search,\n            page_size: pagination.pageSize,\n            start_row: pagination.pageSize * (pagination.current - 1)\n        }\n        getList(params)\n    }\n\n    const changeSearch = search => {\n        const params = { ...search, page_size: state.pagination.pageSize, start_row: 0 }\n        setState({\n            ...state,\n            ...search\n        })\n        getList(params)\n    }\n\n    const exportRecord = () => {\n        APIexportRewardRecord()\n            .then(xhr => {\n                return\n            })\n            .catch((err, status, xhr) => {})\n    }\n\n    const edit = data => {\n        // console.log('data', data)\n        // props.history.push({\n        //     pathname: '/userDetail',\n        //     query: { ...data }\n        // })\n        // sessionStorage.setItem('query', JSON.stringify(data))\n\n        var url = webhost + '/userDetail/' + data.id\n        var win = window.open(url, '_blank')\n        win.focus()\n    }\n\n    const changeStatus = data => {\n        console.log('changeStatus', data)\n        setState({\n            ...state,\n            visible: true,\n            userId: data.id\n        })\n    }\n\n    const sendEmail = id => {\n        console.log('id', id)\n        console.log('state', state)\n        setEmailLoading({\n            loading: true,\n            id\n        })\n        APISendActiveEmail({ id }).then(resp => {\n            message.success('success')\n            const params = { page_size: 10, start_row: state.startRow }\n            getList(params)\n            setEmailLoading({\n                ...emailLoading,\n                loading: false\n            })\n        })\n    }\n\n    const downloadUser = () => {\n        const params = {\n            start_row: state.startRow,\n            page_size: state.pagination.pageSize || 10,\n            ...state.search\n        }\n        console.log('paams', params)\n        APIDownloadUser({ userJson: JSON.stringify(params), type: 'export' }).then(resp => {})\n    }\n\n    const onCreate = data => {\n        console.log('data', data)\n        let userId = state.userId\n        APIModifyUserStatus({\n            userJson: JSON.stringify({\n                id: userId,\n                status: data.status\n            })\n        })\n            .then(resp => {\n                const params = { page_size: 10, start_row: 0, status: data.prevStatus }\n                getList(params)\n            })\n            .catch(err => {\n                console.log('err', err)\n            })\n        // APIModifyPaymentStatus({paymentJson: JSON.stringify(data)})\n        //     .then(resp => {\n        //         const params = { page_size: 10, start_row: 0, status: data.prevStatus }\n        //         getList(params)\n        //     })\n        //     .catch(err => {\n        //         console.log('err', err)\n        //     })\n    }\n\n    const createAccount = () => {\n        props.history.push('/add_user')\n    }\n\n    const batchUploadUserList = ({ file, onSuccess }) => {\n        let confirmModal = window.confirm('Please confirm info is correct')\n        if (confirmModal) {\n            APIbatchUploadUserList({ file: file }).then(resp => {\n                message.success('success')\n                const params = { start_row: 0, page_size: state.pagination.pageSize }\n                getList(params)\n            })\n        }\n    }\n\n    const rowSelection = () => {}\n\n    return (\n        <Layout className='animated fadeIn'>\n            <DetailModal\n                visible={state.visible}\n                onCreate={onCreate}\n                onCancel={() => {\n                    setState({ ...state, visible: false })\n                }}\n            />\n            <div className='web-bread-c'>\n                <WebBreadcrumb arr={['User List']} />\n                <h3>User List</h3>\n                <img src={Aset} className='aset' />\n            </div>\n            <div className='base-wr'>\n                <div className='base-style'>\n                    <SearchBar changeSearch={changeSearch} loading={state.loading} />\n                </div>\n                <Row>\n                    <Col span={24}>\n                        <div className='base-style'>\n                            <Row>\n                                <Col span={24} style={{ textAlign: 'right', marginBottom: '15px' }}>\n                                    <a\n                                        style={{\n                                            backgroundColor: '#1890ff',\n                                            color: '#fff',\n                                            padding: '8px 15px',\n                                            marginLeft: '10px'\n                                        }}\n                                        href={state.downloadUserUrl}\n                                        type='download'>\n                                        <CloudDownloadOutlined />\n                                        <span style={{ marginLeft: '5px' }}>Download User</span>\n                                    </a>\n\n                                    <Button type='primary' onClick={createAccount} style={{ marginLeft: '10px' }}>\n                                        + Create Account\n                                    </Button>\n                                    <Upload customRequest={batchUploadUserList}>\n                                        <Button style={{ marginLeft: '10px' }} icon={<UploadOutlined />}>\n                                            Click to Upload File To Create\n                                        </Button>\n                                    </Upload>\n                                </Col>\n                            </Row>\n                            <Table\n                                columns={columns(edit, changeStatus, sendEmail, emailLoading)}\n                                rowKey={record => record.key}\n                                dataSource={state.list}\n                                onChange={handleChange}\n                                rowSelection={{\n                                    type: 'checkbox',\n                                    ...rowSelection\n                                }}\n                                bordered\n                                loading={state.loading}\n                                pagination={state.pagination}\n                                scroll={{ scrollToFirstRowOnChange: true, x: 1000 }}\n                            />\n                        </div>\n                    </Col>\n                </Row>\n            </div>\n        </Layout>\n    )\n}\n\nexport default SearchTableView\n","import Account from './Account.jsx'\n\nexport default Account","// This icon file is generated automatically.\nvar UploadOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z\" } }] }, \"name\": \"upload\", \"theme\": \"outlined\" };\nexport default UploadOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport UploadOutlinedSvg from \"@ant-design/icons-svg/es/asn/UploadOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar UploadOutlined = function UploadOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: UploadOutlinedSvg\n  }));\n};\n\nUploadOutlined.displayName = 'UploadOutlined';\nexport default /*#__PURE__*/React.forwardRef(UploadOutlined);","// This icon file is generated automatically.\nvar SearchOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z\" } }] }, \"name\": \"search\", \"theme\": \"outlined\" };\nexport default SearchOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport SearchOutlinedSvg from \"@ant-design/icons-svg/es/asn/SearchOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar SearchOutlined = function SearchOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: SearchOutlinedSvg\n  }));\n};\n\nSearchOutlined.displayName = 'SearchOutlined';\nexport default /*#__PURE__*/React.forwardRef(SearchOutlined);"],"sourceRoot":""}