(this["webpackJsonpreact-admin"]=this["webpackJsonpreact-admin"]||[]).push([[44],{1999:function(e,a,t){"use strict";t.r(a);t(58);var n=t(59),l=t.n(n),c=(t(83),t(84)),r=t.n(c),i=(t(77),t(70)),s=t.n(i),o=t(68),d=(t(94),t(95)),u=t.n(d),m=(t(56),t(55)),p=t.n(m),b=(t(63),t(66)),f=t.n(b),g=(t(64),t(67)),h=t.n(g),v=(t(74),t(75)),E=t.n(v),y=(t(69),t(72)),O=t.n(y),C=(t(297),t(299)),k=t.n(C),j=(t(62),t(65)),w=t.n(j),_=(t(79),t(80)),x=t.n(_),z=t(0),S=t.n(z),N=t(76),I=(t(116),t(60)),T=t(103),F=(t(122),t(12),t(281),t(78)),D=t.n(F),P=t(205);const{MonthPicker:R,RangePicker:M}=x.a,{Option:K}=w.a,A=([{label:"\u5f85\u5904\u7406",value:"to_handle"},{label:"\u5df2\u5904\u7406",value:"handled"}].map((e,a)=>S.a.createElement(K,{key:a,value:e.value},e.label)),(e,a,t,n)=>[{title:"Effective",dataIndex:"status",key:"status",width:"100",align:"center",render:(e,a)=>S.a.createElement("div",null,S.a.createElement(k.a,{defaultChecked:1==e,onClick:()=>{n(a)}})," ")},{title:"Module name",dataIndex:"module_name",key:"module_name",align:"center"},{title:"Type",dataIndex:"type",key:"type",width:"100",align:"center",render:(e,a)=>1==e?S.a.createElement("span",null,"promo code"):2==e?S.a.createElement("span",null,"content"):3==e?S.a.createElement("span",null,"proof"):S.a.createElement("span",null)},{title:"Update date",dataIndex:"update_time",key:"update_time",width:"100",align:"center"},{title:"Update by",dataIndex:"updated_by",key:"updated_by",align:"center",render:(e,a)=>S.a.createElement("div",{style:{width:"100px"}},S.a.createElement(P.a,{name:e,style:{display:"inline-block"}}),S.a.createElement("span",null,e))}]),L=e=>{let{visible:a,onCreate:t,onCancel:n,formData:l,disabled:c}=e;const[r]=O.a.useForm(),[i,s]=Object(z.useState)({}),[o,d]=Object(z.useState)(!1);Object(z.useEffect)(()=>{console.log("formdata",l),Object.keys(l).length?r.setFieldsValue(l):r.resetFields()},[l]);return S.a.createElement(u.a,{visible:a,title:"Task module",okText:"Submit",cancelText:"Cancel",onCancel:n,onOk:()=>{r.validateFields().then(e=>{r.resetFields(),t(e)}).catch(e=>{console.log("Validate Failed:",e)})}},S.a.createElement(O.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:14}},{form:r,name:"form_in_modal"}),S.a.createElement(O.a.Item,{name:"module_name",label:"Module name",rules:[{required:!0}]},S.a.createElement(E.a,null)),S.a.createElement(O.a.Item,{name:"type",label:"Type",rules:[{required:!0}]},S.a.createElement(w.a,{allowClear:!0},S.a.createElement(K,{value:1},"promo code"),S.a.createElement(K,{value:2},"content"),S.a.createElement(K,{value:3},"proof"),S.a.createElement(K,{value:6},"Apply Promo Link")))))};var U=e=>{const[a,t]=Object(z.useState)({list:[],pagination:{current:1,pageSize:10},search:{},loading:!0,visible:!1,disabled:!1,formData:{}}),[n,c]=Object(z.useState)({visible:!1,data:{}});Object(z.useEffect)(()=>{const{pagination:e}=a,t={start_row:0,page_size:a.pagination.pageSize};i(t)},[]);const i=e=>{const{pagination:n,search:l}=a;t(Object(o.a)(Object(o.a)({},a),{},{loading:!0})),Object(I.Mb)(e).then(n=>{t(Object(o.a)(Object(o.a)({},a),{},{visible:!1,list:n.data.data.records&&Object(T.getKeyList)(n.data.data.records),loading:!1,search:e.search,pagination:{total:n.data.data.total,current:e.start_row/e.page_size+1,pageSize:e.page_size}}))}).catch(e=>{console.log("err",e)})};return S.a.createElement(l.a,{className:"animated fadeIn"},S.a.createElement(L,{visible:a.visible,onCreate:e=>{Object(I.v)(e).then(e=>{s.a.success("success");const t=Object(o.a)(Object(o.a)({},a.search),{},{start_row:0,page_size:10});i(t)})},onCancel:()=>{t(Object(o.a)(Object(o.a)({},a),{},{visible:!1}))},formData:a.formData,disabled:a.disabled}),S.a.createElement("div",{className:"web-bread-c"},S.a.createElement(N.a,{arr:["Task modules"]}),S.a.createElement("h3",null,"Task modules"),S.a.createElement("img",{src:D.a,className:"aset",alt:"aset"})),S.a.createElement("div",{className:"base-wr"},S.a.createElement(f.a,null,S.a.createElement(h.a,{span:24},S.a.createElement("div",{className:"base-style"},S.a.createElement(f.a,null,S.a.createElement(h.a,{span:24,style:{textAlign:"right",marginBottom:"15px"}},S.a.createElement(p.a,{style:{marginRight:"10px"},type:"primary",onClick:()=>{(()=>{const e={start_row:0,page_size:a.pagination.pageSize};i(e)})()}},"Refresh"),S.a.createElement(p.a,{type:"primary",onClick:()=>{t(Object(o.a)(Object(o.a)({},a),{},{visible:!0,formData:{}}))}},"Create Task Module"))),S.a.createElement(r.a,{columns:A(0,0,0,e=>{console.log("yuyu",e.status),1==e.status?Object(I.F)({id:e.id}).then(e=>{const t={start_row:0,page_size:a.pagination.pageSize};i(t)}):Object(I.U)({id:e.id}).then(e=>{const t={start_row:0,page_size:a.pagination.pageSize};i(t)})}),rowKey:e=>e.key,dataSource:a.list,onChange:e=>{console.log("state",a);const t=Object(o.a)(Object(o.a)({},a.search),{},{page_size:e.pageSize,start_row:e.pageSize*(e.current-1),search:a.search});console.log("ttt",t),i(t)},loading:a.loading,bordered:!0,pagination:a.pagination,scroll:{scrollToFirstRowOnChange:!0,x:1e3}}))))))};a.default=U},297:function(e,a,t){"use strict";t(49),t(298)},298:function(e,a,t){},299:function(e,a,t){"use strict";var n=t(37).default,l=t(35).default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=l(t(38)),r=l(t(44)),i=l(t(218)),s=l(t(36)),o=l(t(300)),d=n(t(0)),u=t(42),m=l(t(155)),p=l(t(124)),b=(l(t(57)),l(t(355))),f=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)a.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(t[n[l]]=e[n[l]])}return t},g=d.forwardRef((function(e,a){var t=e.prefixCls,n=e.size,l=e.disabled,g=e.loading,h=e.className,v=void 0===h?"":h,E=f(e,["prefixCls","size","disabled","loading","className"]),y=d.useContext(u.ConfigContext),O=y.getPrefixCls,C=y.direction,k=d.useContext(p.default),j=d.useContext(m.default),w=(null!==l&&void 0!==l?l:j)||g,_=O("switch",t),x=d.createElement("div",{className:"".concat(_,"-handle")},g&&d.createElement(i.default,{className:"".concat(_,"-loading-icon")})),z=(0,s.default)((0,r.default)((0,r.default)((0,r.default)({},"".concat(_,"-small"),"small"===(n||k)),"".concat(_,"-loading"),g),"".concat(_,"-rtl"),"rtl"===C),v);return d.createElement(b.default,{insertExtraNode:!0},d.createElement(o.default,(0,c.default)({},E,{prefixCls:_,className:z,disabled:w,ref:a,loadingIcon:x})))}));g.__ANT_SWITCH=!0;a.default=g},300:function(e,a,t){"use strict";t.r(a);var n=t(47),l=t(45),c=t(50),r=t(0),i=t(36),s=t.n(i),o=t(97),d=t(98),u=r.forwardRef((function(e,a){var t,i=e.prefixCls,u=void 0===i?"rc-switch":i,m=e.className,p=e.checked,b=e.defaultChecked,f=e.disabled,g=e.loadingIcon,h=e.checkedChildren,v=e.unCheckedChildren,E=e.onClick,y=e.onChange,O=e.onKeyDown,C=Object(c.a)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),k=Object(o.a)(!1,{value:p,defaultValue:b}),j=Object(l.a)(k,2),w=j[0],_=j[1];function x(e,a){var t=w;return f||(_(t=e),null===y||void 0===y||y(t,a)),t}var z=s()(u,m,(t={},Object(n.a)(t,"".concat(u,"-checked"),w),Object(n.a)(t,"".concat(u,"-disabled"),f),t));return r.createElement("button",Object.assign({},C,{type:"button",role:"switch","aria-checked":w,disabled:f,className:z,ref:a,onKeyDown:function(e){e.which===d.a.LEFT?x(!1,e):e.which===d.a.RIGHT&&x(!0,e),null===O||void 0===O||O(e)},onClick:function(e){var a=x(!w,e);null===E||void 0===E||E(a,e)}}),g,r.createElement("span",{className:"".concat(u,"-inner")},w?h:v))}));u.displayName="Switch",a.default=u}}]);