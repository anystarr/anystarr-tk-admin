(this["webpackJsonpreact-admin"]=this["webpackJsonpreact-admin"]||[]).push([[64],{1993:function(e,a,t){"use strict";t.r(a);t(58);var n=t(59),l=t.n(n),r=(t(83),t(84)),c=t.n(r),i=(t(77),t(70)),s=t.n(i),o=t(68),m=(t(94),t(95)),d=t.n(m),g=(t(56),t(55)),u=t.n(g),p=(t(63),t(66)),b=t.n(p),E=(t(64),t(67)),h=t.n(E),_=(t(74),t(75)),y=t.n(_),O=(t(69),t(72)),j=t.n(O),v=(t(180),t(181)),k=t.n(v),w=(t(62),t(65)),C=t.n(w),I=(t(79),t(80)),S=t.n(I),f=t(0),x=t.n(f),P=t(76),z=(t(116),t(60)),N=t(103),F=t(122),D=(t(12),t(281),t(78)),T=t.n(D);const{MonthPicker:L,RangePicker:J}=S.a,{Option:A}=C.a,R=([{label:"\u5f85\u5904\u7406",value:"to_handle"},{label:"\u5df2\u5904\u7406",value:"handled"}].map((e,a)=>x.a.createElement(A,{key:a,value:e.value},e.label)),(e,a,t)=>[{title:"Action",dataIndex:"edit",key:"edit",width:"100",align:"center",render:(a,t)=>x.a.createElement("div",null,x.a.createElement("a",{onClick:()=>{e(t)}},"Edit"))},{title:"ID",dataIndex:"id",key:"id",align:"center"},{title:"Product id",dataIndex:"product_id",key:"product_id",width:"100",align:"center"},{title:"Product image",dataIndex:"img_url",key:"img_url",align:"center",render:(e,a)=>x.a.createElement(k.a,{src:e,style:{maxWidth:"70px",marginLeft:"10px"}})},{title:"Product title",dataIndex:"product_name",key:"product_name",width:"100",align:"center"},{title:"Status",dataIndex:"status",key:"status",width:"100",align:"center",render:(e,a)=>1==e?x.a.createElement("span",null,"in stock"):x.a.createElement("span",null," out of stock")},{title:"Category",dataIndex:"category_name",key:"category_name",width:"100",align:"center"},{title:"Product Link",dataIndex:"product_url",key:"product_url",width:"100",alignL:"center"},{title:"Product tag",dataIndex:"tag",key:"tag",width:"100",align:"center"}]),q={labelCol:{span:8},wrapperCol:{span:16}},K=e=>{const[a]=j.a.useForm();return x.a.createElement(j.a,Object.assign({},q,{form:a,name:"advanced_search",className:"ant-advanced-search-form",onFinish:a=>{console.log("values",a),e.changeSearch(a)}}),x.a.createElement(b.a,{gutter:24},x.a.createElement(h.a,{span:8},x.a.createElement(j.a.Item,{name:"id",label:"ID"},x.a.createElement(y.a,null))),x.a.createElement(h.a,{span:8},x.a.createElement(j.a.Item,{name:"is_show_app",label:"Pinned"},x.a.createElement(C.a,{allowClear:!0},x.a.createElement(A,{value:1},"Pinned"),x.a.createElement(A,{value:0},"Non-Pinned")))),x.a.createElement(h.a,{span:8},x.a.createElement(j.a.Item,{name:"category",label:"Category"},x.a.createElement(C.a,null,x.a.createElement(A,{value:1},"Pinned"),x.a.createElement(A,{value:0},"Non-Pinned"))))),x.a.createElement(b.a,null,x.a.createElement(h.a,{span:24,style:{textAlign:"right"}},x.a.createElement(u.a,{type:"primary",htmlType:"submit",loading:e.loading},"Search"),x.a.createElement(u.a,{style:{margin:"0 8px"},onClick:()=>{a.resetFields()}},"Reset"))))},V=e=>{let{visible:a,onCreate:t,onCancel:n,formData:l,disabled:r}=e;const[c]=j.a.useForm(),[i,s]=Object(f.useState)({}),[o,m]=Object(f.useState)(!1);Object(f.useEffect)(()=>{console.log("formdata",l),Object.keys(l).length?c.setFieldsValue(l):c.resetFields()},[l]);return x.a.createElement(d.a,{visible:a,title:"sku",okText:"Submit",cancelText:"Cancel",onCancel:n,onOk:()=>{c.validateFields().then(e=>{c.resetFields(),t(e)}).catch(e=>{console.log("Validate Failed:",e)})}},x.a.createElement(j.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:14}},{form:c,name:"form_in_modal"}),x.a.createElement(j.a.Item,{name:"id",label:"ID"},x.a.createElement(y.a,{disabled:!0})),x.a.createElement(j.a.Item,{name:"tier_1_cat",label:"Tier1 Cat",rules:[{required:!0}]},x.a.createElement(y.a,null)),x.a.createElement(j.a.Item,{name:"tier_2_cat",label:"Tier2 Cat"},x.a.createElement(y.a,null)),x.a.createElement(j.a.Item,{name:"tier_3_cat",label:"Tier3 Cat"},x.a.createElement(y.a,null)),x.a.createElement(j.a.Item,{name:"shown_name",label:"Sku name",rules:[{required:!0}]},x.a.createElement(y.a,null))))};var B=e=>{const[a,t]=Object(f.useState)({list:[],pagination:{current:1,pageSize:10},search:{},loading:!0,visible:!1,disabled:!1,formData:{}}),[n,r]=Object(f.useState)({visible:!1,data:{}});Object(f.useEffect)(()=>{const{pagination:e}=a,t={start_row:0,page_size:a.pagination.pageSize};i(t)},[]);const i=e=>{const{pagination:n,search:l}=a;t(Object(o.a)(Object(o.a)({},a),{},{loading:!0})),Object(z.vb)(JSON.stringify(Object(F.a)(e))).then(n=>{t(Object(o.a)(Object(o.a)({},a),{},{visible:!1,list:n.data.list&&Object(N.getKeyList)(n.data.list),loading:!1,search:e.search,pagination:{total:n.data.pager.total,current:e.start_row/e.page_size+1,pageSize:e.page_size}}))}).catch(e=>{console.log("err",e)})};return x.a.createElement(l.a,{className:"animated fadeIn"},x.a.createElement(V,{visible:a.visible,onCreate:e=>{console.log("data",e),e.is_show_app=1,Object(z.s)({categoryJson:JSON.stringify(e)}).then(e=>{s.a.success("success");const t=Object(o.a)(Object(o.a)({},a.search),{},{start_row:0,page_size:10});i(t)}).catch(e=>{console.log("err",e)})},onCancel:()=>{t(Object(o.a)(Object(o.a)({},a),{},{visible:!1}))},formData:a.formData,disabled:a.disabled}),x.a.createElement("div",{className:"web-bread-c"},x.a.createElement(P.a,{arr:["abComo Sample List"]}),x.a.createElement("h3",null,"abComo Sample List"),x.a.createElement("img",{src:T.a,className:"aset",alt:"aset"})),x.a.createElement("div",{className:"base-wr"},x.a.createElement("div",{className:"base-style"},x.a.createElement(K,{changeSearch:e=>{const n=Object(o.a)(Object(o.a)({},e),{},{page_size:10,start_row:0,search:e});t(Object(o.a)(Object(o.a)({},a),{},{search:e})),i(n)},loading:a.loading})),x.a.createElement(b.a,null,x.a.createElement(h.a,{span:24},x.a.createElement("div",{className:"base-style"},x.a.createElement(b.a,null,x.a.createElement(h.a,{span:24,style:{textAlign:"right",marginBottom:"15px"}},x.a.createElement(u.a,{type:"primary",onClick:()=>{e.history.push("/order_management/create_product/0")}},"Create product"))),x.a.createElement(c.a,{columns:R(a=>{console.log("data",a),e.history.push("/order_management/create_product/"+a.id)}),rowKey:e=>e.key,dataSource:a.list,onChange:e=>{console.log("state",a);const t=Object(o.a)(Object(o.a)({},a.search),{},{page_size:e.pageSize,start_row:e.pageSize*(e.current-1),search:a.search});console.log("ttt",t),i(t)},loading:a.loading,rowSelection:Object(o.a)({type:"checkbox"},()=>{}),pagination:a.pagination,scroll:{scrollToFirstRowOnChange:!0,x:1e3}}))))))};a.default=B}}]);