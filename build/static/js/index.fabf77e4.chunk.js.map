{"version":3,"sources":["views/Index/Index.jsx","views/Index/index.js","views/TiktokUserList/TiktokUser.jsx","views/TiktokUserList/index.js","views/EventList/TiktokUser.jsx","views/EventList/index.js"],"names":["Index","useState","useEffect","className","span","style","textAlign","fontSize","Option","MonthPicker","RangePicker","columns","label","value","map","option","index","key","deleteById","title","dataIndex","align","render","avatarUrl","item","width","height","src","v","href","target","onClick","searchLayout","labelCol","wrapperCol","SearchBar","props","useForm","form","name","onFinish","values","changeSearch","gutter","Item","icon","SearchOutlined","type","htmlType","loading","margin","resetFields","SearchTableView","dataSource","setDataSource","list","search","visible","disabled","formData","startRow","userId","downloadUserUrl","state","setState","setLoading","all","setAll","todayAdd","setTodayAdd","current","pageSize","total","pageI","setPageI","getList","getUser","page","searchValue","APIGetTikTokUserList","JSON","stringify","then","resp","console","log","data","result","records","finally","APIGetTikTokUserSumInfo","today","WebBreadcrumb","arr","Aset","display","marginBottom","uid","APIDeleteByUid","success","rowKey","record","onChange","pagination","bordered","scroll","scrollToFirstRowOnChange","x","TiktokUser","APIGetEventList","eventType","EventList"],"mappings":"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","file":"static/js/index.fabf77e4.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { Layout, Row, Col, Divider } from 'antd'\nimport {\n    WechatOutlined,\n    QqOutlined,\n    DingdingOutlined,\n    WeiboCircleOutlined,\n    FullscreenOutlined\n} from '@ant-design/icons'\nimport screenfull from 'screenfull'\nimport '@/style/view-style/index.less'\nimport BarEcharts from './bar.jsx'\nimport PieEcharts from './pie.jsx'\nimport LineEcharts from './line.jsx'\nimport ScatterEcharts from './scatter.jsx'\nimport PictorialBarEcharts from './pictorialBar.jsx'\nimport { APIgetSysConfig } from '@/mapi'\nimport { render } from 'react-dom'\n\nconst Mouse = props => {\n    const [state, setState] = useState({\n        x: 0,\n        y: 0\n    })\n\n    const handleMouseMove = event => {\n        console.log('22')\n        setState({\n            x: event.clientX,\n            y: event.clientY\n        })\n    }\n\n    return (\n        <div style={{ height: '100%', backgroundColor: 'red' }} onMouseMove={handleMouseMove}>\n            {' '}\n            {props.render(state)}{' '}\n        </div>\n    )\n}\n\nconst Index = () => {\n    const fullToggle = () => {\n        if (screenfull.isEnabled) {\n            screenfull.request(document.getElementById('bar'))\n        }\n    }\n\n    const [str, setStr] = useState('')\n\n    const showhtml = htmlString => {\n        var html = { __html: htmlString }\n        return <div dangerouslySetInnerHTML={html} />\n    }\n\n    const getHomeConfig = () => {\n        APIgetSysConfig({\n            limit: 10,\n            offset: 0\n        })\n            .then(res => {\n                let config = res.data.filter(item => {\n                    return item.key === 'system_title'\n                })\n                setStr(config[0].value)\n            })\n            .catch(err => {\n                console.log('err', err)\n            })\n    }\n\n    useEffect(() => {\n        // getHomeConfig()\n    }, [])\n\n    return (\n        <Layout className='index animated fadeIn'>\n            <Row>\n                {/* <Col span={24}><div className=\"base-style\">{showhtml(str)}</div></Col> */}\n                <Col span={24}>\n                    <p style={{ textAlign: 'center', fontSize: '16px' }}>Welcome to anyStarr </p>\n                    {/* <Mouse render={({x, y}) => (<h1>the mouse position is ({x},{y})</h1>)} /> */}\n                </Col>\n            </Row>\n        </Layout>\n    )\n}\n\nexport default Index\n","import Index from './Index.jsx'\n\nexport default Index\n","import React, { Component, useEffect, useState } from 'react'\nimport WebBreadcrumb from '@/components/WebBreadcrumb'\nimport {\n    Layout,\n    Row,\n    Col,\n    Tag,\n    Table,\n    Button,\n    Modal,\n    Input,\n    Form,\n    DatePicker,\n    Select,\n    message,\n    Upload,\n    Badge,\n    Image\n} from 'antd'\nimport '@/style/view-style/table.less'\nimport {\n    APIexportRewardRecord,\n    APIGetUserList,\n    APIDownloadUser,\n    APIModifyUserStatus,\n    APIbatchUploadUserList,\n    APIDownloadUserNew,\n    APISendActiveEmail\n} from '@/mapi'\nimport { getKeyList } from '@/tools/action.js'\nimport { UploadOutlined, FormOutlined, CloudDownloadOutlined, SearchOutlined } from '@ant-design/icons'\nimport webhost from '@/tools/webhost.js'\nimport Aset from '@/imgs/aset1.png'\nimport { getYearMonthDayTimeNew, getCleanedParams } from '@/tools/help.js'\nimport { APIDeleteByUid, APIGetTikTokUserList, APIGetTikTokUserSumInfo } from '../../mapi'\nconst { MonthPicker, RangePicker } = DatePicker\nconst { Option } = Select\n\nconst statusList = [\n    { label: 'Active', value: '1' },\n    { label: 'Banned', value: '2' },\n    { label: 'Locked', value: '5' }\n]\n\nconst StatusOptions = statusList.map((option, index) => {\n    return (\n        <Option key={index} value={option.value}>\n            {option.label}\n        </Option>\n    )\n})\n\nconst getLocalTime = nS => {\n    return new Date(Date.parse(nS)).toLocaleString().replace(/:\\d{1,2}$/, ' ')\n}\n\nconst columns = deleteById => [\n    {\n        title: 'Avatar',\n        dataIndex: 'avatarUrl',\n        key: 'avatarUrl',\n        align: 'center',\n        render: (avatarUrl, item) =>\n            avatarUrl ? (\n                <Image\n                    style={{\n                        width: '60px',\n                        height: '60px'\n                    }}\n                    src={avatarUrl}></Image>\n            ) : null\n    },\n    {\n        title: 'Nick Name',\n        dataIndex: 'displayName',\n        key: 'displayName',\n        align: 'center'\n    },\n    {\n        title: 'Profile DeepLink',\n        dataIndex: 'profileDeepLink',\n        key: 'profileDeepLink',\n        align: 'center',\n        render: (v, item) => {\n            return v ? (\n                <a href={v} target={'_blank'}>\n                    Profile\n                </a>\n            ) : null\n        }\n    },\n    {\n        title: 'Registered Time',\n        dataIndex: 'createTime',\n        key: 'createTime',\n        align: 'center'\n    },\n    {\n        title: 'Followers',\n        dataIndex: 'followerCount',\n        key: 'followerCount',\n        align: 'center'\n        // render: (text, item) => <span>{getLocalTime(item.create_time)}</span>\n    },\n    {\n        title: 'Action',\n        dataIndex: 'id',\n        key: 'id',\n        align: 'center',\n        render: (v, item) => {\n            return <Button onClick={() => deleteById(v)}>Delete</Button>\n        }\n    }\n]\n\nconst searchLayout = {\n    labelCol: {\n        span: 8\n    },\n    wrapperCol: {\n        span: 16\n    }\n}\n\nconst SearchBar = props => {\n    const [form] = Form.useForm()\n\n    const onFinish = values => {\n        props.changeSearch(values)\n    }\n\n    return (\n        <Form\n            {...searchLayout}\n            form={form}\n            name='advanced_search'\n            className='ant-advanced-search-form'\n            onFinish={onFinish}>\n            <Row gutter={24}>\n                <Col span={8}>\n                    <Form.Item name='searchName' label='Nick Name'>\n                        <Input />\n                    </Form.Item>\n                </Col>\n            </Row>\n            <Row>\n                <Col span={24} style={{ textAlign: 'right' }}>\n                    <Button icon={<SearchOutlined />} type='primary' htmlType='submit' loading={props.loading}>\n                        Search\n                    </Button>\n                    <Button\n                        style={{ margin: '0 8px' }}\n                        onClick={() => {\n                            form.resetFields()\n                        }}>\n                        Reset\n                    </Button>\n                </Col>\n            </Row>\n        </Form>\n    )\n}\n\nconst DetailModal = ({ visible, onCreate, onCancel }) => {\n    const [form] = Form.useForm()\n\n    const [user, setUser] = useState({})\n    const [allMemVisible, setAllMemVisible] = useState(false)\n\n    const layout = {\n        labelCol: { span: 6 },\n        wrapperCol: { span: 14 }\n    }\n    const rangeConfig = {\n        rules: [\n            {\n                type: 'array',\n                message: 'Please select time!'\n            }\n        ]\n    }\n\n    useEffect(() => {}, [])\n\n    return (\n        <Modal\n            visible={visible}\n            title=''\n            okText='Submit'\n            cancelText='Cancel'\n            onCancel={onCancel}\n            onOk={() => {\n                form.validateFields()\n                    .then(values => {\n                        form.resetFields()\n                        onCreate(values)\n                    })\n                    .catch(info => {\n                        console.log('Validate Failed:', info)\n                    })\n            }}>\n            <Form {...layout} form={form} name='form_in_modal'>\n                <Form.Item name='status' label='status' rules={[{ required: true }]}>\n                    <Select>{StatusOptions}</Select>\n                </Form.Item>\n            </Form>\n        </Modal>\n    )\n}\n\nconst SearchTableView = props => {\n    const [dataSource, setDataSource] = useState([])\n    const [state, setState] = useState({\n        list: [],\n        search: {},\n        loading: true,\n        visible: false,\n        disabled: false,\n        formData: {},\n        startRow: 0,\n        userId: '',\n        downloadUserUrl: ''\n    })\n    const [loading, setLoading] = useState(false)\n    const [all, setAll] = useState(0)\n    const [todayAdd, setTodayAdd] = useState(0)\n\n    const [pageI, setPageI] = useState({\n        current: 1,\n        pageSize: 20,\n        total: 0\n    })\n\n    useEffect(() => {\n        getList(1, 20)\n        getUser()\n    }, [])\n\n    const getList = (page, pageSize, searchValue) => {\n        setLoading(true)\n        APIGetTikTokUserList(\n            JSON.stringify({\n                page,\n                pageSize,\n                ...searchValue\n            })\n        )\n            .then(resp => {\n                console.log(resp.data.result, 'USER DATA')\n                if (resp.data.result) {\n                    setDataSource(resp.data.result.records)\n                    setPageI({\n                        page: resp.data.result.current,\n                        pageSize: pageSize,\n                        total: resp.data.result.total\n                    })\n                }\n            })\n            .finally(() => {\n                setLoading(false)\n            })\n    }\n\n    const getUser = () => {\n        APIGetTikTokUserSumInfo().then(resp => {\n            if (resp.data.result) {\n                setAll(resp.data.result.all)\n                setTodayAdd(resp.data.result.today)\n            }\n        })\n    }\n\n    const deleteById = uid => {\n        setLoading(true)\n        APIDeleteByUid({\n            uid: uid\n        })\n            .then(resp => {\n                if (resp.data.result) {\n                    message.success('Delete success!')\n                }\n            })\n            .finally(() => {\n                setLoading(false)\n                getList(pageI.current, pageI.pageSize, state.search)\n            })\n    }\n\n    const handleChange = pagination => {\n        console.log(pagination, 'currentcurrentcurrent')\n        getList(pagination.current, pagination.pageSize, state.search)\n    }\n\n    const changeSearch = search => {\n        setState({\n            ...state,\n            search: {\n                ...search\n            }\n        })\n        getList(1, pageI.pageSize, search)\n    }\n\n    return (\n        <Layout className='animated fadeIn'>\n            <div className='web-bread-c'>\n                <WebBreadcrumb arr={['User List']} />\n                <h3>User List</h3>\n                <img src={Aset} className='aset' />\n            </div>\n            <div className='base-wr'>\n                <div className='base-style'>\n                    <SearchBar changeSearch={changeSearch} loading={loading} />\n                </div>\n                <Row>\n                    <Col span={24}>\n                        <div className='base-style'>\n                            <div\n                                style={{\n                                    display: 'flex',\n                                    fontSize: '20px',\n                                    marginBottom: '10px'\n                                }}>\n                                <div>总用户数：{all}</div>\n                                <div style={{ width: '20px' }}></div>\n                                <div>今日新增：{todayAdd}</div>\n                            </div>\n\n                            <Table\n                                columns={columns(deleteById)}\n                                rowKey={record => record.key}\n                                dataSource={dataSource}\n                                onChange={handleChange}\n                                bordered\n                                loading={loading}\n                                pagination={pageI}\n                                scroll={{ scrollToFirstRowOnChange: true, x: 1000 }}\n                            />\n                        </div>\n                    </Col>\n                </Row>\n            </div>\n        </Layout>\n    )\n}\n\nexport default SearchTableView\n","import TiktokUser from './TiktokUser.jsx'\n\nexport default TiktokUser\n","import React, { Component, useEffect, useState } from 'react'\nimport WebBreadcrumb from '@/components/WebBreadcrumb'\nimport {\n    Layout,\n    Row,\n    Col,\n    Tag,\n    Table,\n    Button,\n    Modal,\n    Input,\n    Form,\n    DatePicker,\n    Select,\n    message,\n    Upload,\n    Badge,\n    Image\n} from 'antd'\nimport '@/style/view-style/table.less'\nimport {\n    APIexportRewardRecord,\n    APIGetUserList,\n    APIDownloadUser,\n    APIModifyUserStatus,\n    APIbatchUploadUserList,\n    APIDownloadUserNew,\n    APISendActiveEmail\n} from '@/mapi'\nimport { getKeyList } from '@/tools/action.js'\nimport { UploadOutlined, FormOutlined, CloudDownloadOutlined, SearchOutlined } from '@ant-design/icons'\nimport webhost from '@/tools/webhost.js'\nimport Aset from '@/imgs/aset1.png'\nimport { getYearMonthDayTimeNew, getCleanedParams } from '@/tools/help.js'\nimport { APIDeleteByUid, APIGetEventList, APIGetTikTokUserList } from '../../mapi'\nconst { MonthPicker, RangePicker } = DatePicker\nconst { Option } = Select\n\nconst statusList = [\n    { label: 'Active', value: '1' },\n    { label: 'Banned', value: '2' },\n    { label: 'Locked', value: '5' }\n]\n\nconst StatusOptions = statusList.map((option, index) => {\n    return (\n        <Option key={index} value={option.value}>\n            {option.label}\n        </Option>\n    )\n})\n\nconst getLocalTime = nS => {\n    return new Date(Date.parse(nS)).toLocaleString().replace(/:\\d{1,2}$/, ' ')\n}\n\nconst columns = () => [\n    {\n        title: 'UserID',\n        dataIndex: 'userId',\n        key: 'userId',\n        align: 'center'\n    },\n    {\n        title: 'Event Name',\n        dataIndex: 'eventType',\n        key: 'eventType',\n        align: 'center'\n    },\n    {\n        title: 'Target object',\n        dataIndex: 'eventValue',\n        key: 'eventValue',\n        align: 'center',\n        render: (v, item) => {\n            return <div>{item.eventType === 'TYPE_SEARCH' ? item.searchValue : v}</div>\n        }\n    },\n    {\n        title: 'Create time',\n        dataIndex: 'clickTime',\n        key: 'clickTime',\n        align: 'center'\n        // render: (text, item) => <span>{getLocalTime(item.create_time)}</span>\n    }\n]\n\nconst searchLayout = {\n    labelCol: {\n        span: 8\n    },\n    wrapperCol: {\n        span: 16\n    }\n}\n\nconst SearchBar = props => {\n    const [form] = Form.useForm()\n\n    const onFinish = values => {\n        props.changeSearch(values)\n    }\n\n    return (\n        <Form\n            {...searchLayout}\n            form={form}\n            name='advanced_search'\n            className='ant-advanced-search-form'\n            onFinish={onFinish}>\n            <Row gutter={24}>\n                <Col span={8}>\n                    <Form.Item name='userId' label='User ID'>\n                        <Input />\n                    </Form.Item>\n                    <Form.Item name='eventType' label='Event Type'>\n                        <Input />\n                    </Form.Item>\n                </Col>\n            </Row>\n            <Row>\n                <Col span={24} style={{ textAlign: 'right' }}>\n                    <Button icon={<SearchOutlined />} type='primary' htmlType='submit' loading={props.loading}>\n                        Search\n                    </Button>\n                    <Button\n                        style={{ margin: '0 8px' }}\n                        onClick={() => {\n                            form.resetFields()\n                        }}>\n                        Reset\n                    </Button>\n                </Col>\n            </Row>\n        </Form>\n    )\n}\n\nconst DetailModal = ({ visible, onCreate, onCancel }) => {\n    const [form] = Form.useForm()\n\n    const [user, setUser] = useState({})\n    const [allMemVisible, setAllMemVisible] = useState(false)\n\n    const layout = {\n        labelCol: { span: 6 },\n        wrapperCol: { span: 14 }\n    }\n    const rangeConfig = {\n        rules: [\n            {\n                type: 'array',\n                message: 'Please select time!'\n            }\n        ]\n    }\n\n    useEffect(() => {}, [])\n\n    return (\n        <Modal\n            visible={visible}\n            title=''\n            okText='Submit'\n            cancelText='Cancel'\n            onCancel={onCancel}\n            onOk={() => {\n                form.validateFields()\n                    .then(values => {\n                        form.resetFields()\n                        onCreate(values)\n                    })\n                    .catch(info => {\n                        console.log('Validate Failed:', info)\n                    })\n            }}>\n            <Form {...layout} form={form} name='form_in_modal'>\n                <Form.Item name='status' label='status' rules={[{ required: true }]}>\n                    <Select>{StatusOptions}</Select>\n                </Form.Item>\n            </Form>\n        </Modal>\n    )\n}\n\nconst SearchTableView = props => {\n    const [dataSource, setDataSource] = useState([])\n    const [state, setState] = useState({\n        list: [],\n        search: {},\n        loading: true,\n        visible: false,\n        disabled: false,\n        formData: {},\n        startRow: 0,\n        userId: '',\n        downloadUserUrl: ''\n    })\n    const [loading, setLoading] = useState(false)\n\n    const [pageI, setPageI] = useState({\n        current: 1,\n        pageSize: 20,\n        total: 0\n    })\n\n    useEffect(() => {\n        getList(1, 20)\n    }, [])\n\n    const getList = (page, pageSize, search) => {\n        setLoading(true)\n        APIGetEventList(\n            JSON.stringify({\n                page,\n                pageSize,\n                ...search\n            })\n        )\n            .then(resp => {\n                if (resp.data.result) {\n                    setDataSource(resp.data.result.records)\n                    setPageI({\n                        page: resp.data.result.current,\n                        pageSize: pageSize,\n                        total: resp.data.result.total\n                    })\n                }\n            })\n            .finally(() => {\n                setLoading(false)\n            })\n    }\n\n    const deleteById = uid => {\n        setLoading(true)\n        APIDeleteByUid({\n            uid: uid\n        })\n            .then(resp => {\n                if (resp.data.result) {\n                    message.success('Delete success!')\n                }\n            })\n            .finally(() => {\n                setLoading(false)\n                getList(pageI.current, pageI.pageSize, state.search)\n            })\n    }\n\n    const handleChange = pagination => {\n        console.log(pagination, 'currentcurrentcurrent')\n        getList(pagination.current, pagination.pageSize, state.search)\n    }\n\n    const changeSearch = search => {\n        console.log(search, 'changeSearchchangeSearchchangeSearch')\n        setState({\n            ...state,\n            search: search\n        })\n        getList(1, pageI.pageSize, search)\n    }\n\n    return (\n        <Layout className='animated fadeIn'>\n            <div className='web-bread-c'>\n                <WebBreadcrumb arr={['Event List']} />\n                <h3>User List</h3>\n                <img src={Aset} className='aset' />\n            </div>\n            <div className='base-wr'>\n                <div className='base-style'>\n                    <SearchBar changeSearch={changeSearch} loading={loading} />\n                </div>\n                <Row>\n                    <Col span={24}>\n                        <div className='base-style'>\n                            <Table\n                                columns={columns()}\n                                rowKey={record => record.key}\n                                dataSource={dataSource}\n                                onChange={handleChange}\n                                bordered\n                                loading={loading}\n                                pagination={pageI}\n                                scroll={{ scrollToFirstRowOnChange: true, x: 1000 }}\n                            />\n                        </div>\n                    </Col>\n                </Row>\n            </div>\n        </Layout>\n    )\n}\n\nexport default SearchTableView\n","import EventList from './TiktokUser.jsx'\n\nexport default EventList\n"],"sourceRoot":""}