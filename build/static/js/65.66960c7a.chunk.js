(this["webpackJsonpreact-admin"]=this["webpackJsonpreact-admin"]||[]).push([[65],{1980:function(e,a,t){"use strict";t.r(a);t(58);var n=t(59),l=t.n(n),c=(t(83),t(84)),i=t.n(c),r=(t(77),t(70)),s=t.n(r),o=t(68),m=(t(94),t(95)),d=t.n(m),g=(t(56),t(55)),p=t.n(g),b=(t(63),t(66)),h=t.n(b),u=(t(64),t(67)),_=t.n(u),E=(t(74),t(75)),O=t.n(E),y=(t(69),t(72)),w=t.n(y),j=(t(297),t(299)),k=t.n(j),v=(t(182),t(186)),S=t.n(v),f=(t(62),t(65)),C=t.n(f),x=(t(79),t(80)),I=t.n(x),z=t(0),N=t.n(z),T=t(76),D=(t(116),t(60)),F=t(103),J=(t(122),t(12),t(281),t(78)),A=t.n(J),R=t(2002),L=t(319),K=t(205);const{MonthPicker:U,RangePicker:q}=I.a,{Option:P}=C.a,V=([{label:"\u5f85\u5904\u7406",value:"to_handle"},{label:"\u5df2\u5904\u7406",value:"handled"}].map((e,a)=>N.a.createElement(P,{key:a,value:e.value},e.label)),(e,a,t)=>[{title:"Action",dataIndex:"edit",key:"edit",width:"100",align:"center",render:(a,n)=>N.a.createElement("div",null,N.a.createElement("a",{className:"action-btn",onClick:()=>{e(n)}},N.a.createElement(R.a,{style:{marginRight:"4px"}}),"Edit"),N.a.createElement(S.a,{title:"Are you sure delete this merchant?",onConfirm:()=>{t(n)},okText:"Yes",cancelText:"No"},N.a.createElement("a",{className:"action-btn",onClick:()=>{}},N.a.createElement(L.a,{style:{marginRight:"4px"}}),"Delete")))},{title:"SKU ID",dataIndex:"id",key:"id",width:"100",align:"center",render:(e,a)=>N.a.createElement("span",{className:"table-id"},e)},{title:"Sku name",dataIndex:"shown_name",key:"shown_name",align:"center"},{title:"Tier1 cat",dataIndex:"tier_1_cat",key:"tier_1_cat",width:"100",align:"center"},{title:"Tier2 cat",dataIndex:"tier_2_cat",key:"tier_2_cat",width:"100",align:"center"},{title:"Tier3 cat",dataIndex:"tier_3_cat",key:"tier_3_cat",width:"100",align:"center"},{title:"Show App",dataIndex:"is_show_app",key:"is_show_app",width:"100",alignL:"center",render:(e,t)=>N.a.createElement("div",null,N.a.createElement(k.a,{defaultChecked:1==e,onClick:()=>{a(t)}})," ")},{title:"Update date",dataIndex:"update_time",key:"update_time",width:"100",align:"center"},{title:"Update by",dataIndex:"updated_by",key:"updated_by",align:"center",render:(e,a)=>N.a.createElement("div",{style:{width:"100px"}},N.a.createElement(K.a,{name:e,style:{display:"inline-block"}}),N.a.createElement("span",null,e))}]),Y={labelCol:{span:8},wrapperCol:{span:16}},B=e=>{const[a]=w.a.useForm();return N.a.createElement(w.a,Object.assign({},Y,{form:a,name:"advanced_search",className:"ant-advanced-search-form",onFinish:a=>{console.log("values",a),e.changeSearch(a)}}),N.a.createElement(h.a,{gutter:24},N.a.createElement(_.a,{span:8},N.a.createElement(w.a.Item,{name:"id",label:"ID"},N.a.createElement(O.a,null))),N.a.createElement(_.a,{span:8},N.a.createElement(w.a.Item,{name:"is_show_app",label:"Show App"},N.a.createElement(C.a,{allowClear:!0},N.a.createElement(P,{value:1},"Yes"),N.a.createElement(P,{value:0},"No"))))),N.a.createElement(h.a,null,N.a.createElement(_.a,{span:24,style:{textAlign:"right"}},N.a.createElement(p.a,{type:"primary",htmlType:"submit",loading:e.loading},"Search"),N.a.createElement(p.a,{style:{margin:"0 8px"},onClick:()=>{a.resetFields()}},"Reset"))))},H=e=>{let{visible:a,onCreate:t,onCancel:n,formData:l,disabled:c}=e;const[i]=w.a.useForm(),[r,s]=Object(z.useState)({}),[o,m]=Object(z.useState)(!1);Object(z.useEffect)(()=>{console.log("formdata",l),Object.keys(l).length?i.setFieldsValue(l):i.resetFields()},[l]);return N.a.createElement(d.a,{visible:a,title:"sku",okText:"Submit",cancelText:"Cancel",onCancel:n,onOk:()=>{i.validateFields().then(e=>{i.resetFields(),t(e)}).catch(e=>{console.log("Validate Failed:",e)})}},N.a.createElement(w.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:14}},{form:i,name:"form_in_modal"}),N.a.createElement(w.a.Item,{name:"id",label:"ID"},N.a.createElement(O.a,{disabled:!0})),N.a.createElement(w.a.Item,{name:"tier_1_cat",label:"Tier1 Cat",rules:[{required:!0}]},N.a.createElement(O.a,null)),N.a.createElement(w.a.Item,{name:"tier_2_cat",label:"Tier2 Cat"},N.a.createElement(O.a,null)),N.a.createElement(w.a.Item,{name:"tier_3_cat",label:"Tier3 Cat"},N.a.createElement(O.a,null)),N.a.createElement(w.a.Item,{name:"shown_name",label:"Sku name",rules:[{required:!0}]},N.a.createElement(O.a,null))))};var M=e=>{const[a,t]=Object(z.useState)({list:[],pagination:{current:1,pageSize:10},search:{},loading:!0,visible:!1,disabled:!1,formData:{}}),[n,c]=Object(z.useState)({visible:!1,data:{}});Object(z.useEffect)(()=>{const{pagination:e}=a,t={start_row:0,page_size:a.pagination.pageSize};r(t)},[]);const r=e=>{const{pagination:n,search:l}=a;t(Object(o.a)(Object(o.a)({},a),{},{loading:!0})),Object(D.Hb)({categoryJson:JSON.stringify(e)}).then(n=>{t(Object(o.a)(Object(o.a)({},a),{},{visible:!1,list:n.data.list&&Object(F.getKeyList)(n.data.list),loading:!1,search:e.search,pagination:{total:n.data.pager.total,current:e.start_row/e.page_size+1,pageSize:e.page_size}}))}).catch(e=>{console.log("err",e)})};return N.a.createElement(l.a,{className:"animated fadeIn"},N.a.createElement(H,{visible:a.visible,onCreate:e=>{console.log("data",e),e.is_show_app=1,Object(D.s)({categoryJson:JSON.stringify(e)}).then(e=>{s.a.success("success");const t=Object(o.a)(Object(o.a)({},a.search),{},{start_row:0,page_size:10});r(t)}).catch(e=>{console.log("err",e)})},onCancel:()=>{t(Object(o.a)(Object(o.a)({},a),{},{visible:!1}))},formData:a.formData,disabled:a.disabled}),N.a.createElement("div",{className:"web-bread-c"},N.a.createElement(T.a,{arr:["Sku List"]}),N.a.createElement("h3",null,"Sku List"),N.a.createElement("img",{src:A.a,className:"aset",alt:"aset"})),N.a.createElement("div",{className:"base-wr"},N.a.createElement("div",{className:"base-style"},N.a.createElement(B,{changeSearch:e=>{const n=Object(o.a)(Object(o.a)({},e),{},{page_size:10,start_row:0,search:e});t(Object(o.a)(Object(o.a)({},a),{},{search:e})),r(n)},loading:a.loading})),N.a.createElement(h.a,null,N.a.createElement(_.a,{span:24},N.a.createElement("div",{className:"base-style"},N.a.createElement(h.a,null,N.a.createElement(_.a,{span:24,style:{textAlign:"right",marginBottom:"15px"}},N.a.createElement(p.a,{type:"primary",onClick:()=>{t(Object(o.a)(Object(o.a)({},a),{},{visible:!0,formData:{}}))}},"Create Sku"))),N.a.createElement(i.a,{columns:V(e=>{console.log("data",e),t(Object(o.a)(Object(o.a)({},a),{},{visible:!0,formData:e}))},e=>{console.log("data",e),Object(D.s)({categoryJson:JSON.stringify({id:e.id,tier_1_cat:e.tier_1_cat,shown_name:e.shown_name,is_show_app:1==e.is_show_app?0:1})}).then(e=>{const t=Object(o.a)(Object(o.a)({},a.search),{},{page_size:a.pagination.pageSize,start_row:a.pagination.pageSize*(a.pagination.current-1),search:a.search});r(t)}).catch(e=>{console.log("err",e)})},e=>{console.log("dataconfirm",e),Object(D.D)({id:e.id}).then(e=>{const{pagination:t}=a,n={start_row:0,page_size:a.pagination.pageSize};r(n)})}),rowKey:e=>e.key,dataSource:a.list,onChange:e=>{console.log("state",a);const t=Object(o.a)(Object(o.a)({},a.search),{},{page_size:e.pageSize,start_row:e.pageSize*(e.current-1),search:a.search});console.log("ttt",t),r(t)},loading:a.loading,bordered:!0,rowSelection:Object(o.a)({type:"checkbox"},()=>{}),pagination:a.pagination,scroll:{scrollToFirstRowOnChange:!0,x:1e3}}))))))};a.default=M}}]);