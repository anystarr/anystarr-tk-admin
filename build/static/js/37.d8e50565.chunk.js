(this["webpackJsonpreact-admin"]=this["webpackJsonpreact-admin"]||[]).push([[37],{1016:function(e,t,a){"use strict";var n=a(39),l=a(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M476 399.1c0-3.9-3.1-7.1-7-7.1h-42c-3.8 0-7 3.2-7 7.1V484h-84.5c-4.1 0-7.5 3.1-7.5 7v42c0 3.8 3.4 7 7.5 7H420v84.9c0 3.9 3.2 7.1 7 7.1h42c3.9 0 7-3.2 7-7.1V540h84.5c4.1 0 7.5-3.2 7.5-7v-42c0-3.9-3.4-7-7.5-7H476v-84.9zM560.5 704h-225c-4.1 0-7.5 3.2-7.5 7v42c0 3.8 3.4 7 7.5 7h225c4.1 0 7.5-3.2 7.5-7v-42c0-3.8-3.4-7-7.5-7zm-7.1-502.6c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v704c0 17.7 14.3 32 32 32h512c17.7 0 32-14.3 32-32V397.3c0-8.5-3.4-16.6-9.4-22.6L553.4 201.4zM664 888H232V264h282.2L664 413.8V888zm190.2-581.4L611.3 72.9c-6-5.7-13.9-8.9-22.2-8.9H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h277l219 210.6V824c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V329.6c0-8.7-3.5-17-9.8-23z"}}]},name:"diff",theme:"outlined"},c=a(54),o=function(e,t){return l.createElement(c.a,Object(n.a)(Object(n.a)({},e),{},{ref:t,icon:r}))},i=l.forwardRef(o);t.a=i},1017:function(e,t,a){"use strict";var n=a(39),l=a(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"},c=a(54),o=function(e,t){return l.createElement(c.a,Object(n.a)(Object(n.a)({},e),{},{ref:t,icon:r}))},i=l.forwardRef(o);t.a=i},123:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRenderPropValue=void 0;t.getRenderPropValue=function(e){return e?"function"===typeof e?e():e:null}},182:function(e,t,a){"use strict";a(49),a(56),a(183),a(185)},183:function(e,t,a){"use strict";a(49),a(184)},184:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){"use strict";var n=a(35).default,l=a(37).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(38)),c=n(a(51)),o=n(a(217)),i=n(a(36)),s=n(a(192)),m=n(a(295)),d=l(a(0)),u=a(42),p=n(a(187)),f=a(82),v=a(188),g=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a},b=d.forwardRef((function(e,t){var a=e.prefixCls,n=e.placement,l=void 0===n?"top":n,b=e.trigger,E=void 0===b?"click":b,y=e.okType,h=void 0===y?"primary":y,O=e.icon,C=void 0===O?d.createElement(o.default,null):O,x=e.children,w=e.overlayClassName,k=e.onOpenChange,j=e.onVisibleChange,_=g(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),z=d.useContext(u.ConfigContext).getPrefixCls,N=(0,s.default)(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),P=(0,c.default)(N,2),S=P[0],I=P[1],R=function(e,t){I(e,!0),null===j||void 0===j||j(e,t),null===k||void 0===k||k(e,t)},T=z("popover",a),V=z("popconfirm",a),L=(0,i.default)(V,w);return d.createElement(p.default,(0,r.default)({},_,{trigger:E,prefixCls:T,placement:l,onOpenChange:function(t){var a=e.disabled;void 0!==a&&a||R(t)},open:S,ref:t,overlayClassName:L,_overlay:d.createElement(v.Overlay,(0,r.default)({okType:h,icon:C},e,{prefixCls:T,close:function(e){R(!1,e)},onConfirm:function(t){var a;return null===(a=e.onConfirm)||void 0===a?void 0:a.call(void 0,t)},onCancel:function(t){var a;R(!1,t),null===(a=e.onCancel)||void 0===a||a.call(void 0,t)}}))}),(0,f.cloneElement)(x,{onKeyDown:function(e){var t,a;d.isValidElement(x)&&(null===(a=null===x||void 0===x?void 0:(t=x.props).onKeyDown)||void 0===a||a.call(t,e)),function(e){e.keyCode===m.default.ESC&&S&&R(!1,e)}(e)}}))}));t.default=b},187:function(e,t,a){"use strict";var n=a(37).default,l=a(35).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a(38)),c=n(a(0)),o=a(123),i=a(99),s=a(42),m=l(a(140)),d=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a},u=function(e){var t=e.title,a=e.content,n=e.prefixCls;return c.createElement(c.Fragment,null,t&&c.createElement("div",{className:"".concat(n,"-title")},(0,o.getRenderPropValue)(t)),c.createElement("div",{className:"".concat(n,"-inner-content")},(0,o.getRenderPropValue)(a)))},p=c.forwardRef((function(e,t){var a=e.prefixCls,n=e.title,l=e.content,o=e._overlay,p=e.placement,f=void 0===p?"top":p,v=e.trigger,g=void 0===v?"hover":v,b=e.mouseEnterDelay,E=void 0===b?.1:b,y=e.mouseLeaveDelay,h=void 0===y?.1:y,O=e.overlayStyle,C=void 0===O?{}:O,x=d(e,["prefixCls","title","content","_overlay","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),w=c.useContext(s.ConfigContext).getPrefixCls,k=w("popover",a),j=w(),_=c.useMemo((function(){return o||(n||l?c.createElement(u,{prefixCls:k,title:n,content:l}):null)}),[o,n,l,k]);return c.createElement(m.default,(0,r.default)({placement:f,trigger:g,mouseEnterDelay:E,mouseLeaveDelay:h,overlayStyle:C},x,{prefixCls:k,ref:t,overlay:_,transitionName:(0,i.getTransitionName)(j,"zoom-big",x.transitionName)}))}));t.default=p},188:function(e,t,a){"use strict";var n=a(37).default,l=a(35).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Overlay=void 0;var r=l(a(38)),c=n(a(0)),o=l(a(55)),i=a(279),s=l(a(311)),m=l(a(174)),d=l(a(191)),u=a(123),p=a(42);t.Overlay=function(e){var t=e.prefixCls,a=e.okButtonProps,n=e.cancelButtonProps,l=e.title,f=e.cancelText,v=e.okText,g=e.okType,b=e.icon,E=e.showCancel,y=void 0===E||E,h=e.close,O=e.onConfirm,C=e.onCancel,x=c.useContext(p.ConfigContext).getPrefixCls;return c.createElement(m.default,{componentName:"Popconfirm",defaultLocale:d.default.Popconfirm},(function(e){return c.createElement("div",{className:"".concat(t,"-inner-content")},c.createElement("div",{className:"".concat(t,"-message")},b&&c.createElement("span",{className:"".concat(t,"-message-icon")},b),c.createElement("div",{className:"".concat(t,"-message-title")},(0,u.getRenderPropValue)(l))),c.createElement("div",{className:"".concat(t,"-buttons")},y&&c.createElement(o.default,(0,r.default)({onClick:C,size:"small"},n),null!==f&&void 0!==f?f:e.cancelText),c.createElement(s.default,{buttonProps:(0,r.default)((0,r.default)({size:"small"},(0,i.convertLegacyProps)(g)),a),actionFn:O,close:h,prefixCls:x("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},null!==v&&void 0!==v?v:e.okText)))}))}},1969:function(e,t,a){"use strict";a.r(t);a(58);var n=a(59),l=a.n(n),r=(a(83),a(84)),c=a.n(r),o=(a(77),a(70)),i=a.n(o),s=a(68),m=(a(94),a(95)),d=a.n(m),u=(a(56),a(55)),p=a.n(u),f=(a(63),a(66)),v=a.n(f),g=(a(64),a(67)),b=a.n(g),E=(a(74),a(75)),y=a.n(E),h=(a(69),a(72)),O=a.n(h),C=(a(180),a(181)),x=a.n(C),w=(a(278),a(282)),k=a.n(w),j=(a(289),a(140)),_=a.n(j),z=(a(408),a(426)),N=a.n(z),P=(a(375),a(352)),S=a.n(P),I=(a(182),a(186)),R=a.n(I),T=(a(62),a(65)),V=a.n(T),L=(a(79),a(80)),D=a.n(L),F=a(0),M=a.n(F),A=a(76),H=(a(116),a(60)),B=a(103),J=a(122),K=(a(12),a(135)),q=a.n(K),U=a(78),G=a.n(U),W=a(319),X=a(1016),Y=a(1017),$=a(2003);const{MonthPicker:Q,RangePicker:Z}=D.a,{Option:ee}=V.a,te=([{label:"\u5f85\u5904\u7406",value:"to_handle"},{label:"\u5df2\u5904\u7406",value:"handled"}].map((e,t)=>M.a.createElement(ee,{key:t,value:e.value},e.label)),(e,t,a)=>[{title:"operation",dataIndex:"edit",key:"edit",width:"100",align:"center",render:(e,n)=>{const l=M.a.createElement(S.a,null,M.a.createElement(S.a.Item,null,M.a.createElement(R.a,{title:"Are you sure to close this task",onConfirm:()=>{t(n)},okText:"Yes",cancelText:"No"},M.a.createElement("a",null,M.a.createElement(W.a,null),M.a.createElement("span",{style:{marginLeft:"4px"}},"Close Task")))),M.a.createElement(S.a.Item,null,M.a.createElement("a",{onClick:()=>{a(n)}},M.a.createElement(X.a,null),M.a.createElement("span",{style:{marginLeft:"4px"}},"Modify Reward Amount"))));return M.a.createElement(N.a,{overlay:l,style:{width:"150px"}},M.a.createElement("a",{className:"ant-dropdown-link",onClick:e=>e.preventDefault()},M.a.createElement(Y.a,{style:{fontSize:"25px",color:"#000"}})))}},{title:"Application ID",dataIndex:"id",key:"id",width:"100",align:"center",render:(t,a)=>M.a.createElement("a",{className:"action-btn",onClick:()=>{e(a)}},t)},{title:"Campaign title",dataIndex:"title",key:"title",align:"center",width:300,render:(e,t)=>M.a.createElement(_.a,{title:e},M.a.createElement("div",{style:{width:"300px"}},e))},{title:"Campaign type",dataIndex:"type",key:"type",align:"center",render:(e,t)=>1==e?M.a.createElement("span",{className:"table-row-p"},M.a.createElement($.a,{style:{color:"#868AF6",fontSize:"13px",marginRight:"3px"}}),"CPA"):3==e?M.a.createElement("span",{className:"table-row-green"},M.a.createElement($.a,{style:{color:"#18BFA4",fontSize:"13px",marginRight:"3px"}}),"Branding"):4==e?M.a.createElement("span",{className:"table-row-red"},M.a.createElement($.a,{style:{color:"#f85c5a",fontSize:"13px",marginRight:"3px"}}),"abComo"):null},{title:"Username",dataIndex:"user",key:"user",width:"100",align:"center"},{title:"Application date",dataIndex:"create_time",key:"create_time",width:160,align:"center"},{title:"commission",dataIndex:"commission",key:"commission",width:"100",align:"center"},{title:"Leading time ",dataIndex:"update_time",key:"update_time",width:"100",align:"center",render:(e,t)=>M.a.createElement("div",null,Object(J.b)(t.submit_time,t.review_time))},{title:"Task status",dataIndex:"status",width:200,key:"status",align:"left",render:(e,t)=>M.a.createElement("div",{style:{width:"160px"}},M.a.createElement(k.a,{status:0==e?"default":"success"}),M.a.createElement("span",null,0==e?"Task closed":1==e?"New Task":2==e?"Pending proof upload":3==e?"Pending for Review":4==e?"Resubmit evidence":5==e?"Task Approved":7==e?"Pending for Content Review":8==e?"Resubmit Content":9==e?"Pending proof upload":""))},{title:"# of upload images",dataIndex:"images",key:"images",align:"center",render:(e,t)=>M.a.createElement("div",{style:{display:"flex"}},e&&JSON.parse(e).map((e,t)=>(console.log("urlll,",e),/^.+(\.mp4|\.avi|video|\.mov|\.rmvb|.flv)$/.test(e)?M.a.createElement("video",{src:e,controls:"controls",style:{width:"100px",marginLeft:"10px"}},"\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301 video \u6807\u7b7e\u3002"):M.a.createElement(x.a,{src:e,style:{maxWidth:"70px",marginLeft:"10px"}}))))},{title:"Link",dataIndex:"linkes",key:"linkes",align:"center",width:"100",render:(e,t)=>M.a.createElement("div",null,Object(J.e)(e)?JSON.parse(e).map((e,t)=>M.a.createElement("a",{href:e,target:"_blank"},e)):e)}]),ae={labelCol:{span:8},wrapperCol:{span:16}},ne=e=>{const[t]=O.a.useForm();return M.a.createElement(O.a,Object.assign({},ae,{form:t,name:"advanced_search",className:"ant-advanced-search-form",onFinish:t=>{console.log("values",t),e.changeSearch(t)}}),M.a.createElement(v.a,{gutter:24},M.a.createElement(b.a,{span:8},M.a.createElement(O.a.Item,{name:"key",label:"Key"},M.a.createElement(y.a,null))),M.a.createElement(b.a,{span:8},M.a.createElement(O.a.Item,{name:"status",label:"Task status"},M.a.createElement(V.a,{allowClear:!0},M.a.createElement(ee,{value:"0"},"closed"),M.a.createElement(ee,{value:"1"},"new task"),M.a.createElement(ee,{value:"3"},"pending for review"),M.a.createElement(ee,{value:"4"},"resubmit evidence"),M.a.createElement(ee,{value:"5"},"task approved"),M.a.createElement(ee,{value:"7"},"pending for content review"),M.a.createElement(ee,{value:"8"},"resubmit content")))),M.a.createElement(b.a,{span:8},M.a.createElement(O.a.Item,{name:"user",label:"User"},M.a.createElement(y.a,null)))),M.a.createElement(v.a,{gutter:24},M.a.createElement(b.a,{span:8},M.a.createElement(O.a.Item,{name:"campaign_id",label:"Campaign ID"},M.a.createElement(y.a,null))),M.a.createElement(b.a,{span:8},M.a.createElement(O.a.Item,{name:"type",label:"Campaign type"},M.a.createElement(V.a,{allowClear:!0},M.a.createElement(ee,{value:"1"},"CPA"),M.a.createElement(ee,{value:"3"},"Branding"),M.a.createElement(ee,{value:"4"},"abComo"))))),M.a.createElement(v.a,null,M.a.createElement(b.a,{span:24,style:{textAlign:"right"}},M.a.createElement(p.a,{type:"primary",htmlType:"submit",loading:e.loading},"Search"),M.a.createElement(p.a,{style:{margin:"0 8px"},onClick:()=>{t.resetFields()}},"Reset"))))},le=e=>{let{visible:t,onCreate:a,onCancel:n,formData:l,disabled:r}=e;const[c]=O.a.useForm(),[o,i]=Object(F.useState)({}),[s,m]=Object(F.useState)(!1);Object(F.useEffect)(()=>{Object.keys(l).length?c.setFieldsValue(l):c.resetFields()},[]);return M.a.createElement(d.a,{visible:t,title:"Modify Reward Amount",okText:"Submit",cancelText:"Cancel",onCancel:n,onOk:()=>{c.validateFields().then(e=>{c.resetFields(),a(e)}).catch(e=>{console.log("Validate Failed:",e)})}},M.a.createElement(O.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:14}},{form:c,name:"form_in_modal"}),M.a.createElement(O.a.Item,{name:"amount",label:"reward amount",rules:[{required:!0}]},M.a.createElement(y.a,null))))};var re=e=>{const[t,a]=Object(F.useState)({list:[],pagination:{current:1,pageSize:10},search:{},loading:!0,visible:!1,disabled:!1,formData:{},taskId:null}),[n,r]=Object(F.useState)({visible:!1,data:{}});Object(F.useEffect)(()=>{const{pagination:e}=t,a={start_row:0,page_size:t.pagination.pageSize};o(a)},[]);const o=e=>{console.log("parasm");const{pagination:n,search:l}=t;a(Object(s.a)(Object(s.a)({},t),{},{loading:!0})),Object(H.X)({taskJson:JSON.stringify(Object(J.a)(e))}).then(n=>{a(Object(s.a)(Object(s.a)({},t),{},{visible:!1,list:n.data.list&&Object(B.getKeyList)(n.data.list),loading:!1,search:e.search,pagination:{total:n.data.pager.total,current:e.start_row/e.page_size+1,pageSize:e.page_size}}))}).catch(e=>{console.log("err",e)})};return M.a.createElement(l.a,{className:"animated fadeIn"},M.a.createElement(le,{visible:t.visible,onCreate:e=>{console.log("datammm",e);let a=t.taskId;console.log("taskId",a);let n={id:a,amount:e.amount};Object(H.ic)(n).then(e=>{i.a.success("success");const a={start_row:0,page_size:t.pagination.pageSize};o(a)})},onCancel:()=>{a(Object(s.a)(Object(s.a)({},t),{},{visible:!1}))},formData:t.formData,disabled:t.disabled}),M.a.createElement("div",{className:"web-bread-c"},M.a.createElement(A.a,{arr:["Task List"]}),M.a.createElement("h3",null,"Task List"),M.a.createElement("a",{onClick:()=>{e.history.push("/tasks_ma/tasks_new")}},"Go to new edition"),M.a.createElement("img",{src:G.a,className:"aset",alt:"aset"})),M.a.createElement("div",{className:"base-wr"},M.a.createElement("div",{className:"base-style"},M.a.createElement(ne,{changeSearch:e=>{const n=Object(s.a)(Object(s.a)({},e),{},{page_size:10,start_row:0,search:e});a(Object(s.a)(Object(s.a)({},t),{},{search:e})),o(n)},loading:t.loading})),M.a.createElement(v.a,null,M.a.createElement(b.a,{span:24},M.a.createElement("div",{className:"base-style"},M.a.createElement(c.a,{columns:te(e=>{console.log("data",e);var t=q.a+"/taskDetail/"+e.id;window.open(t,"_blank").focus()},e=>{console.log("close task",e),Object(H.f)({id:e.id}).then(e=>{i.a.success("close success");const a={start_row:0,page_size:t.pagination.pageSize};o(a)})},e=>{a(Object(s.a)(Object(s.a)({},t),{},{visible:!0,taskId:e.id}))}),rowKey:e=>e.key,dataSource:t.list,onChange:e=>{console.log("state",t);const a=Object(s.a)(Object(s.a)({},t.search),{},{page_size:e.pageSize,start_row:e.pageSize*(e.current-1),search:t.search});console.log("ttt",a),o(a)},bordered:!0,size:"small",loading:t.loading,pagination:t.pagination,scroll:{scrollToFirstRowOnChange:!0,x:1e3}}))))))};t.default=re},319:function(e,t,a){"use strict";var n=a(39),l=a(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},c=a(54),o=function(e,t){return l.createElement(c.a,Object(n.a)(Object(n.a)({},e),{},{ref:t,icon:r}))},i=l.forwardRef(o);t.a=i}}]);