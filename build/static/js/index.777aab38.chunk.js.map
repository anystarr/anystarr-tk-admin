{"version":3,"sources":["../node_modules/screenfull/dist/screenfull.js","../node_modules/echarts/lib/chart/pie.js","../node_modules/echarts/lib/chart/pie/PieSeries.js","../node_modules/echarts/lib/component/helper/selectableMixin.js","../node_modules/echarts/lib/chart/pie/PieView.js","../node_modules/echarts/lib/action/createDataSelectAction.js","../node_modules/echarts/lib/chart/pie/pieLayout.js","../node_modules/echarts/lib/chart/pie/labelLayout.js","../node_modules/echarts/lib/chart/line.js","../node_modules/echarts/lib/chart/line/LineSeries.js","../node_modules/echarts/lib/chart/line/LineView.js","../node_modules/echarts/lib/chart/line/lineAnimationDiff.js","../node_modules/echarts/lib/chart/line/poly.js","../node_modules/echarts/lib/processor/dataSample.js","../node_modules/echarts/lib/chart/scatter.js","../node_modules/echarts/lib/chart/scatter/ScatterSeries.js","../node_modules/echarts/lib/chart/scatter/ScatterView.js","../node_modules/echarts/lib/chart/helper/LargeSymbolDraw.js","../node_modules/echarts/lib/chart/pictorialBar.js","../node_modules/echarts/lib/chart/bar/PictorialBarSeries.js","../node_modules/echarts/lib/chart/bar/PictorialBarView.js","../node_modules/@ant-design/icons-svg/es/asn/CloudDownloadOutlined.js","../node_modules/@ant-design/icons/es/icons/CloudDownloadOutlined.js","views/Index/Index.jsx","views/Index/index.js","views/TiktokUserList/TiktokUser.jsx","views/TiktokUserList/index.js","views/EventList/TiktokUser.jsx","views/EventList/index.js","../node_modules/@ant-design/icons-svg/es/asn/UploadOutlined.js","../node_modules/@ant-design/icons/es/icons/UploadOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/SearchOutlined.js","../node_modules/@ant-design/icons/es/icons/SearchOutlined.js","../node_modules/echarts/lib/visual/symbol.js","../node_modules/echarts/lib/layout/points.js","../node_modules/echarts/lib/chart/helper/SymbolDraw.js","../node_modules/echarts/lib/chart/helper/Symbol.js","../node_modules/echarts/lib/chart/line/helper.js"],"names":["document","window","isCommonjs","module","exports","fn","val","fnMap","i","l","length","ret","eventNameMap","change","fullscreenchange","error","fullscreenerror","screenfull","request","element","options","Promise","resolve","reject","onFullScreenEntered","this","off","bind","on","returnPromise","documentElement","requestFullscreen","then","catch","exit","isFullscreen","onFullScreenExit","exitFullscreen","toggle","onchange","callback","onerror","event","eventName","addEventListener","removeEventListener","raw","Object","defineProperties","get","Boolean","fullscreenElement","enumerable","isEnabled","fullscreenEnabled","echarts","require","zrUtil","createDataSelectAction","dataColor","pieLayout","dataFilter","type","method","registerVisual","registerLayout","curry","registerProcessor","createListSimply","modelUtil","getPercentWithPrecision","dataSelectableMixin","retrieveRawAttr","makeSeriesEncodeForNameBased","LegendVisualProvider","PieSeries","extendSeriesModel","init","option","superApply","arguments","legendVisualProvider","getData","getRawData","updateSelectedMap","_createSelectableList","_defaultLabelLine","mergeOption","newOption","superCall","getInitialData","ecModel","coordDimensions","encodeDefaulter","data","valueDim","mapDimension","targetList","len","count","push","name","getName","value","selected","getDataParams","dataIndex","params","valueList","each","percent","hostModel","$vars","defaultEmphasis","labelLineNormalOpt","labelLine","labelLineEmphasisOpt","emphasis","show","label","defaultOption","zlevel","z","legendHoverLink","hoverAnimation","center","radius","clockwise","startAngle","minAngle","minShowLabelAngle","selectedOffset","hoverOffset","avoidLabelOverlap","percentPrecision","stillShowZeroSum","left","top","right","bottom","width","height","rotate","position","alignTo","margin","bleedMargin","distanceToLabelLine","length2","smooth","lineStyle","itemStyle","borderWidth","animationType","animationTypeUpdate","animationEasing","mixin","_default","_targetList","isArray","slice","_selectTargetMap","reduce","targetMap","target","set","createHashMap","select","id","unSelect","toggleSelected","isSelected","graphic","ChartView","updateDataSelected","uid","seriesModel","hasAnimation","api","dispatchAction","from","seriesId","idx","toggleItemSelected","getItemGraphicEl","getItemLayout","el","layout","midAngle","endAngle","offset","Math","cos","sin","animate","when","start","attr","PiePiece","Group","call","sector","Sector","z2","polyline","Polyline","text","Text","add","updateData","piePieceProto","prototype","firstCreate","childAt","labelText","itemModel","getItemModel","sectorShape","extend","getShallow","setShape","shape","r","r0","initProps","updateProps","visualColor","getItemVisual","useStyle","defaults","lineJoin","fill","getModel","getItemStyle","hoverStyle","cursorStyle","withAnimation","_updateLabel","highDownOnUpdate","fromState","toState","isAnimationEnabled","ignore","hoverIgnore","stopAnimation","animateTo","normalIgnore","setHoverStyle","labelLayout","isNaN","x","y","targetLineShape","points","linePoints","targetTextStyle","style","rotation","origin","labelModel","labelHoverModel","labelLineModel","labelLineHoverModel","setLabelStyle","labelFetcher","labelDataIndex","defaultText","autoColor","useInsideStyle","inside","textAlign","textVerticalAlign","verticalAlign","opacity","setStyle","stroke","getLineStyle","inherits","sectorGroup","_sectorGroup","render","payload","oldData","_data","group","isFirstRender","onSectorClick","selectedMode","diff","piePiece","eachChild","child","setItemGraphicEl","update","newIdx","oldIdx","remove","execute","s","max","getWidth","getHeight","removeClipPath","setClipPath","_createClipPath","cx","cy","dispose","cb","clipPath","PI","containPoint","point","itemLayout","dx","dy","sqrt","seriesType","actionInfos","actionInfo","registerAction","eachComponent","mainType","subType","query","_number","parsePercent","linearMap","PI2","RADIAN","eachSeriesByType","viewRect","getLayoutRect","getBoxLayoutParams","getViewRect","size","min","validDataCount","sum","getSum","unitRadian","roseType","extent","getDataExtent","restAngle","valueSumLargerThanMinAngle","currentAngle","dir","angle","setItemLayout","NaN","textContain","adjustSingleSide","list","viewWidth","viewHeight","viewLeft","viewTop","farthestX","shiftDown","end","delta","j","shiftUp","changeX","isDownList","lastDeltaX","Number","MAX_VALUE","labelAlignTo","deltaY","abs","len2","deltaX","sort","a","b","lastY","upList","downList","isPositionCenter","labelLayoutList","hasLabelRotate","minShowLabelRadian","labelPosition","labelDistance","labelMargin","font","getFont","labelLineLen","labelLineLen2","textX","textY","labelRotate","getFormattedLabel","textRect","getBoundingRect","isLabelInside","x1","y1","x2","y2","x3","leftList","rightList","leftmostX","rightmostX","targetTextWidth","isAlignToEdge","realTextWidth","truncateText","dist","avoidOverlap","visualSymbol","layoutPoints","dataSample","PRIORITY","PROCESSOR","STATISTIC","__DEV__","createListFromArray","dependencies","getSource","useEncodeDefaulter","coordinateSystem","clip","step","smoothMonotone","symbol","symbolSize","symbolRotate","showSymbol","showAllSymbol","connectNulls","sampling","progressive","hoverLayerThreshold","Infinity","fromPoints","SymbolDraw","SymbolClz","lineAnimationDiff","_poly","Polygon","_helper","prepareDataCoordInfo","getStackedOnPoint","_createClipPathFromCoordSys","createGridClipPath","createPolarClipPath","isPointsSame","points1","points2","p1","p2","getBoundingDiff","min1","max1","min2","max2","getSmooth","turnPointsIntoStep","coordSys","stepTurnAt","baseAxis","getBaseAxis","baseIndex","dim","stepPoints","nextPt","pt","stepPt","middle","stepPt2","getIsIgnoreFunc","isAuto","categoryAxis","getAxesByScale","axisExtent","getExtent","availSize","scale","dataLen","round","getSymbolSize","isHorizontal","canShowAllSymbolForCategory","categoryDataDim","labelMap","getViewLabels","labelItem","tickValue","hasOwnProperty","createLineClipPath","rectShape","expandSize","lineGroup","symbolDraw","_symbolDraw","_lineGroup","lineStyleModel","areaStyleModel","mapArray","isCoordSysPolar","prevCoordSys","_coordSys","_polyline","polygon","_polygon","isAreaChart","isEmpty","valueOrigin","stackedOnPoints","dataCoordInfo","getStackedOnPoints","isIgnoreFunc","eachItemGraphicEl","__temp","clipShapeForSymbol","getArea","r1","_clipShapeForSymbol","_step","_newPolygon","isIgnore","clipShape","_stackedOnPoints","_points","_updateAnimation","_newPolyline","visualMetaList","getVisual","coordDim","visualMeta","dimIndex","dimension","dimName","dimensions","dimInfo","getDimensionInfo","axis","getAxis","colorStops","map","stops","stop","coord","toGlobalCoord","dataToCoord","color","stopLen","outerColors","reverse","minCoord","maxCoord","coordSpan","unshift","gradient","LinearGradient","getVisualGradient","stackedOnSeries","getCalculationInfo","stackedOnSmooth","getAreaStyle","_valueOrigin","highlight","queryDataIndex","Array","contain","setZ","stopSymbolAnimation","downplay","silent","current","stackedOnCurrent","next","stackedOnNext","__points","updatedDataInfo","diffStatus","status","cmd","idx1","ptIdx","animators","during","removeAll","newData","oldStackedOnPoints","newStackedOnPoints","oldCoordSys","newCoordSys","oldValueOrigin","newValueOrigin","diffResult","diffData","currPoints","nextPoints","currStackedPoints","nextStackedPoints","sortedIndices","rawIndices","newDataOldCoordInfo","oldDataNewCoordInfo","diffItem","pointAdded","currentPt","getRawIndex","dataToPoint","dataDimsForPoint","rawIndex","sortedCurrPoints","sortedNextPoints","sortedCurrStackedPoints","sortedNextStackedPoints","sortedStatus","Path","vec2","fixClipWithShadow","vec2Min","vec2Max","scaleAndAdd","v2Copy","copy","v","cp0","cp1","isPointNull","p","drawSegment","ctx","segLen","allLen","smoothMin","smoothMax","drawMono","apply","drawNonMono","prevIdx","k","prevP","ctrlLen","bezierCurveTo","lineTo","nextIdx","nextP","ratioNextSeg","lenPrevSeg","lenNextSeg","sub","getBoundingBox","smoothConstraint","ptMin","ptMax","brush","buildPath","result","bbox","stackedOnBBox","closePath","samplers","average","frame","isFinite","nearest","indexSampler","modifyOutputEnd","reset","sampler","valueAxis","getOtherAxis","rate","setData","downSample","brushSelector","getProgressive","large","getProgressiveThreshold","progressiveThreshold","largeThreshold","LargeSymbolDraw","pointsLayout","extendChartView","_updateSymbolDraw","_getClipShape","_finished","incrementalPrepareRender","incrementalPrepareUpdate","incrementalRender","taskParams","incrementalUpdate","updateTransform","dirty","isPersistent","res","progress","updateLayout","clipArea","isLargeDraw","pipelineContext","_isLargeDraw","createSymbol","IncrementalDisplayable","LargeSymbolPath","extendShape","symbolProxy","softClipShape","path","symbolProxyShape","getContext","afterBrush","setTransform","fillRect","restoreTransform","findDataIndex","w","h","x0","y0","largeSymbolProto","_incremental","opt","symbolEl","rectHover","cursor","getLayout","_setCommon","startIndex","endIndex","byteOffset","Float32Array","buffer","_clearIncremental","addDisplayable","incremental","isIncremental","setColor","extrudeShadow","seriesIndex","e","offsetX","offsetY","clearDisplaybles","PictorialBarSeries","symbolPosition","symbolOffset","symbolMargin","symbolRepeat","symbolRepeatDirection","symbolClip","symbolBoundingData","symbolPatternSize","barGap","stack","isNumeric","setLabel","BAR_BORDER_WIDTH_QUERY","LAYOUT_ATTRS","xy","wh","index","posDesc","pathForLineWidth","Circle","getSymbolMeta","symbolMeta","symbolType","animationModel","output","boundingLength","zeroPx","pxSignIdx","symbolBoundingExtent","convertToCoordOnAxis","coordSysExtent","repeatCutLength","pxSign","prepareBarLength","categoryDim","categorySize","symbolScale","prepareSymbolSize","valueLineWidth","getLineScale","prepareLineWidth","unitLength","pathLen","absBoundingLength","retrieve","hasEndGap","lastIndexOf","uLenWithMargin","endFix","repeatSpecified","repeatTimes","toIntTimes","sizeFix","pathPosition","bundlePosition","barRectShape","ecSize","prepareLayoutInfo","parse","createPath","culling","strokeNoScale","createOrUpdateRepeatSymbols","bar","isUpdate","bundle","__pictorialBundle","unit","eachPath","__pictorialAnimationIndex","__pictorialRepeatTimes","updateAttr","makeTarget","updateHoverAnimation","onMouseOver","onMouseOut","trigger","createOrUpdateSingleSymbol","mainPath","__pictorialMainPath","createOrUpdateBarRect","barRect","__pictorialBarRect","Rect","lineWidth","createOrUpdateClip","__pictorialClipPath","getAnimationDelayParams","parentModel","createBar","__pictorialShapeStr","getShapeStr","__pictorialSymbolMeta","removeBar","labelRect","pathes","parent","join","context","children","immediateAttrs","animationAttrs","updateCommon","normalStyle","barRectHoverStyle","barPositionOutside","times","roundedTimes","ceil","cartesian","coordSysRect","grid","getRect","hasValue","newIndex","oldIndex","pictorialShapeStr","updateBar","noop","CloudDownloadOutlined","props","ref","React","AntdIcon","assign","icon","CloudDownloadOutlinedSvg","displayName","Index","useState","useEffect","className","span","fontSize","Option","MonthPicker","RangePicker","columns","key","deleteById","title","align","avatarUrl","item","src","href","onClick","searchLayout","labelCol","wrapperCol","SearchBar","useForm","form","onFinish","values","changeSearch","gutter","Item","SearchOutlined","htmlType","loading","resetFields","SearchTableView","dataSource","setDataSource","search","visible","disabled","formData","startRow","userId","downloadUserUrl","state","setState","setLoading","pageSize","total","pageI","setPageI","getList","page","searchName","APIGetTikTokUserList","JSON","stringify","resp","console","log","records","finally","WebBreadcrumb","arr","Aset","pagination","APIDeleteByUid","success","rowKey","record","onChange","bordered","scroll","scrollToFirstRowOnChange","TiktokUser","StatusOptions","DetailModal","onCreate","onCancel","okText","cancelText","onOk","validateFields","info","rules","required","apiHref","APIDownloadUserNew","json","resHref","APIGetUserList","userJson","getCleanedParams","getKeyList","pager","start_row","encodeURI","err","APIModifyUserStatus","page_size","prevStatus","marginBottom","backgroundColor","padding","marginLeft","history","customRequest","file","onSuccess","confirm","APIbatchUploadUserList","UploadOutlined","rowSelection","EventList","UploadOutlinedSvg","SearchOutlinedSvg","isFunction","defaultSymbolType","legendSymbol","performRawSeries","keepAspect","hasSymbolTypeCallback","hasSymbolSizeCallback","hasSymbolRotateCallback","hasCallback","seriesSymbol","seriesSymbolSize","setVisual","symbolKeepAspect","isSeriesFiltered","dataEach","hasItemOption","rawValue","getRawValue","setItemVisual","itemSymbolType","itemSymbolSize","itemSymbolRotate","itemSymbolKeepAspect","createRenderPlanner","isDimensionStacked","plan","isLargeRender","dims","dimLen","stackResultDim","segCount","tmpIn","tmpOut","setLayout","isObject","symbolCtor","_symbolCtor","symbolDrawProto","symbolNeedsDraw","normalizeUpdateOpt","makeSeriesScope","hoverItemStyle","hoverLabelModel","SymbolCtor","seriesScope","fadeOut","_seriesScope","updateIncrementalAndHover","isGroup","useHoverLayer","traverse","enableAnimation","getDefaultLabel","symbolProto","getScale","driftSymbol","drift","_createSymbol","symbolPath","_symbolType","toLastFrame","getSymbolPath","setDraggable","draggable","isInit","_updateCommon","fadeIn","_seriesModel","normalStyleAccessPath","emphasisStyleAccessPath","normalLabelAccessPath","emphasisLabelAccessPath","__symbolOriginalScale","ratio","emphasisOpt","shadowBlur","shadowOffsetX","shadowOffsetY","shadowColor","elStyle","symbolInnerColor","liftZ","z2Origin","__z2Origin","useNameLabel","isRectText","keepLabel","stacked","valueStart","getValueStart","baseAxisDim","valueAxisDim","baseDim","baseDataOffset","stackedOverDimension","stackedData"],"mappings":"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","file":"static/js/index.777aab38.chunk.js","sourcesContent":["/*!\n* screenfull\n* v5.1.0 - 2020-12-24\n* (c) Sindre Sorhus; MIT License\n*/\n(function () {\n\t'use strict';\n\n\tvar document = typeof window !== 'undefined' && typeof window.document !== 'undefined' ? window.document : {};\n\tvar isCommonjs = typeof module !== 'undefined' && module.exports;\n\n\tvar fn = (function () {\n\t\tvar val;\n\n\t\tvar fnMap = [\n\t\t\t[\n\t\t\t\t'requestFullscreen',\n\t\t\t\t'exitFullscreen',\n\t\t\t\t'fullscreenElement',\n\t\t\t\t'fullscreenEnabled',\n\t\t\t\t'fullscreenchange',\n\t\t\t\t'fullscreenerror'\n\t\t\t],\n\t\t\t// New WebKit\n\t\t\t[\n\t\t\t\t'webkitRequestFullscreen',\n\t\t\t\t'webkitExitFullscreen',\n\t\t\t\t'webkitFullscreenElement',\n\t\t\t\t'webkitFullscreenEnabled',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t// Old WebKit\n\t\t\t[\n\t\t\t\t'webkitRequestFullScreen',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitCurrentFullScreenElement',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t[\n\t\t\t\t'mozRequestFullScreen',\n\t\t\t\t'mozCancelFullScreen',\n\t\t\t\t'mozFullScreenElement',\n\t\t\t\t'mozFullScreenEnabled',\n\t\t\t\t'mozfullscreenchange',\n\t\t\t\t'mozfullscreenerror'\n\t\t\t],\n\t\t\t[\n\t\t\t\t'msRequestFullscreen',\n\t\t\t\t'msExitFullscreen',\n\t\t\t\t'msFullscreenElement',\n\t\t\t\t'msFullscreenEnabled',\n\t\t\t\t'MSFullscreenChange',\n\t\t\t\t'MSFullscreenError'\n\t\t\t]\n\t\t];\n\n\t\tvar i = 0;\n\t\tvar l = fnMap.length;\n\t\tvar ret = {};\n\n\t\tfor (; i < l; i++) {\n\t\t\tval = fnMap[i];\n\t\t\tif (val && val[1] in document) {\n\t\t\t\tfor (i = 0; i < val.length; i++) {\n\t\t\t\t\tret[fnMap[0][i]] = val[i];\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t})();\n\n\tvar eventNameMap = {\n\t\tchange: fn.fullscreenchange,\n\t\terror: fn.fullscreenerror\n\t};\n\n\tvar screenfull = {\n\t\trequest: function (element, options) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar onFullScreenEntered = function () {\n\t\t\t\t\tthis.off('change', onFullScreenEntered);\n\t\t\t\t\tresolve();\n\t\t\t\t}.bind(this);\n\n\t\t\t\tthis.on('change', onFullScreenEntered);\n\n\t\t\t\telement = element || document.documentElement;\n\n\t\t\t\tvar returnPromise = element[fn.requestFullscreen](options);\n\n\t\t\t\tif (returnPromise instanceof Promise) {\n\t\t\t\t\treturnPromise.then(onFullScreenEntered).catch(reject);\n\t\t\t\t}\n\t\t\t}.bind(this));\n\t\t},\n\t\texit: function () {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tif (!this.isFullscreen) {\n\t\t\t\t\tresolve();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar onFullScreenExit = function () {\n\t\t\t\t\tthis.off('change', onFullScreenExit);\n\t\t\t\t\tresolve();\n\t\t\t\t}.bind(this);\n\n\t\t\t\tthis.on('change', onFullScreenExit);\n\n\t\t\t\tvar returnPromise = document[fn.exitFullscreen]();\n\n\t\t\t\tif (returnPromise instanceof Promise) {\n\t\t\t\t\treturnPromise.then(onFullScreenExit).catch(reject);\n\t\t\t\t}\n\t\t\t}.bind(this));\n\t\t},\n\t\ttoggle: function (element, options) {\n\t\t\treturn this.isFullscreen ? this.exit() : this.request(element, options);\n\t\t},\n\t\tonchange: function (callback) {\n\t\t\tthis.on('change', callback);\n\t\t},\n\t\tonerror: function (callback) {\n\t\t\tthis.on('error', callback);\n\t\t},\n\t\ton: function (event, callback) {\n\t\t\tvar eventName = eventNameMap[event];\n\t\t\tif (eventName) {\n\t\t\t\tdocument.addEventListener(eventName, callback, false);\n\t\t\t}\n\t\t},\n\t\toff: function (event, callback) {\n\t\t\tvar eventName = eventNameMap[event];\n\t\t\tif (eventName) {\n\t\t\t\tdocument.removeEventListener(eventName, callback, false);\n\t\t\t}\n\t\t},\n\t\traw: fn\n\t};\n\n\tif (!fn) {\n\t\tif (isCommonjs) {\n\t\t\tmodule.exports = {isEnabled: false};\n\t\t} else {\n\t\t\twindow.screenfull = {isEnabled: false};\n\t\t}\n\n\t\treturn;\n\t}\n\n\tObject.defineProperties(screenfull, {\n\t\tisFullscreen: {\n\t\t\tget: function () {\n\t\t\t\treturn Boolean(document[fn.fullscreenElement]);\n\t\t\t}\n\t\t},\n\t\telement: {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\treturn document[fn.fullscreenElement];\n\t\t\t}\n\t\t},\n\t\tisEnabled: {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\t// Coerce to boolean in case of old WebKit\n\t\t\t\treturn Boolean(document[fn.fullscreenEnabled]);\n\t\t\t}\n\t\t}\n\t});\n\n\tif (isCommonjs) {\n\t\tmodule.exports = screenfull;\n\t} else {\n\t\twindow.screenfull = screenfull;\n\t}\n})();\n","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nrequire(\"./pie/PieSeries\");\n\nrequire(\"./pie/PieView\");\n\nvar createDataSelectAction = require(\"../action/createDataSelectAction\");\n\nvar dataColor = require(\"../visual/dataColor\");\n\nvar pieLayout = require(\"./pie/pieLayout\");\n\nvar dataFilter = require(\"../processor/dataFilter\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\ncreateDataSelectAction('pie', [{\n  type: 'pieToggleSelect',\n  event: 'pieselectchanged',\n  method: 'toggleSelected'\n}, {\n  type: 'pieSelect',\n  event: 'pieselected',\n  method: 'select'\n}, {\n  type: 'pieUnSelect',\n  event: 'pieunselected',\n  method: 'unSelect'\n}]);\necharts.registerVisual(dataColor('pie'));\necharts.registerLayout(zrUtil.curry(pieLayout, 'pie'));\necharts.registerProcessor(dataFilter('pie'));","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar createListSimply = require(\"../helper/createListSimply\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar _number = require(\"../../util/number\");\n\nvar getPercentWithPrecision = _number.getPercentWithPrecision;\n\nvar dataSelectableMixin = require(\"../../component/helper/selectableMixin\");\n\nvar _dataProvider = require(\"../../data/helper/dataProvider\");\n\nvar retrieveRawAttr = _dataProvider.retrieveRawAttr;\n\nvar _sourceHelper = require(\"../../data/helper/sourceHelper\");\n\nvar makeSeriesEncodeForNameBased = _sourceHelper.makeSeriesEncodeForNameBased;\n\nvar LegendVisualProvider = require(\"../../visual/LegendVisualProvider\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar PieSeries = echarts.extendSeriesModel({\n  type: 'series.pie',\n  // Overwrite\n  init: function (option) {\n    PieSeries.superApply(this, 'init', arguments); // Enable legend selection for each data item\n    // Use a function instead of direct access because data reference may changed\n\n    this.legendVisualProvider = new LegendVisualProvider(zrUtil.bind(this.getData, this), zrUtil.bind(this.getRawData, this));\n    this.updateSelectedMap(this._createSelectableList());\n\n    this._defaultLabelLine(option);\n  },\n  // Overwrite\n  mergeOption: function (newOption) {\n    PieSeries.superCall(this, 'mergeOption', newOption);\n    this.updateSelectedMap(this._createSelectableList());\n  },\n  getInitialData: function (option, ecModel) {\n    return createListSimply(this, {\n      coordDimensions: ['value'],\n      encodeDefaulter: zrUtil.curry(makeSeriesEncodeForNameBased, this)\n    });\n  },\n  _createSelectableList: function () {\n    var data = this.getRawData();\n    var valueDim = data.mapDimension('value');\n    var targetList = [];\n\n    for (var i = 0, len = data.count(); i < len; i++) {\n      targetList.push({\n        name: data.getName(i),\n        value: data.get(valueDim, i),\n        selected: retrieveRawAttr(data, i, 'selected')\n      });\n    }\n\n    return targetList;\n  },\n  // Overwrite\n  getDataParams: function (dataIndex) {\n    var data = this.getData();\n    var params = PieSeries.superCall(this, 'getDataParams', dataIndex); // FIXME toFixed?\n\n    var valueList = [];\n    data.each(data.mapDimension('value'), function (value) {\n      valueList.push(value);\n    });\n    params.percent = getPercentWithPrecision(valueList, dataIndex, data.hostModel.get('percentPrecision'));\n    params.$vars.push('percent');\n    return params;\n  },\n  _defaultLabelLine: function (option) {\n    // Extend labelLine emphasis\n    modelUtil.defaultEmphasis(option, 'labelLine', ['show']);\n    var labelLineNormalOpt = option.labelLine;\n    var labelLineEmphasisOpt = option.emphasis.labelLine; // Not show label line if `label.normal.show = false`\n\n    labelLineNormalOpt.show = labelLineNormalOpt.show && option.label.show;\n    labelLineEmphasisOpt.show = labelLineEmphasisOpt.show && option.emphasis.label.show;\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    hoverAnimation: true,\n    // 默认全局居中\n    center: ['50%', '50%'],\n    radius: [0, '75%'],\n    // 默认顺时针\n    clockwise: true,\n    startAngle: 90,\n    // 最小角度改为0\n    minAngle: 0,\n    // If the angle of a sector less than `minShowLabelAngle`,\n    // the label will not be displayed.\n    minShowLabelAngle: 0,\n    // 选中时扇区偏移量\n    selectedOffset: 10,\n    // 高亮扇区偏移量\n    hoverOffset: 10,\n    // If use strategy to avoid label overlapping\n    avoidLabelOverlap: true,\n    // 选择模式，默认关闭，可选single，multiple\n    // selectedMode: false,\n    // 南丁格尔玫瑰图模式，'radius'（半径） | 'area'（面积）\n    // roseType: null,\n    percentPrecision: 2,\n    // If still show when all data zero.\n    stillShowZeroSum: true,\n    // cursor: null,\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n    width: null,\n    height: null,\n    label: {\n      // If rotate around circle\n      rotate: false,\n      show: true,\n      // 'outer', 'inside', 'center'\n      position: 'outer',\n      // 'none', 'labelLine', 'edge'. Works only when position is 'outer'\n      alignTo: 'none',\n      // Closest distance between label and chart edge.\n      // Works only position is 'outer' and alignTo is 'edge'.\n      margin: '25%',\n      // Works only position is 'outer' and alignTo is not 'edge'.\n      bleedMargin: 10,\n      // Distance between text and label line.\n      distanceToLabelLine: 5 // formatter: 标签文本格式器，同Tooltip.formatter，不支持异步回调\n      // 默认使用全局文本样式，详见TEXTSTYLE\n      // distance: 当position为inner时有效，为label位置到圆心的距离与圆半径(环状图为内外半径和)的比例系数\n\n    },\n    // Enabled when label.normal.position is 'outer'\n    labelLine: {\n      show: true,\n      // 引导线两段中的第一段长度\n      length: 15,\n      // 引导线两段中的第二段长度\n      length2: 15,\n      smooth: false,\n      lineStyle: {\n        // color: 各异,\n        width: 1,\n        type: 'solid'\n      }\n    },\n    itemStyle: {\n      borderWidth: 1\n    },\n    // Animation type. Valid values: expansion, scale\n    animationType: 'expansion',\n    // Animation type when update. Valid values: transition, expansion\n    animationTypeUpdate: 'transition',\n    animationEasing: 'cubicOut'\n  }\n});\nzrUtil.mixin(PieSeries, dataSelectableMixin);\nvar _default = PieSeries;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Data selectable mixin for chart series.\n * To eanble data select, option of series must have `selectedMode`.\n * And each data item will use `selected` to toggle itself selected status\n */\nvar _default = {\n  /**\n   * @param {Array.<Object>} targetList [{name, value, selected}, ...]\n   *        If targetList is an array, it should like [{name: ..., value: ...}, ...].\n   *        If targetList is a \"List\", it must have coordDim: 'value' dimension and name.\n   */\n  updateSelectedMap: function (targetList) {\n    this._targetList = zrUtil.isArray(targetList) ? targetList.slice() : [];\n    this._selectTargetMap = zrUtil.reduce(targetList || [], function (targetMap, target) {\n      targetMap.set(target.name, target);\n      return targetMap;\n    }, zrUtil.createHashMap());\n  },\n\n  /**\n   * Either name or id should be passed as input here.\n   * If both of them are defined, id is used.\n   *\n   * @param {string|undefined} name name of data\n   * @param {number|undefined} id dataIndex of data\n   */\n  // PENGING If selectedMode is null ?\n  select: function (name, id) {\n    var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name);\n    var selectedMode = this.get('selectedMode');\n\n    if (selectedMode === 'single') {\n      this._selectTargetMap.each(function (target) {\n        target.selected = false;\n      });\n    }\n\n    target && (target.selected = true);\n  },\n\n  /**\n   * Either name or id should be passed as input here.\n   * If both of them are defined, id is used.\n   *\n   * @param {string|undefined} name name of data\n   * @param {number|undefined} id dataIndex of data\n   */\n  unSelect: function (name, id) {\n    var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name); // var selectedMode = this.get('selectedMode');\n    // selectedMode !== 'single' && target && (target.selected = false);\n\n    target && (target.selected = false);\n  },\n\n  /**\n   * Either name or id should be passed as input here.\n   * If both of them are defined, id is used.\n   *\n   * @param {string|undefined} name name of data\n   * @param {number|undefined} id dataIndex of data\n   */\n  toggleSelected: function (name, id) {\n    var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name);\n\n    if (target != null) {\n      this[target.selected ? 'unSelect' : 'select'](name, id);\n      return target.selected;\n    }\n  },\n\n  /**\n   * Either name or id should be passed as input here.\n   * If both of them are defined, id is used.\n   *\n   * @param {string|undefined} name name of data\n   * @param {number|undefined} id dataIndex of data\n   */\n  isSelected: function (name, id) {\n    var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name);\n    return target && target.selected;\n  }\n};\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar ChartView = require(\"../../view/Chart\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {module:echarts/model/Series} seriesModel\n * @param {boolean} hasAnimation\n * @inner\n */\nfunction updateDataSelected(uid, seriesModel, hasAnimation, api) {\n  var data = seriesModel.getData();\n  var dataIndex = this.dataIndex;\n  var name = data.getName(dataIndex);\n  var selectedOffset = seriesModel.get('selectedOffset');\n  api.dispatchAction({\n    type: 'pieToggleSelect',\n    from: uid,\n    name: name,\n    seriesId: seriesModel.id\n  });\n  data.each(function (idx) {\n    toggleItemSelected(data.getItemGraphicEl(idx), data.getItemLayout(idx), seriesModel.isSelected(data.getName(idx)), selectedOffset, hasAnimation);\n  });\n}\n/**\n * @param {module:zrender/graphic/Sector} el\n * @param {Object} layout\n * @param {boolean} isSelected\n * @param {number} selectedOffset\n * @param {boolean} hasAnimation\n * @inner\n */\n\n\nfunction toggleItemSelected(el, layout, isSelected, selectedOffset, hasAnimation) {\n  var midAngle = (layout.startAngle + layout.endAngle) / 2;\n  var dx = Math.cos(midAngle);\n  var dy = Math.sin(midAngle);\n  var offset = isSelected ? selectedOffset : 0;\n  var position = [dx * offset, dy * offset];\n  hasAnimation // animateTo will stop revious animation like update transition\n  ? el.animate().when(200, {\n    position: position\n  }).start('bounceOut') : el.attr('position', position);\n}\n/**\n * Piece of pie including Sector, Label, LabelLine\n * @constructor\n * @extends {module:zrender/graphic/Group}\n */\n\n\nfunction PiePiece(data, idx) {\n  graphic.Group.call(this);\n  var sector = new graphic.Sector({\n    z2: 2\n  });\n  var polyline = new graphic.Polyline();\n  var text = new graphic.Text();\n  this.add(sector);\n  this.add(polyline);\n  this.add(text);\n  this.updateData(data, idx, true);\n}\n\nvar piePieceProto = PiePiece.prototype;\n\npiePieceProto.updateData = function (data, idx, firstCreate) {\n  var sector = this.childAt(0);\n  var labelLine = this.childAt(1);\n  var labelText = this.childAt(2);\n  var seriesModel = data.hostModel;\n  var itemModel = data.getItemModel(idx);\n  var layout = data.getItemLayout(idx);\n  var sectorShape = zrUtil.extend({}, layout);\n  sectorShape.label = null;\n  var animationTypeUpdate = seriesModel.getShallow('animationTypeUpdate');\n\n  if (firstCreate) {\n    sector.setShape(sectorShape);\n    var animationType = seriesModel.getShallow('animationType');\n\n    if (animationType === 'scale') {\n      sector.shape.r = layout.r0;\n      graphic.initProps(sector, {\n        shape: {\n          r: layout.r\n        }\n      }, seriesModel, idx);\n    } // Expansion\n    else {\n        sector.shape.endAngle = layout.startAngle;\n        graphic.updateProps(sector, {\n          shape: {\n            endAngle: layout.endAngle\n          }\n        }, seriesModel, idx);\n      }\n  } else {\n    if (animationTypeUpdate === 'expansion') {\n      // Sectors are set to be target shape and an overlaying clipPath is used for animation\n      sector.setShape(sectorShape);\n    } else {\n      // Transition animation from the old shape\n      graphic.updateProps(sector, {\n        shape: sectorShape\n      }, seriesModel, idx);\n    }\n  } // Update common style\n\n\n  var visualColor = data.getItemVisual(idx, 'color');\n  sector.useStyle(zrUtil.defaults({\n    lineJoin: 'bevel',\n    fill: visualColor\n  }, itemModel.getModel('itemStyle').getItemStyle()));\n  sector.hoverStyle = itemModel.getModel('emphasis.itemStyle').getItemStyle();\n  var cursorStyle = itemModel.getShallow('cursor');\n  cursorStyle && sector.attr('cursor', cursorStyle); // Toggle selected\n\n  toggleItemSelected(this, data.getItemLayout(idx), seriesModel.isSelected(data.getName(idx)), seriesModel.get('selectedOffset'), seriesModel.get('animation')); // Label and text animation should be applied only for transition type animation when update\n\n  var withAnimation = !firstCreate && animationTypeUpdate === 'transition';\n\n  this._updateLabel(data, idx, withAnimation);\n\n  this.highDownOnUpdate = !seriesModel.get('silent') ? function (fromState, toState) {\n    var hasAnimation = seriesModel.isAnimationEnabled() && itemModel.get('hoverAnimation');\n\n    if (toState === 'emphasis') {\n      labelLine.ignore = labelLine.hoverIgnore;\n      labelText.ignore = labelText.hoverIgnore; // Sector may has animation of updating data. Force to move to the last frame\n      // Or it may stopped on the wrong shape\n\n      if (hasAnimation) {\n        sector.stopAnimation(true);\n        sector.animateTo({\n          shape: {\n            r: layout.r + seriesModel.get('hoverOffset')\n          }\n        }, 300, 'elasticOut');\n      }\n    } else {\n      labelLine.ignore = labelLine.normalIgnore;\n      labelText.ignore = labelText.normalIgnore;\n\n      if (hasAnimation) {\n        sector.stopAnimation(true);\n        sector.animateTo({\n          shape: {\n            r: layout.r\n          }\n        }, 300, 'elasticOut');\n      }\n    }\n  } : null;\n  graphic.setHoverStyle(this);\n};\n\npiePieceProto._updateLabel = function (data, idx, withAnimation) {\n  var labelLine = this.childAt(1);\n  var labelText = this.childAt(2);\n  var seriesModel = data.hostModel;\n  var itemModel = data.getItemModel(idx);\n  var layout = data.getItemLayout(idx);\n  var labelLayout = layout.label;\n  var visualColor = data.getItemVisual(idx, 'color');\n\n  if (!labelLayout || isNaN(labelLayout.x) || isNaN(labelLayout.y)) {\n    labelText.ignore = labelText.normalIgnore = labelText.hoverIgnore = labelLine.ignore = labelLine.normalIgnore = labelLine.hoverIgnore = true;\n    return;\n  }\n\n  var targetLineShape = {\n    points: labelLayout.linePoints || [[labelLayout.x, labelLayout.y], [labelLayout.x, labelLayout.y], [labelLayout.x, labelLayout.y]]\n  };\n  var targetTextStyle = {\n    x: labelLayout.x,\n    y: labelLayout.y\n  };\n\n  if (withAnimation) {\n    graphic.updateProps(labelLine, {\n      shape: targetLineShape\n    }, seriesModel, idx);\n    graphic.updateProps(labelText, {\n      style: targetTextStyle\n    }, seriesModel, idx);\n  } else {\n    labelLine.attr({\n      shape: targetLineShape\n    });\n    labelText.attr({\n      style: targetTextStyle\n    });\n  }\n\n  labelText.attr({\n    rotation: labelLayout.rotation,\n    origin: [labelLayout.x, labelLayout.y],\n    z2: 10\n  });\n  var labelModel = itemModel.getModel('label');\n  var labelHoverModel = itemModel.getModel('emphasis.label');\n  var labelLineModel = itemModel.getModel('labelLine');\n  var labelLineHoverModel = itemModel.getModel('emphasis.labelLine');\n  var visualColor = data.getItemVisual(idx, 'color');\n  graphic.setLabelStyle(labelText.style, labelText.hoverStyle = {}, labelModel, labelHoverModel, {\n    labelFetcher: data.hostModel,\n    labelDataIndex: idx,\n    defaultText: labelLayout.text,\n    autoColor: visualColor,\n    useInsideStyle: !!labelLayout.inside\n  }, {\n    textAlign: labelLayout.textAlign,\n    textVerticalAlign: labelLayout.verticalAlign,\n    opacity: data.getItemVisual(idx, 'opacity')\n  });\n  labelText.ignore = labelText.normalIgnore = !labelModel.get('show');\n  labelText.hoverIgnore = !labelHoverModel.get('show');\n  labelLine.ignore = labelLine.normalIgnore = !labelLineModel.get('show');\n  labelLine.hoverIgnore = !labelLineHoverModel.get('show'); // Default use item visual color\n\n  labelLine.setStyle({\n    stroke: visualColor,\n    opacity: data.getItemVisual(idx, 'opacity')\n  });\n  labelLine.setStyle(labelLineModel.getModel('lineStyle').getLineStyle());\n  labelLine.hoverStyle = labelLineHoverModel.getModel('lineStyle').getLineStyle();\n  var smooth = labelLineModel.get('smooth');\n\n  if (smooth && smooth === true) {\n    smooth = 0.4;\n  }\n\n  labelLine.setShape({\n    smooth: smooth\n  });\n};\n\nzrUtil.inherits(PiePiece, graphic.Group); // Pie view\n\nvar PieView = ChartView.extend({\n  type: 'pie',\n  init: function () {\n    var sectorGroup = new graphic.Group();\n    this._sectorGroup = sectorGroup;\n  },\n  render: function (seriesModel, ecModel, api, payload) {\n    if (payload && payload.from === this.uid) {\n      return;\n    }\n\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var group = this.group;\n    var hasAnimation = ecModel.get('animation');\n    var isFirstRender = !oldData;\n    var animationType = seriesModel.get('animationType');\n    var animationTypeUpdate = seriesModel.get('animationTypeUpdate');\n    var onSectorClick = zrUtil.curry(updateDataSelected, this.uid, seriesModel, hasAnimation, api);\n    var selectedMode = seriesModel.get('selectedMode');\n    data.diff(oldData).add(function (idx) {\n      var piePiece = new PiePiece(data, idx); // Default expansion animation\n\n      if (isFirstRender && animationType !== 'scale') {\n        piePiece.eachChild(function (child) {\n          child.stopAnimation(true);\n        });\n      }\n\n      selectedMode && piePiece.on('click', onSectorClick);\n      data.setItemGraphicEl(idx, piePiece);\n      group.add(piePiece);\n    }).update(function (newIdx, oldIdx) {\n      var piePiece = oldData.getItemGraphicEl(oldIdx);\n\n      if (!isFirstRender && animationTypeUpdate !== 'transition') {\n        piePiece.eachChild(function (child) {\n          child.stopAnimation(true);\n        });\n      }\n\n      piePiece.updateData(data, newIdx);\n      piePiece.off('click');\n      selectedMode && piePiece.on('click', onSectorClick);\n      group.add(piePiece);\n      data.setItemGraphicEl(newIdx, piePiece);\n    }).remove(function (idx) {\n      var piePiece = oldData.getItemGraphicEl(idx);\n      group.remove(piePiece);\n    }).execute();\n\n    if (hasAnimation && data.count() > 0 && (isFirstRender ? animationType !== 'scale' : animationTypeUpdate !== 'transition')) {\n      var shape = data.getItemLayout(0);\n\n      for (var s = 1; isNaN(shape.startAngle) && s < data.count(); ++s) {\n        shape = data.getItemLayout(s);\n      }\n\n      var r = Math.max(api.getWidth(), api.getHeight()) / 2;\n      var removeClipPath = zrUtil.bind(group.removeClipPath, group);\n      group.setClipPath(this._createClipPath(shape.cx, shape.cy, r, shape.startAngle, shape.clockwise, removeClipPath, seriesModel, isFirstRender));\n    } else {\n      // clipPath is used in first-time animation, so remove it when otherwise. See: #8994\n      group.removeClipPath();\n    }\n\n    this._data = data;\n  },\n  dispose: function () {},\n  _createClipPath: function (cx, cy, r, startAngle, clockwise, cb, seriesModel, isFirstRender) {\n    var clipPath = new graphic.Sector({\n      shape: {\n        cx: cx,\n        cy: cy,\n        r0: 0,\n        r: r,\n        startAngle: startAngle,\n        endAngle: startAngle,\n        clockwise: clockwise\n      }\n    });\n    var initOrUpdate = isFirstRender ? graphic.initProps : graphic.updateProps;\n    initOrUpdate(clipPath, {\n      shape: {\n        endAngle: startAngle + (clockwise ? 1 : -1) * Math.PI * 2\n      }\n    }, seriesModel, cb);\n    return clipPath;\n  },\n\n  /**\n   * @implement\n   */\n  containPoint: function (point, seriesModel) {\n    var data = seriesModel.getData();\n    var itemLayout = data.getItemLayout(0);\n\n    if (itemLayout) {\n      var dx = point[0] - itemLayout.cx;\n      var dy = point[1] - itemLayout.cy;\n      var radius = Math.sqrt(dx * dx + dy * dy);\n      return radius <= itemLayout.r && radius >= itemLayout.r0;\n    }\n  }\n});\nvar _default = PieView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(seriesType, actionInfos) {\n  zrUtil.each(actionInfos, function (actionInfo) {\n    actionInfo.update = 'updateView';\n    /**\n     * @payload\n     * @property {string} seriesName\n     * @property {string} name\n     */\n\n    echarts.registerAction(actionInfo, function (payload, ecModel) {\n      var selected = {};\n      ecModel.eachComponent({\n        mainType: 'series',\n        subType: seriesType,\n        query: payload\n      }, function (seriesModel) {\n        if (seriesModel[actionInfo.method]) {\n          seriesModel[actionInfo.method](payload.name, payload.dataIndex);\n        }\n\n        var data = seriesModel.getData(); // Create selected map\n\n        data.each(function (idx) {\n          var name = data.getName(idx);\n          selected[name] = seriesModel.isSelected(name) || false;\n        });\n      });\n      return {\n        name: payload.name,\n        selected: selected,\n        seriesId: payload.seriesId\n      };\n    });\n  });\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\nvar linearMap = _number.linearMap;\n\nvar layout = require(\"../../util/layout\");\n\nvar labelLayout = require(\"./labelLayout\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar PI2 = Math.PI * 2;\nvar RADIAN = Math.PI / 180;\n\nfunction getViewRect(seriesModel, api) {\n  return layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n}\n\nfunction _default(seriesType, ecModel, api, payload) {\n  ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n    var data = seriesModel.getData();\n    var valueDim = data.mapDimension('value');\n    var viewRect = getViewRect(seriesModel, api);\n    var center = seriesModel.get('center');\n    var radius = seriesModel.get('radius');\n\n    if (!zrUtil.isArray(radius)) {\n      radius = [0, radius];\n    }\n\n    if (!zrUtil.isArray(center)) {\n      center = [center, center];\n    }\n\n    var width = parsePercent(viewRect.width, api.getWidth());\n    var height = parsePercent(viewRect.height, api.getHeight());\n    var size = Math.min(width, height);\n    var cx = parsePercent(center[0], width) + viewRect.x;\n    var cy = parsePercent(center[1], height) + viewRect.y;\n    var r0 = parsePercent(radius[0], size / 2);\n    var r = parsePercent(radius[1], size / 2);\n    var startAngle = -seriesModel.get('startAngle') * RADIAN;\n    var minAngle = seriesModel.get('minAngle') * RADIAN;\n    var validDataCount = 0;\n    data.each(valueDim, function (value) {\n      !isNaN(value) && validDataCount++;\n    });\n    var sum = data.getSum(valueDim); // Sum may be 0\n\n    var unitRadian = Math.PI / (sum || validDataCount) * 2;\n    var clockwise = seriesModel.get('clockwise');\n    var roseType = seriesModel.get('roseType');\n    var stillShowZeroSum = seriesModel.get('stillShowZeroSum'); // [0...max]\n\n    var extent = data.getDataExtent(valueDim);\n    extent[0] = 0; // In the case some sector angle is smaller than minAngle\n\n    var restAngle = PI2;\n    var valueSumLargerThanMinAngle = 0;\n    var currentAngle = startAngle;\n    var dir = clockwise ? 1 : -1;\n    data.each(valueDim, function (value, idx) {\n      var angle;\n\n      if (isNaN(value)) {\n        data.setItemLayout(idx, {\n          angle: NaN,\n          startAngle: NaN,\n          endAngle: NaN,\n          clockwise: clockwise,\n          cx: cx,\n          cy: cy,\n          r0: r0,\n          r: roseType ? NaN : r,\n          viewRect: viewRect\n        });\n        return;\n      } // FIXME 兼容 2.0 但是 roseType 是 area 的时候才是这样？\n\n\n      if (roseType !== 'area') {\n        angle = sum === 0 && stillShowZeroSum ? unitRadian : value * unitRadian;\n      } else {\n        angle = PI2 / validDataCount;\n      }\n\n      if (angle < minAngle) {\n        angle = minAngle;\n        restAngle -= minAngle;\n      } else {\n        valueSumLargerThanMinAngle += value;\n      }\n\n      var endAngle = currentAngle + dir * angle;\n      data.setItemLayout(idx, {\n        angle: angle,\n        startAngle: currentAngle,\n        endAngle: endAngle,\n        clockwise: clockwise,\n        cx: cx,\n        cy: cy,\n        r0: r0,\n        r: roseType ? linearMap(value, extent, [r0, r]) : r,\n        viewRect: viewRect\n      });\n      currentAngle = endAngle;\n    }); // Some sector is constrained by minAngle\n    // Rest sectors needs recalculate angle\n\n    if (restAngle < PI2 && validDataCount) {\n      // Average the angle if rest angle is not enough after all angles is\n      // Constrained by minAngle\n      if (restAngle <= 1e-3) {\n        var angle = PI2 / validDataCount;\n        data.each(valueDim, function (value, idx) {\n          if (!isNaN(value)) {\n            var layout = data.getItemLayout(idx);\n            layout.angle = angle;\n            layout.startAngle = startAngle + dir * idx * angle;\n            layout.endAngle = startAngle + dir * (idx + 1) * angle;\n          }\n        });\n      } else {\n        unitRadian = restAngle / valueSumLargerThanMinAngle;\n        currentAngle = startAngle;\n        data.each(valueDim, function (value, idx) {\n          if (!isNaN(value)) {\n            var layout = data.getItemLayout(idx);\n            var angle = layout.angle === minAngle ? minAngle : value * unitRadian;\n            layout.startAngle = currentAngle;\n            layout.endAngle = currentAngle + dir * angle;\n            currentAngle += dir * angle;\n          }\n        });\n      }\n    }\n\n    labelLayout(seriesModel, r, viewRect.width, viewRect.height, viewRect.x, viewRect.y);\n  });\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar textContain = require(\"zrender/lib/contain/text\");\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME emphasis label position is not same with normal label position\nvar RADIAN = Math.PI / 180;\n\nfunction adjustSingleSide(list, cx, cy, r, dir, viewWidth, viewHeight, viewLeft, viewTop, farthestX) {\n  list.sort(function (a, b) {\n    return a.y - b.y;\n  });\n\n  function shiftDown(start, end, delta, dir) {\n    for (var j = start; j < end; j++) {\n      if (list[j].y + delta > viewTop + viewHeight) {\n        break;\n      }\n\n      list[j].y += delta;\n\n      if (j > start && j + 1 < end && list[j + 1].y > list[j].y + list[j].height) {\n        shiftUp(j, delta / 2);\n        return;\n      }\n    }\n\n    shiftUp(end - 1, delta / 2);\n  }\n\n  function shiftUp(end, delta) {\n    for (var j = end; j >= 0; j--) {\n      if (list[j].y - delta < viewTop) {\n        break;\n      }\n\n      list[j].y -= delta;\n\n      if (j > 0 && list[j].y > list[j - 1].y + list[j - 1].height) {\n        break;\n      }\n    }\n  }\n\n  function changeX(list, isDownList, cx, cy, r, dir) {\n    var lastDeltaX = dir > 0 ? isDownList // right-side\n    ? Number.MAX_VALUE // down\n    : 0 // up\n    : isDownList // left-side\n    ? Number.MAX_VALUE // down\n    : 0; // up\n\n    for (var i = 0, l = list.length; i < l; i++) {\n      if (list[i].labelAlignTo !== 'none') {\n        continue;\n      }\n\n      var deltaY = Math.abs(list[i].y - cy);\n      var length = list[i].len;\n      var length2 = list[i].len2;\n      var deltaX = deltaY < r + length ? Math.sqrt((r + length + length2) * (r + length + length2) - deltaY * deltaY) : Math.abs(list[i].x - cx);\n\n      if (isDownList && deltaX >= lastDeltaX) {\n        // right-down, left-down\n        deltaX = lastDeltaX - 10;\n      }\n\n      if (!isDownList && deltaX <= lastDeltaX) {\n        // right-up, left-up\n        deltaX = lastDeltaX + 10;\n      }\n\n      list[i].x = cx + deltaX * dir;\n      lastDeltaX = deltaX;\n    }\n  }\n\n  var lastY = 0;\n  var delta;\n  var len = list.length;\n  var upList = [];\n  var downList = [];\n\n  for (var i = 0; i < len; i++) {\n    if (list[i].position === 'outer' && list[i].labelAlignTo === 'labelLine') {\n      var dx = list[i].x - farthestX;\n      list[i].linePoints[1][0] += dx;\n      list[i].x = farthestX;\n    }\n\n    delta = list[i].y - lastY;\n\n    if (delta < 0) {\n      shiftDown(i, len, -delta, dir);\n    }\n\n    lastY = list[i].y + list[i].height;\n  }\n\n  if (viewHeight - lastY < 0) {\n    shiftUp(len - 1, lastY - viewHeight);\n  }\n\n  for (var i = 0; i < len; i++) {\n    if (list[i].y >= cy) {\n      downList.push(list[i]);\n    } else {\n      upList.push(list[i]);\n    }\n  }\n\n  changeX(upList, false, cx, cy, r, dir);\n  changeX(downList, true, cx, cy, r, dir);\n}\n\nfunction avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight, viewLeft, viewTop) {\n  var leftList = [];\n  var rightList = [];\n  var leftmostX = Number.MAX_VALUE;\n  var rightmostX = -Number.MAX_VALUE;\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    if (isPositionCenter(labelLayoutList[i])) {\n      continue;\n    }\n\n    if (labelLayoutList[i].x < cx) {\n      leftmostX = Math.min(leftmostX, labelLayoutList[i].x);\n      leftList.push(labelLayoutList[i]);\n    } else {\n      rightmostX = Math.max(rightmostX, labelLayoutList[i].x);\n      rightList.push(labelLayoutList[i]);\n    }\n  }\n\n  adjustSingleSide(rightList, cx, cy, r, 1, viewWidth, viewHeight, viewLeft, viewTop, rightmostX);\n  adjustSingleSide(leftList, cx, cy, r, -1, viewWidth, viewHeight, viewLeft, viewTop, leftmostX);\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    var layout = labelLayoutList[i];\n\n    if (isPositionCenter(layout)) {\n      continue;\n    }\n\n    var linePoints = layout.linePoints;\n\n    if (linePoints) {\n      var isAlignToEdge = layout.labelAlignTo === 'edge';\n      var realTextWidth = layout.textRect.width;\n      var targetTextWidth;\n\n      if (isAlignToEdge) {\n        if (layout.x < cx) {\n          targetTextWidth = linePoints[2][0] - layout.labelDistance - viewLeft - layout.labelMargin;\n        } else {\n          targetTextWidth = viewLeft + viewWidth - layout.labelMargin - linePoints[2][0] - layout.labelDistance;\n        }\n      } else {\n        if (layout.x < cx) {\n          targetTextWidth = layout.x - viewLeft - layout.bleedMargin;\n        } else {\n          targetTextWidth = viewLeft + viewWidth - layout.x - layout.bleedMargin;\n        }\n      }\n\n      if (targetTextWidth < layout.textRect.width) {\n        layout.text = textContain.truncateText(layout.text, targetTextWidth, layout.font);\n\n        if (layout.labelAlignTo === 'edge') {\n          realTextWidth = textContain.getWidth(layout.text, layout.font);\n        }\n      }\n\n      var dist = linePoints[1][0] - linePoints[2][0];\n\n      if (isAlignToEdge) {\n        if (layout.x < cx) {\n          linePoints[2][0] = viewLeft + layout.labelMargin + realTextWidth + layout.labelDistance;\n        } else {\n          linePoints[2][0] = viewLeft + viewWidth - layout.labelMargin - realTextWidth - layout.labelDistance;\n        }\n      } else {\n        if (layout.x < cx) {\n          linePoints[2][0] = layout.x + layout.labelDistance;\n        } else {\n          linePoints[2][0] = layout.x - layout.labelDistance;\n        }\n\n        linePoints[1][0] = linePoints[2][0] + dist;\n      }\n\n      linePoints[1][1] = linePoints[2][1] = layout.y;\n    }\n  }\n}\n\nfunction isPositionCenter(layout) {\n  // Not change x for center label\n  return layout.position === 'center';\n}\n\nfunction _default(seriesModel, r, viewWidth, viewHeight, viewLeft, viewTop) {\n  var data = seriesModel.getData();\n  var labelLayoutList = [];\n  var cx;\n  var cy;\n  var hasLabelRotate = false;\n  var minShowLabelRadian = (seriesModel.get('minShowLabelAngle') || 0) * RADIAN;\n  data.each(function (idx) {\n    var layout = data.getItemLayout(idx);\n    var itemModel = data.getItemModel(idx);\n    var labelModel = itemModel.getModel('label'); // Use position in normal or emphasis\n\n    var labelPosition = labelModel.get('position') || itemModel.get('emphasis.label.position');\n    var labelDistance = labelModel.get('distanceToLabelLine');\n    var labelAlignTo = labelModel.get('alignTo');\n    var labelMargin = parsePercent(labelModel.get('margin'), viewWidth);\n    var bleedMargin = labelModel.get('bleedMargin');\n    var font = labelModel.getFont();\n    var labelLineModel = itemModel.getModel('labelLine');\n    var labelLineLen = labelLineModel.get('length');\n    labelLineLen = parsePercent(labelLineLen, viewWidth);\n    var labelLineLen2 = labelLineModel.get('length2');\n    labelLineLen2 = parsePercent(labelLineLen2, viewWidth);\n\n    if (layout.angle < minShowLabelRadian) {\n      return;\n    }\n\n    var midAngle = (layout.startAngle + layout.endAngle) / 2;\n    var dx = Math.cos(midAngle);\n    var dy = Math.sin(midAngle);\n    var textX;\n    var textY;\n    var linePoints;\n    var textAlign;\n    cx = layout.cx;\n    cy = layout.cy;\n    var text = seriesModel.getFormattedLabel(idx, 'normal') || data.getName(idx);\n    var textRect = textContain.getBoundingRect(text, font, textAlign, 'top');\n    var isLabelInside = labelPosition === 'inside' || labelPosition === 'inner';\n\n    if (labelPosition === 'center') {\n      textX = layout.cx;\n      textY = layout.cy;\n      textAlign = 'center';\n    } else {\n      var x1 = (isLabelInside ? (layout.r + layout.r0) / 2 * dx : layout.r * dx) + cx;\n      var y1 = (isLabelInside ? (layout.r + layout.r0) / 2 * dy : layout.r * dy) + cy;\n      textX = x1 + dx * 3;\n      textY = y1 + dy * 3;\n\n      if (!isLabelInside) {\n        // For roseType\n        var x2 = x1 + dx * (labelLineLen + r - layout.r);\n        var y2 = y1 + dy * (labelLineLen + r - layout.r);\n        var x3 = x2 + (dx < 0 ? -1 : 1) * labelLineLen2;\n        var y3 = y2;\n\n        if (labelAlignTo === 'edge') {\n          // Adjust textX because text align of edge is opposite\n          textX = dx < 0 ? viewLeft + labelMargin : viewLeft + viewWidth - labelMargin;\n        } else {\n          textX = x3 + (dx < 0 ? -labelDistance : labelDistance);\n        }\n\n        textY = y3;\n        linePoints = [[x1, y1], [x2, y2], [x3, y3]];\n      }\n\n      textAlign = isLabelInside ? 'center' : labelAlignTo === 'edge' ? dx > 0 ? 'right' : 'left' : dx > 0 ? 'left' : 'right';\n    }\n\n    var labelRotate;\n    var rotate = labelModel.get('rotate');\n\n    if (typeof rotate === 'number') {\n      labelRotate = rotate * (Math.PI / 180);\n    } else {\n      labelRotate = rotate ? dx < 0 ? -midAngle + Math.PI : -midAngle : 0;\n    }\n\n    hasLabelRotate = !!labelRotate;\n    layout.label = {\n      x: textX,\n      y: textY,\n      position: labelPosition,\n      height: textRect.height,\n      len: labelLineLen,\n      len2: labelLineLen2,\n      linePoints: linePoints,\n      textAlign: textAlign,\n      verticalAlign: 'middle',\n      rotation: labelRotate,\n      inside: isLabelInside,\n      labelDistance: labelDistance,\n      labelAlignTo: labelAlignTo,\n      labelMargin: labelMargin,\n      bleedMargin: bleedMargin,\n      textRect: textRect,\n      text: text,\n      font: font\n    }; // Not layout the inside label\n\n    if (!isLabelInside) {\n      labelLayoutList.push(layout.label);\n    }\n  });\n\n  if (!hasLabelRotate && seriesModel.get('avoidLabelOverlap')) {\n    avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight, viewLeft, viewTop);\n  }\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./line/LineSeries\");\n\nrequire(\"./line/LineView\");\n\nvar visualSymbol = require(\"../visual/symbol\");\n\nvar layoutPoints = require(\"../layout/points\");\n\nvar dataSample = require(\"../processor/dataSample\");\n\nrequire(\"../component/gridSimple\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// In case developer forget to include grid component\necharts.registerVisual(visualSymbol('line', 'circle', 'line'));\necharts.registerLayout(layoutPoints('line')); // Down sample after filter\n\necharts.registerProcessor(echarts.PRIORITY.PROCESSOR.STATISTIC, dataSample('line'));","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar createListFromArray = require(\"../helper/createListFromArray\");\n\nvar SeriesModel = require(\"../../model/Series\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = SeriesModel.extend({\n  type: 'series.line',\n  dependencies: ['grid', 'polar'],\n  getInitialData: function (option, ecModel) {\n    return createListFromArray(this.getSource(), this, {\n      useEncodeDefaulter: true\n    });\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    hoverAnimation: true,\n    // stack: null\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // polarIndex: 0,\n    // If clip the overflow value\n    clip: true,\n    // cursor: null,\n    label: {\n      position: 'top'\n    },\n    // itemStyle: {\n    // },\n    lineStyle: {\n      width: 2,\n      type: 'solid'\n    },\n    // areaStyle: {\n    // origin of areaStyle. Valid values:\n    // `'auto'/null/undefined`: from axisLine to data\n    // `'start'`: from min to data\n    // `'end'`: from data to max\n    // origin: 'auto'\n    // },\n    // false, 'start', 'end', 'middle'\n    step: false,\n    // Disabled if step is true\n    smooth: false,\n    smoothMonotone: null,\n    symbol: 'emptyCircle',\n    symbolSize: 4,\n    symbolRotate: null,\n    showSymbol: true,\n    // `false`: follow the label interval strategy.\n    // `true`: show all symbols.\n    // `'auto'`: If possible, show all symbols, otherwise\n    //           follow the label interval strategy.\n    showAllSymbol: 'auto',\n    // Whether to connect break point.\n    connectNulls: false,\n    // Sampling for large data. Can be: 'average', 'max', 'min', 'sum'.\n    sampling: 'none',\n    animationEasing: 'linear',\n    // Disable progressive\n    progressive: 0,\n    hoverLayerThreshold: Infinity\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _bbox = require(\"zrender/lib/core/bbox\");\n\nvar fromPoints = _bbox.fromPoints;\n\nvar SymbolDraw = require(\"../helper/SymbolDraw\");\n\nvar SymbolClz = require(\"../helper/Symbol\");\n\nvar lineAnimationDiff = require(\"./lineAnimationDiff\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar _poly = require(\"./poly\");\n\nvar Polyline = _poly.Polyline;\nvar Polygon = _poly.Polygon;\n\nvar ChartView = require(\"../../view/Chart\");\n\nvar _helper = require(\"./helper\");\n\nvar prepareDataCoordInfo = _helper.prepareDataCoordInfo;\nvar getStackedOnPoint = _helper.getStackedOnPoint;\n\nvar _createClipPathFromCoordSys = require(\"../helper/createClipPathFromCoordSys\");\n\nvar createGridClipPath = _createClipPathFromCoordSys.createGridClipPath;\nvar createPolarClipPath = _createClipPathFromCoordSys.createPolarClipPath;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME step not support polar\nfunction isPointsSame(points1, points2) {\n  if (points1.length !== points2.length) {\n    return;\n  }\n\n  for (var i = 0; i < points1.length; i++) {\n    var p1 = points1[i];\n    var p2 = points2[i];\n\n    if (p1[0] !== p2[0] || p1[1] !== p2[1]) {\n      return;\n    }\n  }\n\n  return true;\n}\n\nfunction getBoundingDiff(points1, points2) {\n  var min1 = [];\n  var max1 = [];\n  var min2 = [];\n  var max2 = [];\n  fromPoints(points1, min1, max1);\n  fromPoints(points2, min2, max2); // Get a max value from each corner of two boundings.\n\n  return Math.max(Math.abs(min1[0] - min2[0]), Math.abs(min1[1] - min2[1]), Math.abs(max1[0] - max2[0]), Math.abs(max1[1] - max2[1]));\n}\n\nfunction getSmooth(smooth) {\n  return typeof smooth === 'number' ? smooth : smooth ? 0.5 : 0;\n}\n/**\n * @param {module:echarts/coord/cartesian/Cartesian2D|module:echarts/coord/polar/Polar} coordSys\n * @param {module:echarts/data/List} data\n * @param {Object} dataCoordInfo\n * @param {Array.<Array.<number>>} points\n */\n\n\nfunction getStackedOnPoints(coordSys, data, dataCoordInfo) {\n  if (!dataCoordInfo.valueDim) {\n    return [];\n  }\n\n  var points = [];\n\n  for (var idx = 0, len = data.count(); idx < len; idx++) {\n    points.push(getStackedOnPoint(dataCoordInfo, coordSys, data, idx));\n  }\n\n  return points;\n}\n\nfunction turnPointsIntoStep(points, coordSys, stepTurnAt) {\n  var baseAxis = coordSys.getBaseAxis();\n  var baseIndex = baseAxis.dim === 'x' || baseAxis.dim === 'radius' ? 0 : 1;\n  var stepPoints = [];\n\n  for (var i = 0; i < points.length - 1; i++) {\n    var nextPt = points[i + 1];\n    var pt = points[i];\n    stepPoints.push(pt);\n    var stepPt = [];\n\n    switch (stepTurnAt) {\n      case 'end':\n        stepPt[baseIndex] = nextPt[baseIndex];\n        stepPt[1 - baseIndex] = pt[1 - baseIndex]; // default is start\n\n        stepPoints.push(stepPt);\n        break;\n\n      case 'middle':\n        // default is start\n        var middle = (pt[baseIndex] + nextPt[baseIndex]) / 2;\n        var stepPt2 = [];\n        stepPt[baseIndex] = stepPt2[baseIndex] = middle;\n        stepPt[1 - baseIndex] = pt[1 - baseIndex];\n        stepPt2[1 - baseIndex] = nextPt[1 - baseIndex];\n        stepPoints.push(stepPt);\n        stepPoints.push(stepPt2);\n        break;\n\n      default:\n        stepPt[baseIndex] = pt[baseIndex];\n        stepPt[1 - baseIndex] = nextPt[1 - baseIndex]; // default is start\n\n        stepPoints.push(stepPt);\n    }\n  } // Last points\n\n\n  points[i] && stepPoints.push(points[i]);\n  return stepPoints;\n}\n\nfunction getVisualGradient(data, coordSys) {\n  var visualMetaList = data.getVisual('visualMeta');\n\n  if (!visualMetaList || !visualMetaList.length || !data.count()) {\n    // When data.count() is 0, gradient range can not be calculated.\n    return;\n  }\n\n  if (coordSys.type !== 'cartesian2d') {\n    return;\n  }\n\n  var coordDim;\n  var visualMeta;\n\n  for (var i = visualMetaList.length - 1; i >= 0; i--) {\n    var dimIndex = visualMetaList[i].dimension;\n    var dimName = data.dimensions[dimIndex];\n    var dimInfo = data.getDimensionInfo(dimName);\n    coordDim = dimInfo && dimInfo.coordDim; // Can only be x or y\n\n    if (coordDim === 'x' || coordDim === 'y') {\n      visualMeta = visualMetaList[i];\n      break;\n    }\n  }\n\n  if (!visualMeta) {\n    return;\n  } // If the area to be rendered is bigger than area defined by LinearGradient,\n  // the canvas spec prescribes that the color of the first stop and the last\n  // stop should be used. But if two stops are added at offset 0, in effect\n  // browsers use the color of the second stop to render area outside\n  // LinearGradient. So we can only infinitesimally extend area defined in\n  // LinearGradient to render `outerColors`.\n\n\n  var axis = coordSys.getAxis(coordDim); // dataToCoor mapping may not be linear, but must be monotonic.\n\n  var colorStops = zrUtil.map(visualMeta.stops, function (stop) {\n    return {\n      coord: axis.toGlobalCoord(axis.dataToCoord(stop.value)),\n      color: stop.color\n    };\n  });\n  var stopLen = colorStops.length;\n  var outerColors = visualMeta.outerColors.slice();\n\n  if (stopLen && colorStops[0].coord > colorStops[stopLen - 1].coord) {\n    colorStops.reverse();\n    outerColors.reverse();\n  }\n\n  var tinyExtent = 10; // Arbitrary value: 10px\n\n  var minCoord = colorStops[0].coord - tinyExtent;\n  var maxCoord = colorStops[stopLen - 1].coord + tinyExtent;\n  var coordSpan = maxCoord - minCoord;\n\n  if (coordSpan < 1e-3) {\n    return 'transparent';\n  }\n\n  zrUtil.each(colorStops, function (stop) {\n    stop.offset = (stop.coord - minCoord) / coordSpan;\n  });\n  colorStops.push({\n    offset: stopLen ? colorStops[stopLen - 1].offset : 0.5,\n    color: outerColors[1] || 'transparent'\n  });\n  colorStops.unshift({\n    // notice colorStops.length have been changed.\n    offset: stopLen ? colorStops[0].offset : 0.5,\n    color: outerColors[0] || 'transparent'\n  }); // zrUtil.each(colorStops, function (colorStop) {\n  //     // Make sure each offset has rounded px to avoid not sharp edge\n  //     colorStop.offset = (Math.round(colorStop.offset * (end - start) + start) - start) / (end - start);\n  // });\n\n  var gradient = new graphic.LinearGradient(0, 0, 0, 0, colorStops, true);\n  gradient[coordDim] = minCoord;\n  gradient[coordDim + '2'] = maxCoord;\n  return gradient;\n}\n\nfunction getIsIgnoreFunc(seriesModel, data, coordSys) {\n  var showAllSymbol = seriesModel.get('showAllSymbol');\n  var isAuto = showAllSymbol === 'auto';\n\n  if (showAllSymbol && !isAuto) {\n    return;\n  }\n\n  var categoryAxis = coordSys.getAxesByScale('ordinal')[0];\n\n  if (!categoryAxis) {\n    return;\n  } // Note that category label interval strategy might bring some weird effect\n  // in some scenario: users may wonder why some of the symbols are not\n  // displayed. So we show all symbols as possible as we can.\n\n\n  if (isAuto // Simplify the logic, do not determine label overlap here.\n  && canShowAllSymbolForCategory(categoryAxis, data)) {\n    return;\n  } // Otherwise follow the label interval strategy on category axis.\n\n\n  var categoryDataDim = data.mapDimension(categoryAxis.dim);\n  var labelMap = {};\n  zrUtil.each(categoryAxis.getViewLabels(), function (labelItem) {\n    labelMap[labelItem.tickValue] = 1;\n  });\n  return function (dataIndex) {\n    return !labelMap.hasOwnProperty(data.get(categoryDataDim, dataIndex));\n  };\n}\n\nfunction canShowAllSymbolForCategory(categoryAxis, data) {\n  // In mose cases, line is monotonous on category axis, and the label size\n  // is close with each other. So we check the symbol size and some of the\n  // label size alone with the category axis to estimate whether all symbol\n  // can be shown without overlap.\n  var axisExtent = categoryAxis.getExtent();\n  var availSize = Math.abs(axisExtent[1] - axisExtent[0]) / categoryAxis.scale.count();\n  isNaN(availSize) && (availSize = 0); // 0/0 is NaN.\n  // Sampling some points, max 5.\n\n  var dataLen = data.count();\n  var step = Math.max(1, Math.round(dataLen / 5));\n\n  for (var dataIndex = 0; dataIndex < dataLen; dataIndex += step) {\n    if (SymbolClz.getSymbolSize(data, dataIndex // Only for cartesian, where `isHorizontal` exists.\n    )[categoryAxis.isHorizontal() ? 1 : 0] // Empirical number\n    * 1.5 > availSize) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction createLineClipPath(coordSys, hasAnimation, seriesModel) {\n  if (coordSys.type === 'cartesian2d') {\n    var isHorizontal = coordSys.getBaseAxis().isHorizontal();\n    var clipPath = createGridClipPath(coordSys, hasAnimation, seriesModel); // Expand clip shape to avoid clipping when line value exceeds axis\n\n    if (!seriesModel.get('clip', true)) {\n      var rectShape = clipPath.shape;\n      var expandSize = Math.max(rectShape.width, rectShape.height);\n\n      if (isHorizontal) {\n        rectShape.y -= expandSize;\n        rectShape.height += expandSize * 2;\n      } else {\n        rectShape.x -= expandSize;\n        rectShape.width += expandSize * 2;\n      }\n    }\n\n    return clipPath;\n  } else {\n    return createPolarClipPath(coordSys, hasAnimation, seriesModel);\n  }\n}\n\nvar _default = ChartView.extend({\n  type: 'line',\n  init: function () {\n    var lineGroup = new graphic.Group();\n    var symbolDraw = new SymbolDraw();\n    this.group.add(symbolDraw.group);\n    this._symbolDraw = symbolDraw;\n    this._lineGroup = lineGroup;\n  },\n  render: function (seriesModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var group = this.group;\n    var data = seriesModel.getData();\n    var lineStyleModel = seriesModel.getModel('lineStyle');\n    var areaStyleModel = seriesModel.getModel('areaStyle');\n    var points = data.mapArray(data.getItemLayout);\n    var isCoordSysPolar = coordSys.type === 'polar';\n    var prevCoordSys = this._coordSys;\n    var symbolDraw = this._symbolDraw;\n    var polyline = this._polyline;\n    var polygon = this._polygon;\n    var lineGroup = this._lineGroup;\n    var hasAnimation = seriesModel.get('animation');\n    var isAreaChart = !areaStyleModel.isEmpty();\n    var valueOrigin = areaStyleModel.get('origin');\n    var dataCoordInfo = prepareDataCoordInfo(coordSys, data, valueOrigin);\n    var stackedOnPoints = getStackedOnPoints(coordSys, data, dataCoordInfo);\n    var showSymbol = seriesModel.get('showSymbol');\n    var isIgnoreFunc = showSymbol && !isCoordSysPolar && getIsIgnoreFunc(seriesModel, data, coordSys); // Remove temporary symbols\n\n    var oldData = this._data;\n    oldData && oldData.eachItemGraphicEl(function (el, idx) {\n      if (el.__temp) {\n        group.remove(el);\n        oldData.setItemGraphicEl(idx, null);\n      }\n    }); // Remove previous created symbols if showSymbol changed to false\n\n    if (!showSymbol) {\n      symbolDraw.remove();\n    }\n\n    group.add(lineGroup); // FIXME step not support polar\n\n    var step = !isCoordSysPolar && seriesModel.get('step');\n    var clipShapeForSymbol;\n\n    if (coordSys && coordSys.getArea && seriesModel.get('clip', true)) {\n      clipShapeForSymbol = coordSys.getArea(); // Avoid float number rounding error for symbol on the edge of axis extent.\n      // See #7913 and `test/dataZoom-clip.html`.\n\n      if (clipShapeForSymbol.width != null) {\n        clipShapeForSymbol.x -= 0.1;\n        clipShapeForSymbol.y -= 0.1;\n        clipShapeForSymbol.width += 0.2;\n        clipShapeForSymbol.height += 0.2;\n      } else if (clipShapeForSymbol.r0) {\n        clipShapeForSymbol.r0 -= 0.5;\n        clipShapeForSymbol.r1 += 0.5;\n      }\n    }\n\n    this._clipShapeForSymbol = clipShapeForSymbol; // Initialization animation or coordinate system changed\n\n    if (!(polyline && prevCoordSys.type === coordSys.type && step === this._step)) {\n      showSymbol && symbolDraw.updateData(data, {\n        isIgnore: isIgnoreFunc,\n        clipShape: clipShapeForSymbol\n      });\n\n      if (step) {\n        // TODO If stacked series is not step\n        points = turnPointsIntoStep(points, coordSys, step);\n        stackedOnPoints = turnPointsIntoStep(stackedOnPoints, coordSys, step);\n      }\n\n      polyline = this._newPolyline(points, coordSys, hasAnimation);\n\n      if (isAreaChart) {\n        polygon = this._newPolygon(points, stackedOnPoints, coordSys, hasAnimation);\n      }\n\n      lineGroup.setClipPath(createLineClipPath(coordSys, true, seriesModel));\n    } else {\n      if (isAreaChart && !polygon) {\n        // If areaStyle is added\n        polygon = this._newPolygon(points, stackedOnPoints, coordSys, hasAnimation);\n      } else if (polygon && !isAreaChart) {\n        // If areaStyle is removed\n        lineGroup.remove(polygon);\n        polygon = this._polygon = null;\n      } // Update clipPath\n\n\n      lineGroup.setClipPath(createLineClipPath(coordSys, false, seriesModel)); // Always update, or it is wrong in the case turning on legend\n      // because points are not changed\n\n      showSymbol && symbolDraw.updateData(data, {\n        isIgnore: isIgnoreFunc,\n        clipShape: clipShapeForSymbol\n      }); // Stop symbol animation and sync with line points\n      // FIXME performance?\n\n      data.eachItemGraphicEl(function (el) {\n        el.stopAnimation(true);\n      }); // In the case data zoom triggerred refreshing frequently\n      // Data may not change if line has a category axis. So it should animate nothing\n\n      if (!isPointsSame(this._stackedOnPoints, stackedOnPoints) || !isPointsSame(this._points, points)) {\n        if (hasAnimation) {\n          this._updateAnimation(data, stackedOnPoints, coordSys, api, step, valueOrigin);\n        } else {\n          // Not do it in update with animation\n          if (step) {\n            // TODO If stacked series is not step\n            points = turnPointsIntoStep(points, coordSys, step);\n            stackedOnPoints = turnPointsIntoStep(stackedOnPoints, coordSys, step);\n          }\n\n          polyline.setShape({\n            points: points\n          });\n          polygon && polygon.setShape({\n            points: points,\n            stackedOnPoints: stackedOnPoints\n          });\n        }\n      }\n    }\n\n    var visualColor = getVisualGradient(data, coordSys) || data.getVisual('color');\n    polyline.useStyle(zrUtil.defaults( // Use color in lineStyle first\n    lineStyleModel.getLineStyle(), {\n      fill: 'none',\n      stroke: visualColor,\n      lineJoin: 'bevel'\n    }));\n    var smooth = seriesModel.get('smooth');\n    smooth = getSmooth(seriesModel.get('smooth'));\n    polyline.setShape({\n      smooth: smooth,\n      smoothMonotone: seriesModel.get('smoothMonotone'),\n      connectNulls: seriesModel.get('connectNulls')\n    });\n\n    if (polygon) {\n      var stackedOnSeries = data.getCalculationInfo('stackedOnSeries');\n      var stackedOnSmooth = 0;\n      polygon.useStyle(zrUtil.defaults(areaStyleModel.getAreaStyle(), {\n        fill: visualColor,\n        opacity: 0.7,\n        lineJoin: 'bevel'\n      }));\n\n      if (stackedOnSeries) {\n        stackedOnSmooth = getSmooth(stackedOnSeries.get('smooth'));\n      }\n\n      polygon.setShape({\n        smooth: smooth,\n        stackedOnSmooth: stackedOnSmooth,\n        smoothMonotone: seriesModel.get('smoothMonotone'),\n        connectNulls: seriesModel.get('connectNulls')\n      });\n    }\n\n    this._data = data; // Save the coordinate system for transition animation when data changed\n\n    this._coordSys = coordSys;\n    this._stackedOnPoints = stackedOnPoints;\n    this._points = points;\n    this._step = step;\n    this._valueOrigin = valueOrigin;\n  },\n  dispose: function () {},\n  highlight: function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var dataIndex = modelUtil.queryDataIndex(data, payload);\n\n    if (!(dataIndex instanceof Array) && dataIndex != null && dataIndex >= 0) {\n      var symbol = data.getItemGraphicEl(dataIndex);\n\n      if (!symbol) {\n        // Create a temporary symbol if it is not exists\n        var pt = data.getItemLayout(dataIndex);\n\n        if (!pt) {\n          // Null data\n          return;\n        } // fix #11360: should't draw symbol outside clipShapeForSymbol\n\n\n        if (this._clipShapeForSymbol && !this._clipShapeForSymbol.contain(pt[0], pt[1])) {\n          return;\n        }\n\n        symbol = new SymbolClz(data, dataIndex);\n        symbol.position = pt;\n        symbol.setZ(seriesModel.get('zlevel'), seriesModel.get('z'));\n        symbol.ignore = isNaN(pt[0]) || isNaN(pt[1]);\n        symbol.__temp = true;\n        data.setItemGraphicEl(dataIndex, symbol); // Stop scale animation\n\n        symbol.stopSymbolAnimation(true);\n        this.group.add(symbol);\n      }\n\n      symbol.highlight();\n    } else {\n      // Highlight whole series\n      ChartView.prototype.highlight.call(this, seriesModel, ecModel, api, payload);\n    }\n  },\n  downplay: function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var dataIndex = modelUtil.queryDataIndex(data, payload);\n\n    if (dataIndex != null && dataIndex >= 0) {\n      var symbol = data.getItemGraphicEl(dataIndex);\n\n      if (symbol) {\n        if (symbol.__temp) {\n          data.setItemGraphicEl(dataIndex, null);\n          this.group.remove(symbol);\n        } else {\n          symbol.downplay();\n        }\n      }\n    } else {\n      // FIXME\n      // can not downplay completely.\n      // Downplay whole series\n      ChartView.prototype.downplay.call(this, seriesModel, ecModel, api, payload);\n    }\n  },\n\n  /**\n   * @param {module:zrender/container/Group} group\n   * @param {Array.<Array.<number>>} points\n   * @private\n   */\n  _newPolyline: function (points) {\n    var polyline = this._polyline; // Remove previous created polyline\n\n    if (polyline) {\n      this._lineGroup.remove(polyline);\n    }\n\n    polyline = new Polyline({\n      shape: {\n        points: points\n      },\n      silent: true,\n      z2: 10\n    });\n\n    this._lineGroup.add(polyline);\n\n    this._polyline = polyline;\n    return polyline;\n  },\n\n  /**\n   * @param {module:zrender/container/Group} group\n   * @param {Array.<Array.<number>>} stackedOnPoints\n   * @param {Array.<Array.<number>>} points\n   * @private\n   */\n  _newPolygon: function (points, stackedOnPoints) {\n    var polygon = this._polygon; // Remove previous created polygon\n\n    if (polygon) {\n      this._lineGroup.remove(polygon);\n    }\n\n    polygon = new Polygon({\n      shape: {\n        points: points,\n        stackedOnPoints: stackedOnPoints\n      },\n      silent: true\n    });\n\n    this._lineGroup.add(polygon);\n\n    this._polygon = polygon;\n    return polygon;\n  },\n\n  /**\n   * @private\n   */\n  // FIXME Two value axis\n  _updateAnimation: function (data, stackedOnPoints, coordSys, api, step, valueOrigin) {\n    var polyline = this._polyline;\n    var polygon = this._polygon;\n    var seriesModel = data.hostModel;\n    var diff = lineAnimationDiff(this._data, data, this._stackedOnPoints, stackedOnPoints, this._coordSys, coordSys, this._valueOrigin, valueOrigin);\n    var current = diff.current;\n    var stackedOnCurrent = diff.stackedOnCurrent;\n    var next = diff.next;\n    var stackedOnNext = diff.stackedOnNext;\n\n    if (step) {\n      // TODO If stacked series is not step\n      current = turnPointsIntoStep(diff.current, coordSys, step);\n      stackedOnCurrent = turnPointsIntoStep(diff.stackedOnCurrent, coordSys, step);\n      next = turnPointsIntoStep(diff.next, coordSys, step);\n      stackedOnNext = turnPointsIntoStep(diff.stackedOnNext, coordSys, step);\n    } // Don't apply animation if diff is large.\n    // For better result and avoid memory explosion problems like\n    // https://github.com/apache/incubator-echarts/issues/12229\n\n\n    if (getBoundingDiff(current, next) > 3000 || polygon && getBoundingDiff(stackedOnCurrent, stackedOnNext) > 3000) {\n      polyline.setShape({\n        points: next\n      });\n\n      if (polygon) {\n        polygon.setShape({\n          points: next,\n          stackedOnPoints: stackedOnNext\n        });\n      }\n\n      return;\n    } // `diff.current` is subset of `current` (which should be ensured by\n    // turnPointsIntoStep), so points in `__points` can be updated when\n    // points in `current` are update during animation.\n\n\n    polyline.shape.__points = diff.current;\n    polyline.shape.points = current;\n    graphic.updateProps(polyline, {\n      shape: {\n        points: next\n      }\n    }, seriesModel);\n\n    if (polygon) {\n      polygon.setShape({\n        points: current,\n        stackedOnPoints: stackedOnCurrent\n      });\n      graphic.updateProps(polygon, {\n        shape: {\n          points: next,\n          stackedOnPoints: stackedOnNext\n        }\n      }, seriesModel);\n    }\n\n    var updatedDataInfo = [];\n    var diffStatus = diff.status;\n\n    for (var i = 0; i < diffStatus.length; i++) {\n      var cmd = diffStatus[i].cmd;\n\n      if (cmd === '=') {\n        var el = data.getItemGraphicEl(diffStatus[i].idx1);\n\n        if (el) {\n          updatedDataInfo.push({\n            el: el,\n            ptIdx: i // Index of points\n\n          });\n        }\n      }\n    }\n\n    if (polyline.animators && polyline.animators.length) {\n      polyline.animators[0].during(function () {\n        for (var i = 0; i < updatedDataInfo.length; i++) {\n          var el = updatedDataInfo[i].el;\n          el.attr('position', polyline.shape.__points[updatedDataInfo[i].ptIdx]);\n        }\n      });\n    }\n  },\n  remove: function (ecModel) {\n    var group = this.group;\n    var oldData = this._data;\n\n    this._lineGroup.removeAll();\n\n    this._symbolDraw.remove(true); // Remove temporary created elements when highlighting\n\n\n    oldData && oldData.eachItemGraphicEl(function (el, idx) {\n      if (el.__temp) {\n        group.remove(el);\n        oldData.setItemGraphicEl(idx, null);\n      }\n    });\n    this._polyline = this._polygon = this._coordSys = this._points = this._stackedOnPoints = this._data = null;\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _helper = require(\"./helper\");\n\nvar prepareDataCoordInfo = _helper.prepareDataCoordInfo;\nvar getStackedOnPoint = _helper.getStackedOnPoint;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// var arrayDiff = require('zrender/src/core/arrayDiff');\n// 'zrender/src/core/arrayDiff' has been used before, but it did\n// not do well in performance when roam with fixed dataZoom window.\n// function convertToIntId(newIdList, oldIdList) {\n//     // Generate int id instead of string id.\n//     // Compare string maybe slow in score function of arrDiff\n//     // Assume id in idList are all unique\n//     var idIndicesMap = {};\n//     var idx = 0;\n//     for (var i = 0; i < newIdList.length; i++) {\n//         idIndicesMap[newIdList[i]] = idx;\n//         newIdList[i] = idx++;\n//     }\n//     for (var i = 0; i < oldIdList.length; i++) {\n//         var oldId = oldIdList[i];\n//         // Same with newIdList\n//         if (idIndicesMap[oldId]) {\n//             oldIdList[i] = idIndicesMap[oldId];\n//         }\n//         else {\n//             oldIdList[i] = idx++;\n//         }\n//     }\n// }\nfunction diffData(oldData, newData) {\n  var diffResult = [];\n  newData.diff(oldData).add(function (idx) {\n    diffResult.push({\n      cmd: '+',\n      idx: idx\n    });\n  }).update(function (newIdx, oldIdx) {\n    diffResult.push({\n      cmd: '=',\n      idx: oldIdx,\n      idx1: newIdx\n    });\n  }).remove(function (idx) {\n    diffResult.push({\n      cmd: '-',\n      idx: idx\n    });\n  }).execute();\n  return diffResult;\n}\n\nfunction _default(oldData, newData, oldStackedOnPoints, newStackedOnPoints, oldCoordSys, newCoordSys, oldValueOrigin, newValueOrigin) {\n  var diff = diffData(oldData, newData); // var newIdList = newData.mapArray(newData.getId);\n  // var oldIdList = oldData.mapArray(oldData.getId);\n  // convertToIntId(newIdList, oldIdList);\n  // // FIXME One data ?\n  // diff = arrayDiff(oldIdList, newIdList);\n\n  var currPoints = [];\n  var nextPoints = []; // Points for stacking base line\n\n  var currStackedPoints = [];\n  var nextStackedPoints = [];\n  var status = [];\n  var sortedIndices = [];\n  var rawIndices = [];\n  var newDataOldCoordInfo = prepareDataCoordInfo(oldCoordSys, newData, oldValueOrigin);\n  var oldDataNewCoordInfo = prepareDataCoordInfo(newCoordSys, oldData, newValueOrigin);\n\n  for (var i = 0; i < diff.length; i++) {\n    var diffItem = diff[i];\n    var pointAdded = true; // FIXME, animation is not so perfect when dataZoom window moves fast\n    // Which is in case remvoing or add more than one data in the tail or head\n\n    switch (diffItem.cmd) {\n      case '=':\n        var currentPt = oldData.getItemLayout(diffItem.idx);\n        var nextPt = newData.getItemLayout(diffItem.idx1); // If previous data is NaN, use next point directly\n\n        if (isNaN(currentPt[0]) || isNaN(currentPt[1])) {\n          currentPt = nextPt.slice();\n        }\n\n        currPoints.push(currentPt);\n        nextPoints.push(nextPt);\n        currStackedPoints.push(oldStackedOnPoints[diffItem.idx]);\n        nextStackedPoints.push(newStackedOnPoints[diffItem.idx1]);\n        rawIndices.push(newData.getRawIndex(diffItem.idx1));\n        break;\n\n      case '+':\n        var idx = diffItem.idx;\n        currPoints.push(oldCoordSys.dataToPoint([newData.get(newDataOldCoordInfo.dataDimsForPoint[0], idx), newData.get(newDataOldCoordInfo.dataDimsForPoint[1], idx)]));\n        nextPoints.push(newData.getItemLayout(idx).slice());\n        currStackedPoints.push(getStackedOnPoint(newDataOldCoordInfo, oldCoordSys, newData, idx));\n        nextStackedPoints.push(newStackedOnPoints[idx]);\n        rawIndices.push(newData.getRawIndex(idx));\n        break;\n\n      case '-':\n        var idx = diffItem.idx;\n        var rawIndex = oldData.getRawIndex(idx); // Data is replaced. In the case of dynamic data queue\n        // FIXME FIXME FIXME\n\n        if (rawIndex !== idx) {\n          currPoints.push(oldData.getItemLayout(idx));\n          nextPoints.push(newCoordSys.dataToPoint([oldData.get(oldDataNewCoordInfo.dataDimsForPoint[0], idx), oldData.get(oldDataNewCoordInfo.dataDimsForPoint[1], idx)]));\n          currStackedPoints.push(oldStackedOnPoints[idx]);\n          nextStackedPoints.push(getStackedOnPoint(oldDataNewCoordInfo, newCoordSys, oldData, idx));\n          rawIndices.push(rawIndex);\n        } else {\n          pointAdded = false;\n        }\n\n    } // Original indices\n\n\n    if (pointAdded) {\n      status.push(diffItem);\n      sortedIndices.push(sortedIndices.length);\n    }\n  } // Diff result may be crossed if all items are changed\n  // Sort by data index\n\n\n  sortedIndices.sort(function (a, b) {\n    return rawIndices[a] - rawIndices[b];\n  });\n  var sortedCurrPoints = [];\n  var sortedNextPoints = [];\n  var sortedCurrStackedPoints = [];\n  var sortedNextStackedPoints = [];\n  var sortedStatus = [];\n\n  for (var i = 0; i < sortedIndices.length; i++) {\n    var idx = sortedIndices[i];\n    sortedCurrPoints[i] = currPoints[idx];\n    sortedNextPoints[i] = nextPoints[idx];\n    sortedCurrStackedPoints[i] = currStackedPoints[idx];\n    sortedNextStackedPoints[i] = nextStackedPoints[idx];\n    sortedStatus[i] = status[idx];\n  }\n\n  return {\n    current: sortedCurrPoints,\n    next: sortedNextPoints,\n    stackedOnCurrent: sortedCurrStackedPoints,\n    stackedOnNext: sortedNextStackedPoints,\n    status: sortedStatus\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar Path = require(\"zrender/lib/graphic/Path\");\n\nvar vec2 = require(\"zrender/lib/core/vector\");\n\nvar fixClipWithShadow = require(\"zrender/lib/graphic/helper/fixClipWithShadow\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Poly path support NaN point\nvar vec2Min = vec2.min;\nvar vec2Max = vec2.max;\nvar scaleAndAdd = vec2.scaleAndAdd;\nvar v2Copy = vec2.copy; // Temporary variable\n\nvar v = [];\nvar cp0 = [];\nvar cp1 = [];\n\nfunction isPointNull(p) {\n  return isNaN(p[0]) || isNaN(p[1]);\n}\n\nfunction drawSegment(ctx, points, start, segLen, allLen, dir, smoothMin, smoothMax, smooth, smoothMonotone, connectNulls) {\n  // if (smoothMonotone == null) {\n  //     if (isMono(points, 'x')) {\n  //         return drawMono(ctx, points, start, segLen, allLen,\n  //             dir, smoothMin, smoothMax, smooth, 'x', connectNulls);\n  //     }\n  //     else if (isMono(points, 'y')) {\n  //         return drawMono(ctx, points, start, segLen, allLen,\n  //             dir, smoothMin, smoothMax, smooth, 'y', connectNulls);\n  //     }\n  //     else {\n  //         return drawNonMono.apply(this, arguments);\n  //     }\n  // }\n  // else if (smoothMonotone !== 'none' && isMono(points, smoothMonotone)) {\n  //     return drawMono.apply(this, arguments);\n  // }\n  // else {\n  //     return drawNonMono.apply(this, arguments);\n  // }\n  if (smoothMonotone === 'none' || !smoothMonotone) {\n    return drawNonMono.apply(this, arguments);\n  } else {\n    return drawMono.apply(this, arguments);\n  }\n}\n/**\n * Check if points is in monotone.\n *\n * @param {number[][]} points         Array of points which is in [x, y] form\n * @param {string}     smoothMonotone 'x', 'y', or 'none', stating for which\n *                                    dimension that is checking.\n *                                    If is 'none', `drawNonMono` should be\n *                                    called.\n *                                    If is undefined, either being monotone\n *                                    in 'x' or 'y' will call `drawMono`.\n */\n// function isMono(points, smoothMonotone) {\n//     if (points.length <= 1) {\n//         return true;\n//     }\n//     var dim = smoothMonotone === 'x' ? 0 : 1;\n//     var last = points[0][dim];\n//     var lastDiff = 0;\n//     for (var i = 1; i < points.length; ++i) {\n//         var diff = points[i][dim] - last;\n//         if (!isNaN(diff) && !isNaN(lastDiff)\n//             && diff !== 0 && lastDiff !== 0\n//             && ((diff >= 0) !== (lastDiff >= 0))\n//         ) {\n//             return false;\n//         }\n//         if (!isNaN(diff) && diff !== 0) {\n//             lastDiff = diff;\n//             last = points[i][dim];\n//         }\n//     }\n//     return true;\n// }\n\n/**\n * Draw smoothed line in monotone, in which only vertical or horizontal bezier\n * control points will be used. This should be used when points are monotone\n * either in x or y dimension.\n */\n\n\nfunction drawMono(ctx, points, start, segLen, allLen, dir, smoothMin, smoothMax, smooth, smoothMonotone, connectNulls) {\n  var prevIdx = 0;\n  var idx = start;\n\n  for (var k = 0; k < segLen; k++) {\n    var p = points[idx];\n\n    if (idx >= allLen || idx < 0) {\n      break;\n    }\n\n    if (isPointNull(p)) {\n      if (connectNulls) {\n        idx += dir;\n        continue;\n      }\n\n      break;\n    }\n\n    if (idx === start) {\n      ctx[dir > 0 ? 'moveTo' : 'lineTo'](p[0], p[1]);\n    } else {\n      if (smooth > 0) {\n        var prevP = points[prevIdx];\n        var dim = smoothMonotone === 'y' ? 1 : 0; // Length of control point to p, either in x or y, but not both\n\n        var ctrlLen = (p[dim] - prevP[dim]) * smooth;\n        v2Copy(cp0, prevP);\n        cp0[dim] = prevP[dim] + ctrlLen;\n        v2Copy(cp1, p);\n        cp1[dim] = p[dim] - ctrlLen;\n        ctx.bezierCurveTo(cp0[0], cp0[1], cp1[0], cp1[1], p[0], p[1]);\n      } else {\n        ctx.lineTo(p[0], p[1]);\n      }\n    }\n\n    prevIdx = idx;\n    idx += dir;\n  }\n\n  return k;\n}\n/**\n * Draw smoothed line in non-monotone, in may cause undesired curve in extreme\n * situations. This should be used when points are non-monotone neither in x or\n * y dimension.\n */\n\n\nfunction drawNonMono(ctx, points, start, segLen, allLen, dir, smoothMin, smoothMax, smooth, smoothMonotone, connectNulls) {\n  var prevIdx = 0;\n  var idx = start;\n\n  for (var k = 0; k < segLen; k++) {\n    var p = points[idx];\n\n    if (idx >= allLen || idx < 0) {\n      break;\n    }\n\n    if (isPointNull(p)) {\n      if (connectNulls) {\n        idx += dir;\n        continue;\n      }\n\n      break;\n    }\n\n    if (idx === start) {\n      ctx[dir > 0 ? 'moveTo' : 'lineTo'](p[0], p[1]);\n      v2Copy(cp0, p);\n    } else {\n      if (smooth > 0) {\n        var nextIdx = idx + dir;\n        var nextP = points[nextIdx];\n\n        if (connectNulls) {\n          // Find next point not null\n          while (nextP && isPointNull(points[nextIdx])) {\n            nextIdx += dir;\n            nextP = points[nextIdx];\n          }\n        }\n\n        var ratioNextSeg = 0.5;\n        var prevP = points[prevIdx];\n        var nextP = points[nextIdx]; // Last point\n\n        if (!nextP || isPointNull(nextP)) {\n          v2Copy(cp1, p);\n        } else {\n          // If next data is null in not connect case\n          if (isPointNull(nextP) && !connectNulls) {\n            nextP = p;\n          }\n\n          vec2.sub(v, nextP, prevP);\n          var lenPrevSeg;\n          var lenNextSeg;\n\n          if (smoothMonotone === 'x' || smoothMonotone === 'y') {\n            var dim = smoothMonotone === 'x' ? 0 : 1;\n            lenPrevSeg = Math.abs(p[dim] - prevP[dim]);\n            lenNextSeg = Math.abs(p[dim] - nextP[dim]);\n          } else {\n            lenPrevSeg = vec2.dist(p, prevP);\n            lenNextSeg = vec2.dist(p, nextP);\n          } // Use ratio of seg length\n\n\n          ratioNextSeg = lenNextSeg / (lenNextSeg + lenPrevSeg);\n          scaleAndAdd(cp1, p, v, -smooth * (1 - ratioNextSeg));\n        } // Smooth constraint\n\n\n        vec2Min(cp0, cp0, smoothMax);\n        vec2Max(cp0, cp0, smoothMin);\n        vec2Min(cp1, cp1, smoothMax);\n        vec2Max(cp1, cp1, smoothMin);\n        ctx.bezierCurveTo(cp0[0], cp0[1], cp1[0], cp1[1], p[0], p[1]); // cp0 of next segment\n\n        scaleAndAdd(cp0, p, v, smooth * ratioNextSeg);\n      } else {\n        ctx.lineTo(p[0], p[1]);\n      }\n    }\n\n    prevIdx = idx;\n    idx += dir;\n  }\n\n  return k;\n}\n\nfunction getBoundingBox(points, smoothConstraint) {\n  var ptMin = [Infinity, Infinity];\n  var ptMax = [-Infinity, -Infinity];\n\n  if (smoothConstraint) {\n    for (var i = 0; i < points.length; i++) {\n      var pt = points[i];\n\n      if (pt[0] < ptMin[0]) {\n        ptMin[0] = pt[0];\n      }\n\n      if (pt[1] < ptMin[1]) {\n        ptMin[1] = pt[1];\n      }\n\n      if (pt[0] > ptMax[0]) {\n        ptMax[0] = pt[0];\n      }\n\n      if (pt[1] > ptMax[1]) {\n        ptMax[1] = pt[1];\n      }\n    }\n  }\n\n  return {\n    min: smoothConstraint ? ptMin : ptMax,\n    max: smoothConstraint ? ptMax : ptMin\n  };\n}\n\nvar Polyline = Path.extend({\n  type: 'ec-polyline',\n  shape: {\n    points: [],\n    smooth: 0,\n    smoothConstraint: true,\n    smoothMonotone: null,\n    connectNulls: false\n  },\n  style: {\n    fill: null,\n    stroke: '#000'\n  },\n  brush: fixClipWithShadow(Path.prototype.brush),\n  buildPath: function (ctx, shape) {\n    var points = shape.points;\n    var i = 0;\n    var len = points.length;\n    var result = getBoundingBox(points, shape.smoothConstraint);\n\n    if (shape.connectNulls) {\n      // Must remove first and last null values avoid draw error in polygon\n      for (; len > 0; len--) {\n        if (!isPointNull(points[len - 1])) {\n          break;\n        }\n      }\n\n      for (; i < len; i++) {\n        if (!isPointNull(points[i])) {\n          break;\n        }\n      }\n    }\n\n    while (i < len) {\n      i += drawSegment(ctx, points, i, len, len, 1, result.min, result.max, shape.smooth, shape.smoothMonotone, shape.connectNulls) + 1;\n    }\n  }\n});\nvar Polygon = Path.extend({\n  type: 'ec-polygon',\n  shape: {\n    points: [],\n    // Offset between stacked base points and points\n    stackedOnPoints: [],\n    smooth: 0,\n    stackedOnSmooth: 0,\n    smoothConstraint: true,\n    smoothMonotone: null,\n    connectNulls: false\n  },\n  brush: fixClipWithShadow(Path.prototype.brush),\n  buildPath: function (ctx, shape) {\n    var points = shape.points;\n    var stackedOnPoints = shape.stackedOnPoints;\n    var i = 0;\n    var len = points.length;\n    var smoothMonotone = shape.smoothMonotone;\n    var bbox = getBoundingBox(points, shape.smoothConstraint);\n    var stackedOnBBox = getBoundingBox(stackedOnPoints, shape.smoothConstraint);\n\n    if (shape.connectNulls) {\n      // Must remove first and last null values avoid draw error in polygon\n      for (; len > 0; len--) {\n        if (!isPointNull(points[len - 1])) {\n          break;\n        }\n      }\n\n      for (; i < len; i++) {\n        if (!isPointNull(points[i])) {\n          break;\n        }\n      }\n    }\n\n    while (i < len) {\n      var k = drawSegment(ctx, points, i, len, len, 1, bbox.min, bbox.max, shape.smooth, smoothMonotone, shape.connectNulls);\n      drawSegment(ctx, stackedOnPoints, i + k - 1, k, len, -1, stackedOnBBox.min, stackedOnBBox.max, shape.stackedOnSmooth, smoothMonotone, shape.connectNulls);\n      i += k + 1;\n      ctx.closePath();\n    }\n  }\n});\nexports.Polyline = Polyline;\nexports.Polygon = Polygon;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar samplers = {\n  average: function (frame) {\n    var sum = 0;\n    var count = 0;\n\n    for (var i = 0; i < frame.length; i++) {\n      if (!isNaN(frame[i])) {\n        sum += frame[i];\n        count++;\n      }\n    } // Return NaN if count is 0\n\n\n    return count === 0 ? NaN : sum / count;\n  },\n  sum: function (frame) {\n    var sum = 0;\n\n    for (var i = 0; i < frame.length; i++) {\n      // Ignore NaN\n      sum += frame[i] || 0;\n    }\n\n    return sum;\n  },\n  max: function (frame) {\n    var max = -Infinity;\n\n    for (var i = 0; i < frame.length; i++) {\n      frame[i] > max && (max = frame[i]);\n    } // NaN will cause illegal axis extent.\n\n\n    return isFinite(max) ? max : NaN;\n  },\n  min: function (frame) {\n    var min = Infinity;\n\n    for (var i = 0; i < frame.length; i++) {\n      frame[i] < min && (min = frame[i]);\n    } // NaN will cause illegal axis extent.\n\n\n    return isFinite(min) ? min : NaN;\n  },\n  // TODO\n  // Median\n  nearest: function (frame) {\n    return frame[0];\n  }\n};\n\nvar indexSampler = function (frame, value) {\n  return Math.round(frame.length / 2);\n};\n\nfunction _default(seriesType) {\n  return {\n    seriesType: seriesType,\n    modifyOutputEnd: true,\n    reset: function (seriesModel, ecModel, api) {\n      var data = seriesModel.getData();\n      var sampling = seriesModel.get('sampling');\n      var coordSys = seriesModel.coordinateSystem; // Only cartesian2d support down sampling\n\n      if (coordSys.type === 'cartesian2d' && sampling) {\n        var baseAxis = coordSys.getBaseAxis();\n        var valueAxis = coordSys.getOtherAxis(baseAxis);\n        var extent = baseAxis.getExtent(); // Coordinste system has been resized\n\n        var size = Math.abs(extent[1] - extent[0]);\n        var rate = Math.round(data.count() / size);\n\n        if (rate > 1) {\n          var sampler;\n\n          if (typeof sampling === 'string') {\n            sampler = samplers[sampling];\n          } else if (typeof sampling === 'function') {\n            sampler = sampling;\n          }\n\n          if (sampler) {\n            // Only support sample the first dim mapped from value axis.\n            seriesModel.setData(data.downSample(data.mapDimension(valueAxis.dim), 1 / rate, sampler, indexSampler));\n          }\n        }\n      }\n    }\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./scatter/ScatterSeries\");\n\nrequire(\"./scatter/ScatterView\");\n\nvar visualSymbol = require(\"../visual/symbol\");\n\nvar layoutPoints = require(\"../layout/points\");\n\nrequire(\"../component/gridSimple\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// import * as zrUtil from 'zrender/src/core/util';\n// In case developer forget to include grid component\necharts.registerVisual(visualSymbol('scatter', 'circle'));\necharts.registerLayout(layoutPoints('scatter')); // echarts.registerProcessor(function (ecModel, api) {\n//     ecModel.eachSeriesByType('scatter', function (seriesModel) {\n//         var data = seriesModel.getData();\n//         var coordSys = seriesModel.coordinateSystem;\n//         if (coordSys.type !== 'geo') {\n//             return;\n//         }\n//         var startPt = coordSys.pointToData([0, 0]);\n//         var endPt = coordSys.pointToData([api.getWidth(), api.getHeight()]);\n//         var dims = zrUtil.map(coordSys.dimensions, function (dim) {\n//             return data.mapDimension(dim);\n//         });\n//         var range = {};\n//         range[dims[0]] = [Math.min(startPt[0], endPt[0]), Math.max(startPt[0], endPt[0])];\n//         range[dims[1]] = [Math.min(startPt[1], endPt[1]), Math.max(startPt[1], endPt[1])];\n//         data.selectRange(range);\n//     });\n// });","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar createListFromArray = require(\"../helper/createListFromArray\");\n\nvar SeriesModel = require(\"../../model/Series\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = SeriesModel.extend({\n  type: 'series.scatter',\n  dependencies: ['grid', 'polar', 'geo', 'singleAxis', 'calendar'],\n  getInitialData: function (option, ecModel) {\n    return createListFromArray(this.getSource(), this, {\n      useEncodeDefaulter: true\n    });\n  },\n  brushSelector: 'point',\n  getProgressive: function () {\n    var progressive = this.option.progressive;\n\n    if (progressive == null) {\n      // PENDING\n      return this.option.large ? 5e3 : this.get('progressive');\n    }\n\n    return progressive;\n  },\n  getProgressiveThreshold: function () {\n    var progressiveThreshold = this.option.progressiveThreshold;\n\n    if (progressiveThreshold == null) {\n      // PENDING\n      return this.option.large ? 1e4 : this.get('progressiveThreshold');\n    }\n\n    return progressiveThreshold;\n  },\n  defaultOption: {\n    coordinateSystem: 'cartesian2d',\n    zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    hoverAnimation: true,\n    // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // Polar coordinate system\n    // polarIndex: 0,\n    // Geo coordinate system\n    // geoIndex: 0,\n    // symbol: null,        // 图形类型\n    symbolSize: 10,\n    // 图形大小，半宽（半径）参数，当图形为方向或菱形则总宽度为symbolSize * 2\n    // symbolRotate: null,  // 图形旋转控制\n    large: false,\n    // Available when large is true\n    largeThreshold: 2000,\n    // cursor: null,\n    // label: {\n    // show: false\n    // distance: 5,\n    // formatter: 标签文本格式器，同Tooltip.formatter，不支持异步回调\n    // position: 默认自适应，水平布局为'top'，垂直布局为'right'，可选为\n    //           'inside'|'left'|'right'|'top'|'bottom'\n    // 默认使用全局文本样式，详见TEXTSTYLE\n    // },\n    itemStyle: {\n      opacity: 0.8 // color: 各异\n\n    },\n    // If clip the overflow graphics\n    // Works on cartesian / polar series\n    clip: true // progressive: null\n\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar SymbolDraw = require(\"../helper/SymbolDraw\");\n\nvar LargeSymbolDraw = require(\"../helper/LargeSymbolDraw\");\n\nvar pointsLayout = require(\"../../layout/points\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\necharts.extendChartView({\n  type: 'scatter',\n  render: function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n\n    var symbolDraw = this._updateSymbolDraw(data, seriesModel);\n\n    symbolDraw.updateData(data, {\n      // TODO\n      // If this parameter should be a shape or a bounding volume\n      // shape will be more general.\n      // But bounding volume like bounding rect will be much faster in the contain calculation\n      clipShape: this._getClipShape(seriesModel)\n    });\n    this._finished = true;\n  },\n  incrementalPrepareRender: function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n\n    var symbolDraw = this._updateSymbolDraw(data, seriesModel);\n\n    symbolDraw.incrementalPrepareUpdate(data);\n    this._finished = false;\n  },\n  incrementalRender: function (taskParams, seriesModel, ecModel) {\n    this._symbolDraw.incrementalUpdate(taskParams, seriesModel.getData(), {\n      clipShape: this._getClipShape(seriesModel)\n    });\n\n    this._finished = taskParams.end === seriesModel.getData().count();\n  },\n  updateTransform: function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData(); // Must mark group dirty and make sure the incremental layer will be cleared\n    // PENDING\n\n    this.group.dirty();\n\n    if (!this._finished || data.count() > 1e4 || !this._symbolDraw.isPersistent()) {\n      return {\n        update: true\n      };\n    } else {\n      var res = pointsLayout().reset(seriesModel);\n\n      if (res.progress) {\n        res.progress({\n          start: 0,\n          end: data.count()\n        }, data);\n      }\n\n      this._symbolDraw.updateLayout(data);\n    }\n  },\n  _getClipShape: function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    var clipArea = coordSys && coordSys.getArea && coordSys.getArea();\n    return seriesModel.get('clip', true) ? clipArea : null;\n  },\n  _updateSymbolDraw: function (data, seriesModel) {\n    var symbolDraw = this._symbolDraw;\n    var pipelineContext = seriesModel.pipelineContext;\n    var isLargeDraw = pipelineContext.large;\n\n    if (!symbolDraw || isLargeDraw !== this._isLargeDraw) {\n      symbolDraw && symbolDraw.remove();\n      symbolDraw = this._symbolDraw = isLargeDraw ? new LargeSymbolDraw() : new SymbolDraw();\n      this._isLargeDraw = isLargeDraw;\n      this.group.removeAll();\n    }\n\n    this.group.add(symbolDraw.group);\n    return symbolDraw;\n  },\n  remove: function (ecModel, api) {\n    this._symbolDraw && this._symbolDraw.remove(true);\n    this._symbolDraw = null;\n  },\n  dispose: function () {}\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar IncrementalDisplayable = require(\"zrender/lib/graphic/IncrementalDisplayable\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/* global Float32Array */\n// TODO Batch by color\nvar BOOST_SIZE_THRESHOLD = 4;\nvar LargeSymbolPath = graphic.extendShape({\n  shape: {\n    points: null\n  },\n  symbolProxy: null,\n  softClipShape: null,\n  buildPath: function (path, shape) {\n    var points = shape.points;\n    var size = shape.size;\n    var symbolProxy = this.symbolProxy;\n    var symbolProxyShape = symbolProxy.shape;\n    var ctx = path.getContext ? path.getContext() : path;\n    var canBoost = ctx && size[0] < BOOST_SIZE_THRESHOLD; // Do draw in afterBrush.\n\n    if (canBoost) {\n      return;\n    }\n\n    for (var i = 0; i < points.length;) {\n      var x = points[i++];\n      var y = points[i++];\n\n      if (isNaN(x) || isNaN(y)) {\n        continue;\n      }\n\n      if (this.softClipShape && !this.softClipShape.contain(x, y)) {\n        continue;\n      }\n\n      symbolProxyShape.x = x - size[0] / 2;\n      symbolProxyShape.y = y - size[1] / 2;\n      symbolProxyShape.width = size[0];\n      symbolProxyShape.height = size[1];\n      symbolProxy.buildPath(path, symbolProxyShape, true);\n    }\n  },\n  afterBrush: function (ctx) {\n    var shape = this.shape;\n    var points = shape.points;\n    var size = shape.size;\n    var canBoost = size[0] < BOOST_SIZE_THRESHOLD;\n\n    if (!canBoost) {\n      return;\n    }\n\n    this.setTransform(ctx); // PENDING If style or other canvas status changed?\n\n    for (var i = 0; i < points.length;) {\n      var x = points[i++];\n      var y = points[i++];\n\n      if (isNaN(x) || isNaN(y)) {\n        continue;\n      }\n\n      if (this.softClipShape && !this.softClipShape.contain(x, y)) {\n        continue;\n      } // fillRect is faster than building a rect path and draw.\n      // And it support light globalCompositeOperation.\n\n\n      ctx.fillRect(x - size[0] / 2, y - size[1] / 2, size[0], size[1]);\n    }\n\n    this.restoreTransform(ctx);\n  },\n  findDataIndex: function (x, y) {\n    // TODO ???\n    // Consider transform\n    var shape = this.shape;\n    var points = shape.points;\n    var size = shape.size;\n    var w = Math.max(size[0], 4);\n    var h = Math.max(size[1], 4); // Not consider transform\n    // Treat each element as a rect\n    // top down traverse\n\n    for (var idx = points.length / 2 - 1; idx >= 0; idx--) {\n      var i = idx * 2;\n      var x0 = points[i] - w / 2;\n      var y0 = points[i + 1] - h / 2;\n\n      if (x >= x0 && y >= y0 && x <= x0 + w && y <= y0 + h) {\n        return idx;\n      }\n    }\n\n    return -1;\n  }\n});\n\nfunction LargeSymbolDraw() {\n  this.group = new graphic.Group();\n}\n\nvar largeSymbolProto = LargeSymbolDraw.prototype;\n\nlargeSymbolProto.isPersistent = function () {\n  return !this._incremental;\n};\n/**\n * Update symbols draw by new data\n * @param {module:echarts/data/List} data\n * @param {Object} opt\n * @param {Object} [opt.clipShape]\n */\n\n\nlargeSymbolProto.updateData = function (data, opt) {\n  this.group.removeAll();\n  var symbolEl = new LargeSymbolPath({\n    rectHover: true,\n    cursor: 'default'\n  });\n  symbolEl.setShape({\n    points: data.getLayout('symbolPoints')\n  });\n\n  this._setCommon(symbolEl, data, false, opt);\n\n  this.group.add(symbolEl);\n  this._incremental = null;\n};\n\nlargeSymbolProto.updateLayout = function (data) {\n  if (this._incremental) {\n    return;\n  }\n\n  var points = data.getLayout('symbolPoints');\n  this.group.eachChild(function (child) {\n    if (child.startIndex != null) {\n      var len = (child.endIndex - child.startIndex) * 2;\n      var byteOffset = child.startIndex * 4 * 2;\n      points = new Float32Array(points.buffer, byteOffset, len);\n    }\n\n    child.setShape('points', points);\n  });\n};\n\nlargeSymbolProto.incrementalPrepareUpdate = function (data) {\n  this.group.removeAll();\n\n  this._clearIncremental(); // Only use incremental displayables when data amount is larger than 2 million.\n  // PENDING Incremental data?\n\n\n  if (data.count() > 2e6) {\n    if (!this._incremental) {\n      this._incremental = new IncrementalDisplayable({\n        silent: true\n      });\n    }\n\n    this.group.add(this._incremental);\n  } else {\n    this._incremental = null;\n  }\n};\n\nlargeSymbolProto.incrementalUpdate = function (taskParams, data, opt) {\n  var symbolEl;\n\n  if (this._incremental) {\n    symbolEl = new LargeSymbolPath();\n\n    this._incremental.addDisplayable(symbolEl, true);\n  } else {\n    symbolEl = new LargeSymbolPath({\n      rectHover: true,\n      cursor: 'default',\n      startIndex: taskParams.start,\n      endIndex: taskParams.end\n    });\n    symbolEl.incremental = true;\n    this.group.add(symbolEl);\n  }\n\n  symbolEl.setShape({\n    points: data.getLayout('symbolPoints')\n  });\n\n  this._setCommon(symbolEl, data, !!this._incremental, opt);\n};\n\nlargeSymbolProto._setCommon = function (symbolEl, data, isIncremental, opt) {\n  var hostModel = data.hostModel;\n  opt = opt || {}; // TODO\n  // if (data.hasItemVisual.symbolSize) {\n  //     // TODO typed array?\n  //     symbolEl.setShape('sizes', data.mapArray(\n  //         function (idx) {\n  //             var size = data.getItemVisual(idx, 'symbolSize');\n  //             return (size instanceof Array) ? size : [size, size];\n  //         }\n  //     ));\n  // }\n  // else {\n\n  var size = data.getVisual('symbolSize');\n  symbolEl.setShape('size', size instanceof Array ? size : [size, size]); // }\n\n  symbolEl.softClipShape = opt.clipShape || null; // Create symbolProxy to build path for each data\n\n  symbolEl.symbolProxy = createSymbol(data.getVisual('symbol'), 0, 0, 0, 0); // Use symbolProxy setColor method\n\n  symbolEl.setColor = symbolEl.symbolProxy.setColor;\n  var extrudeShadow = symbolEl.shape.size[0] < BOOST_SIZE_THRESHOLD;\n  symbolEl.useStyle( // Draw shadow when doing fillRect is extremely slow.\n  hostModel.getModel('itemStyle').getItemStyle(extrudeShadow ? ['color', 'shadowBlur', 'shadowColor'] : ['color']));\n  var visualColor = data.getVisual('color');\n\n  if (visualColor) {\n    symbolEl.setColor(visualColor);\n  }\n\n  if (!isIncremental) {\n    // Enable tooltip\n    // PENDING May have performance issue when path is extremely large\n    symbolEl.seriesIndex = hostModel.seriesIndex;\n    symbolEl.on('mousemove', function (e) {\n      symbolEl.dataIndex = null;\n      var dataIndex = symbolEl.findDataIndex(e.offsetX, e.offsetY);\n\n      if (dataIndex >= 0) {\n        // Provide dataIndex for tooltip\n        symbolEl.dataIndex = dataIndex + (symbolEl.startIndex || 0);\n      }\n    });\n  }\n};\n\nlargeSymbolProto.remove = function () {\n  this._clearIncremental();\n\n  this._incremental = null;\n  this.group.removeAll();\n};\n\nlargeSymbolProto._clearIncremental = function () {\n  var incremental = this._incremental;\n\n  if (incremental) {\n    incremental.clearDisplaybles();\n  }\n};\n\nvar _default = LargeSymbolDraw;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nrequire(\"../coord/cartesian/Grid\");\n\nrequire(\"./bar/PictorialBarSeries\");\n\nrequire(\"./bar/PictorialBarView\");\n\nvar _barGrid = require(\"../layout/barGrid\");\n\nvar layout = _barGrid.layout;\n\nvar visualSymbol = require(\"../visual/symbol\");\n\nrequire(\"../component/gridSimple\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// In case developer forget to include grid component\necharts.registerLayout(zrUtil.curry(layout, 'pictorialBar'));\necharts.registerVisual(visualSymbol('pictorialBar', 'roundRect'));","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar BaseBarSeries = require(\"./BaseBarSeries\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar PictorialBarSeries = BaseBarSeries.extend({\n  type: 'series.pictorialBar',\n  dependencies: ['grid'],\n  defaultOption: {\n    symbol: 'circle',\n    // Customized bar shape\n    symbolSize: null,\n    // Can be ['100%', '100%'], null means auto.\n    symbolRotate: null,\n    symbolPosition: null,\n    // 'start' or 'end' or 'center', null means auto.\n    symbolOffset: null,\n    symbolMargin: null,\n    // start margin and end margin. Can be a number or a percent string.\n    // Auto margin by default.\n    symbolRepeat: false,\n    // false/null/undefined, means no repeat.\n    // Can be true, means auto calculate repeat times and cut by data.\n    // Can be a number, specifies repeat times, and do not cut by data.\n    // Can be 'fixed', means auto calculate repeat times but do not cut by data.\n    symbolRepeatDirection: 'end',\n    // 'end' means from 'start' to 'end'.\n    symbolClip: false,\n    symbolBoundingData: null,\n    // Can be 60 or -40 or [-40, 60]\n    symbolPatternSize: 400,\n    // 400 * 400 px\n    barGap: '-100%',\n    // In most case, overlap is needed.\n    // z can be set in data item, which is z2 actually.\n    // Disable progressive\n    progressive: 0,\n    hoverAnimation: false // Open only when needed.\n\n  },\n  getInitialData: function (option) {\n    // Disable stack.\n    option.stack = null;\n    return PictorialBarSeries.superApply(this, 'getInitialData', arguments);\n  }\n});\nvar _default = PictorialBarSeries;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\nvar isNumeric = _number.isNumeric;\n\nvar _helper = require(\"./helper\");\n\nvar setLabel = _helper.setLabel;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar BAR_BORDER_WIDTH_QUERY = ['itemStyle', 'borderWidth']; // index: +isHorizontal\n\nvar LAYOUT_ATTRS = [{\n  xy: 'x',\n  wh: 'width',\n  index: 0,\n  posDesc: ['left', 'right']\n}, {\n  xy: 'y',\n  wh: 'height',\n  index: 1,\n  posDesc: ['top', 'bottom']\n}];\nvar pathForLineWidth = new graphic.Circle();\nvar BarView = echarts.extendChartView({\n  type: 'pictorialBar',\n  render: function (seriesModel, ecModel, api) {\n    var group = this.group;\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var cartesian = seriesModel.coordinateSystem;\n    var baseAxis = cartesian.getBaseAxis();\n    var isHorizontal = !!baseAxis.isHorizontal();\n    var coordSysRect = cartesian.grid.getRect();\n    var opt = {\n      ecSize: {\n        width: api.getWidth(),\n        height: api.getHeight()\n      },\n      seriesModel: seriesModel,\n      coordSys: cartesian,\n      coordSysExtent: [[coordSysRect.x, coordSysRect.x + coordSysRect.width], [coordSysRect.y, coordSysRect.y + coordSysRect.height]],\n      isHorizontal: isHorizontal,\n      valueDim: LAYOUT_ATTRS[+isHorizontal],\n      categoryDim: LAYOUT_ATTRS[1 - isHorizontal]\n    };\n    data.diff(oldData).add(function (dataIndex) {\n      if (!data.hasValue(dataIndex)) {\n        return;\n      }\n\n      var itemModel = getItemModel(data, dataIndex);\n      var symbolMeta = getSymbolMeta(data, dataIndex, itemModel, opt);\n      var bar = createBar(data, opt, symbolMeta);\n      data.setItemGraphicEl(dataIndex, bar);\n      group.add(bar);\n      updateCommon(bar, opt, symbolMeta);\n    }).update(function (newIndex, oldIndex) {\n      var bar = oldData.getItemGraphicEl(oldIndex);\n\n      if (!data.hasValue(newIndex)) {\n        group.remove(bar);\n        return;\n      }\n\n      var itemModel = getItemModel(data, newIndex);\n      var symbolMeta = getSymbolMeta(data, newIndex, itemModel, opt);\n      var pictorialShapeStr = getShapeStr(data, symbolMeta);\n\n      if (bar && pictorialShapeStr !== bar.__pictorialShapeStr) {\n        group.remove(bar);\n        data.setItemGraphicEl(newIndex, null);\n        bar = null;\n      }\n\n      if (bar) {\n        updateBar(bar, opt, symbolMeta);\n      } else {\n        bar = createBar(data, opt, symbolMeta, true);\n      }\n\n      data.setItemGraphicEl(newIndex, bar);\n      bar.__pictorialSymbolMeta = symbolMeta; // Add back\n\n      group.add(bar);\n      updateCommon(bar, opt, symbolMeta);\n    }).remove(function (dataIndex) {\n      var bar = oldData.getItemGraphicEl(dataIndex);\n      bar && removeBar(oldData, dataIndex, bar.__pictorialSymbolMeta.animationModel, bar);\n    }).execute();\n    this._data = data;\n    return this.group;\n  },\n  dispose: zrUtil.noop,\n  remove: function (ecModel, api) {\n    var group = this.group;\n    var data = this._data;\n\n    if (ecModel.get('animation')) {\n      if (data) {\n        data.eachItemGraphicEl(function (bar) {\n          removeBar(data, bar.dataIndex, ecModel, bar);\n        });\n      }\n    } else {\n      group.removeAll();\n    }\n  }\n}); // Set or calculate default value about symbol, and calculate layout info.\n\nfunction getSymbolMeta(data, dataIndex, itemModel, opt) {\n  var layout = data.getItemLayout(dataIndex);\n  var symbolRepeat = itemModel.get('symbolRepeat');\n  var symbolClip = itemModel.get('symbolClip');\n  var symbolPosition = itemModel.get('symbolPosition') || 'start';\n  var symbolRotate = itemModel.get('symbolRotate');\n  var rotation = (symbolRotate || 0) * Math.PI / 180 || 0;\n  var symbolPatternSize = itemModel.get('symbolPatternSize') || 2;\n  var isAnimationEnabled = itemModel.isAnimationEnabled();\n  var symbolMeta = {\n    dataIndex: dataIndex,\n    layout: layout,\n    itemModel: itemModel,\n    symbolType: data.getItemVisual(dataIndex, 'symbol') || 'circle',\n    color: data.getItemVisual(dataIndex, 'color'),\n    symbolClip: symbolClip,\n    symbolRepeat: symbolRepeat,\n    symbolRepeatDirection: itemModel.get('symbolRepeatDirection'),\n    symbolPatternSize: symbolPatternSize,\n    rotation: rotation,\n    animationModel: isAnimationEnabled ? itemModel : null,\n    hoverAnimation: isAnimationEnabled && itemModel.get('hoverAnimation'),\n    z2: itemModel.getShallow('z', true) || 0\n  };\n  prepareBarLength(itemModel, symbolRepeat, layout, opt, symbolMeta);\n  prepareSymbolSize(data, dataIndex, layout, symbolRepeat, symbolClip, symbolMeta.boundingLength, symbolMeta.pxSign, symbolPatternSize, opt, symbolMeta);\n  prepareLineWidth(itemModel, symbolMeta.symbolScale, rotation, opt, symbolMeta);\n  var symbolSize = symbolMeta.symbolSize;\n  var symbolOffset = itemModel.get('symbolOffset');\n\n  if (zrUtil.isArray(symbolOffset)) {\n    symbolOffset = [parsePercent(symbolOffset[0], symbolSize[0]), parsePercent(symbolOffset[1], symbolSize[1])];\n  }\n\n  prepareLayoutInfo(itemModel, symbolSize, layout, symbolRepeat, symbolClip, symbolOffset, symbolPosition, symbolMeta.valueLineWidth, symbolMeta.boundingLength, symbolMeta.repeatCutLength, opt, symbolMeta);\n  return symbolMeta;\n} // bar length can be negative.\n\n\nfunction prepareBarLength(itemModel, symbolRepeat, layout, opt, output) {\n  var valueDim = opt.valueDim;\n  var symbolBoundingData = itemModel.get('symbolBoundingData');\n  var valueAxis = opt.coordSys.getOtherAxis(opt.coordSys.getBaseAxis());\n  var zeroPx = valueAxis.toGlobalCoord(valueAxis.dataToCoord(0));\n  var pxSignIdx = 1 - +(layout[valueDim.wh] <= 0);\n  var boundingLength;\n\n  if (zrUtil.isArray(symbolBoundingData)) {\n    var symbolBoundingExtent = [convertToCoordOnAxis(valueAxis, symbolBoundingData[0]) - zeroPx, convertToCoordOnAxis(valueAxis, symbolBoundingData[1]) - zeroPx];\n    symbolBoundingExtent[1] < symbolBoundingExtent[0] && symbolBoundingExtent.reverse();\n    boundingLength = symbolBoundingExtent[pxSignIdx];\n  } else if (symbolBoundingData != null) {\n    boundingLength = convertToCoordOnAxis(valueAxis, symbolBoundingData) - zeroPx;\n  } else if (symbolRepeat) {\n    boundingLength = opt.coordSysExtent[valueDim.index][pxSignIdx] - zeroPx;\n  } else {\n    boundingLength = layout[valueDim.wh];\n  }\n\n  output.boundingLength = boundingLength;\n\n  if (symbolRepeat) {\n    output.repeatCutLength = layout[valueDim.wh];\n  }\n\n  output.pxSign = boundingLength > 0 ? 1 : boundingLength < 0 ? -1 : 0;\n}\n\nfunction convertToCoordOnAxis(axis, value) {\n  return axis.toGlobalCoord(axis.dataToCoord(axis.scale.parse(value)));\n} // Support ['100%', '100%']\n\n\nfunction prepareSymbolSize(data, dataIndex, layout, symbolRepeat, symbolClip, boundingLength, pxSign, symbolPatternSize, opt, output) {\n  var valueDim = opt.valueDim;\n  var categoryDim = opt.categoryDim;\n  var categorySize = Math.abs(layout[categoryDim.wh]);\n  var symbolSize = data.getItemVisual(dataIndex, 'symbolSize');\n\n  if (zrUtil.isArray(symbolSize)) {\n    symbolSize = symbolSize.slice();\n  } else {\n    if (symbolSize == null) {\n      symbolSize = '100%';\n    }\n\n    symbolSize = [symbolSize, symbolSize];\n  } // Note: percentage symbolSize (like '100%') do not consider lineWidth, because it is\n  // to complicated to calculate real percent value if considering scaled lineWidth.\n  // So the actual size will bigger than layout size if lineWidth is bigger than zero,\n  // which can be tolerated in pictorial chart.\n\n\n  symbolSize[categoryDim.index] = parsePercent(symbolSize[categoryDim.index], categorySize);\n  symbolSize[valueDim.index] = parsePercent(symbolSize[valueDim.index], symbolRepeat ? categorySize : Math.abs(boundingLength));\n  output.symbolSize = symbolSize; // If x or y is less than zero, show reversed shape.\n\n  var symbolScale = output.symbolScale = [symbolSize[0] / symbolPatternSize, symbolSize[1] / symbolPatternSize]; // Follow convention, 'right' and 'top' is the normal scale.\n\n  symbolScale[valueDim.index] *= (opt.isHorizontal ? -1 : 1) * pxSign;\n}\n\nfunction prepareLineWidth(itemModel, symbolScale, rotation, opt, output) {\n  // In symbols are drawn with scale, so do not need to care about the case that width\n  // or height are too small. But symbol use strokeNoScale, where acture lineWidth should\n  // be calculated.\n  var valueLineWidth = itemModel.get(BAR_BORDER_WIDTH_QUERY) || 0;\n\n  if (valueLineWidth) {\n    pathForLineWidth.attr({\n      scale: symbolScale.slice(),\n      rotation: rotation\n    });\n    pathForLineWidth.updateTransform();\n    valueLineWidth /= pathForLineWidth.getLineScale();\n    valueLineWidth *= symbolScale[opt.valueDim.index];\n  }\n\n  output.valueLineWidth = valueLineWidth;\n}\n\nfunction prepareLayoutInfo(itemModel, symbolSize, layout, symbolRepeat, symbolClip, symbolOffset, symbolPosition, valueLineWidth, boundingLength, repeatCutLength, opt, output) {\n  var categoryDim = opt.categoryDim;\n  var valueDim = opt.valueDim;\n  var pxSign = output.pxSign;\n  var unitLength = Math.max(symbolSize[valueDim.index] + valueLineWidth, 0);\n  var pathLen = unitLength; // Note: rotation will not effect the layout of symbols, because user may\n  // want symbols to rotate on its center, which should not be translated\n  // when rotating.\n\n  if (symbolRepeat) {\n    var absBoundingLength = Math.abs(boundingLength);\n    var symbolMargin = zrUtil.retrieve(itemModel.get('symbolMargin'), '15%') + '';\n    var hasEndGap = false;\n\n    if (symbolMargin.lastIndexOf('!') === symbolMargin.length - 1) {\n      hasEndGap = true;\n      symbolMargin = symbolMargin.slice(0, symbolMargin.length - 1);\n    }\n\n    symbolMargin = parsePercent(symbolMargin, symbolSize[valueDim.index]);\n    var uLenWithMargin = Math.max(unitLength + symbolMargin * 2, 0); // When symbol margin is less than 0, margin at both ends will be subtracted\n    // to ensure that all of the symbols will not be overflow the given area.\n\n    var endFix = hasEndGap ? 0 : symbolMargin * 2; // Both final repeatTimes and final symbolMargin area calculated based on\n    // boundingLength.\n\n    var repeatSpecified = isNumeric(symbolRepeat);\n    var repeatTimes = repeatSpecified ? symbolRepeat : toIntTimes((absBoundingLength + endFix) / uLenWithMargin); // Adjust calculate margin, to ensure each symbol is displayed\n    // entirely in the given layout area.\n\n    var mDiff = absBoundingLength - repeatTimes * unitLength;\n    symbolMargin = mDiff / 2 / (hasEndGap ? repeatTimes : repeatTimes - 1);\n    uLenWithMargin = unitLength + symbolMargin * 2;\n    endFix = hasEndGap ? 0 : symbolMargin * 2; // Update repeatTimes when not all symbol will be shown.\n\n    if (!repeatSpecified && symbolRepeat !== 'fixed') {\n      repeatTimes = repeatCutLength ? toIntTimes((Math.abs(repeatCutLength) + endFix) / uLenWithMargin) : 0;\n    }\n\n    pathLen = repeatTimes * uLenWithMargin - endFix;\n    output.repeatTimes = repeatTimes;\n    output.symbolMargin = symbolMargin;\n  }\n\n  var sizeFix = pxSign * (pathLen / 2);\n  var pathPosition = output.pathPosition = [];\n  pathPosition[categoryDim.index] = layout[categoryDim.wh] / 2;\n  pathPosition[valueDim.index] = symbolPosition === 'start' ? sizeFix : symbolPosition === 'end' ? boundingLength - sizeFix : boundingLength / 2; // 'center'\n\n  if (symbolOffset) {\n    pathPosition[0] += symbolOffset[0];\n    pathPosition[1] += symbolOffset[1];\n  }\n\n  var bundlePosition = output.bundlePosition = [];\n  bundlePosition[categoryDim.index] = layout[categoryDim.xy];\n  bundlePosition[valueDim.index] = layout[valueDim.xy];\n  var barRectShape = output.barRectShape = zrUtil.extend({}, layout);\n  barRectShape[valueDim.wh] = pxSign * Math.max(Math.abs(layout[valueDim.wh]), Math.abs(pathPosition[valueDim.index] + sizeFix));\n  barRectShape[categoryDim.wh] = layout[categoryDim.wh];\n  var clipShape = output.clipShape = {}; // Consider that symbol may be overflow layout rect.\n\n  clipShape[categoryDim.xy] = -layout[categoryDim.xy];\n  clipShape[categoryDim.wh] = opt.ecSize[categoryDim.wh];\n  clipShape[valueDim.xy] = 0;\n  clipShape[valueDim.wh] = layout[valueDim.wh];\n}\n\nfunction createPath(symbolMeta) {\n  var symbolPatternSize = symbolMeta.symbolPatternSize;\n  var path = createSymbol( // Consider texture img, make a big size.\n  symbolMeta.symbolType, -symbolPatternSize / 2, -symbolPatternSize / 2, symbolPatternSize, symbolPatternSize, symbolMeta.color);\n  path.attr({\n    culling: true\n  });\n  path.type !== 'image' && path.setStyle({\n    strokeNoScale: true\n  });\n  return path;\n}\n\nfunction createOrUpdateRepeatSymbols(bar, opt, symbolMeta, isUpdate) {\n  var bundle = bar.__pictorialBundle;\n  var symbolSize = symbolMeta.symbolSize;\n  var valueLineWidth = symbolMeta.valueLineWidth;\n  var pathPosition = symbolMeta.pathPosition;\n  var valueDim = opt.valueDim;\n  var repeatTimes = symbolMeta.repeatTimes || 0;\n  var index = 0;\n  var unit = symbolSize[opt.valueDim.index] + valueLineWidth + symbolMeta.symbolMargin * 2;\n  eachPath(bar, function (path) {\n    path.__pictorialAnimationIndex = index;\n    path.__pictorialRepeatTimes = repeatTimes;\n\n    if (index < repeatTimes) {\n      updateAttr(path, null, makeTarget(index), symbolMeta, isUpdate);\n    } else {\n      updateAttr(path, null, {\n        scale: [0, 0]\n      }, symbolMeta, isUpdate, function () {\n        bundle.remove(path);\n      });\n    }\n\n    updateHoverAnimation(path, symbolMeta);\n    index++;\n  });\n\n  for (; index < repeatTimes; index++) {\n    var path = createPath(symbolMeta);\n    path.__pictorialAnimationIndex = index;\n    path.__pictorialRepeatTimes = repeatTimes;\n    bundle.add(path);\n    var target = makeTarget(index);\n    updateAttr(path, {\n      position: target.position,\n      scale: [0, 0]\n    }, {\n      scale: target.scale,\n      rotation: target.rotation\n    }, symbolMeta, isUpdate); // FIXME\n    // If all emphasis/normal through action.\n\n    path.on('mouseover', onMouseOver).on('mouseout', onMouseOut);\n    updateHoverAnimation(path, symbolMeta);\n  }\n\n  function makeTarget(index) {\n    var position = pathPosition.slice(); // (start && pxSign > 0) || (end && pxSign < 0): i = repeatTimes - index\n    // Otherwise: i = index;\n\n    var pxSign = symbolMeta.pxSign;\n    var i = index;\n\n    if (symbolMeta.symbolRepeatDirection === 'start' ? pxSign > 0 : pxSign < 0) {\n      i = repeatTimes - 1 - index;\n    }\n\n    position[valueDim.index] = unit * (i - repeatTimes / 2 + 0.5) + pathPosition[valueDim.index];\n    return {\n      position: position,\n      scale: symbolMeta.symbolScale.slice(),\n      rotation: symbolMeta.rotation\n    };\n  }\n\n  function onMouseOver() {\n    eachPath(bar, function (path) {\n      path.trigger('emphasis');\n    });\n  }\n\n  function onMouseOut() {\n    eachPath(bar, function (path) {\n      path.trigger('normal');\n    });\n  }\n}\n\nfunction createOrUpdateSingleSymbol(bar, opt, symbolMeta, isUpdate) {\n  var bundle = bar.__pictorialBundle;\n  var mainPath = bar.__pictorialMainPath;\n\n  if (!mainPath) {\n    mainPath = bar.__pictorialMainPath = createPath(symbolMeta);\n    bundle.add(mainPath);\n    updateAttr(mainPath, {\n      position: symbolMeta.pathPosition.slice(),\n      scale: [0, 0],\n      rotation: symbolMeta.rotation\n    }, {\n      scale: symbolMeta.symbolScale.slice()\n    }, symbolMeta, isUpdate);\n    mainPath.on('mouseover', onMouseOver).on('mouseout', onMouseOut);\n  } else {\n    updateAttr(mainPath, null, {\n      position: symbolMeta.pathPosition.slice(),\n      scale: symbolMeta.symbolScale.slice(),\n      rotation: symbolMeta.rotation\n    }, symbolMeta, isUpdate);\n  }\n\n  updateHoverAnimation(mainPath, symbolMeta);\n\n  function onMouseOver() {\n    this.trigger('emphasis');\n  }\n\n  function onMouseOut() {\n    this.trigger('normal');\n  }\n} // bar rect is used for label.\n\n\nfunction createOrUpdateBarRect(bar, symbolMeta, isUpdate) {\n  var rectShape = zrUtil.extend({}, symbolMeta.barRectShape);\n  var barRect = bar.__pictorialBarRect;\n\n  if (!barRect) {\n    barRect = bar.__pictorialBarRect = new graphic.Rect({\n      z2: 2,\n      shape: rectShape,\n      silent: true,\n      style: {\n        stroke: 'transparent',\n        fill: 'transparent',\n        lineWidth: 0\n      }\n    });\n    bar.add(barRect);\n  } else {\n    updateAttr(barRect, null, {\n      shape: rectShape\n    }, symbolMeta, isUpdate);\n  }\n}\n\nfunction createOrUpdateClip(bar, opt, symbolMeta, isUpdate) {\n  // If not clip, symbol will be remove and rebuilt.\n  if (symbolMeta.symbolClip) {\n    var clipPath = bar.__pictorialClipPath;\n    var clipShape = zrUtil.extend({}, symbolMeta.clipShape);\n    var valueDim = opt.valueDim;\n    var animationModel = symbolMeta.animationModel;\n    var dataIndex = symbolMeta.dataIndex;\n\n    if (clipPath) {\n      graphic.updateProps(clipPath, {\n        shape: clipShape\n      }, animationModel, dataIndex);\n    } else {\n      clipShape[valueDim.wh] = 0;\n      clipPath = new graphic.Rect({\n        shape: clipShape\n      });\n\n      bar.__pictorialBundle.setClipPath(clipPath);\n\n      bar.__pictorialClipPath = clipPath;\n      var target = {};\n      target[valueDim.wh] = symbolMeta.clipShape[valueDim.wh];\n      graphic[isUpdate ? 'updateProps' : 'initProps'](clipPath, {\n        shape: target\n      }, animationModel, dataIndex);\n    }\n  }\n}\n\nfunction getItemModel(data, dataIndex) {\n  var itemModel = data.getItemModel(dataIndex);\n  itemModel.getAnimationDelayParams = getAnimationDelayParams;\n  itemModel.isAnimationEnabled = isAnimationEnabled;\n  return itemModel;\n}\n\nfunction getAnimationDelayParams(path) {\n  // The order is the same as the z-order, see `symbolRepeatDiretion`.\n  return {\n    index: path.__pictorialAnimationIndex,\n    count: path.__pictorialRepeatTimes\n  };\n}\n\nfunction isAnimationEnabled() {\n  // `animation` prop can be set on itemModel in pictorial bar chart.\n  return this.parentModel.isAnimationEnabled() && !!this.getShallow('animation');\n}\n\nfunction updateHoverAnimation(path, symbolMeta) {\n  path.off('emphasis').off('normal');\n  var scale = symbolMeta.symbolScale.slice();\n  symbolMeta.hoverAnimation && path.on('emphasis', function () {\n    this.animateTo({\n      scale: [scale[0] * 1.1, scale[1] * 1.1]\n    }, 400, 'elasticOut');\n  }).on('normal', function () {\n    this.animateTo({\n      scale: scale.slice()\n    }, 400, 'elasticOut');\n  });\n}\n\nfunction createBar(data, opt, symbolMeta, isUpdate) {\n  // bar is the main element for each data.\n  var bar = new graphic.Group(); // bundle is used for location and clip.\n\n  var bundle = new graphic.Group();\n  bar.add(bundle);\n  bar.__pictorialBundle = bundle;\n  bundle.attr('position', symbolMeta.bundlePosition.slice());\n\n  if (symbolMeta.symbolRepeat) {\n    createOrUpdateRepeatSymbols(bar, opt, symbolMeta);\n  } else {\n    createOrUpdateSingleSymbol(bar, opt, symbolMeta);\n  }\n\n  createOrUpdateBarRect(bar, symbolMeta, isUpdate);\n  createOrUpdateClip(bar, opt, symbolMeta, isUpdate);\n  bar.__pictorialShapeStr = getShapeStr(data, symbolMeta);\n  bar.__pictorialSymbolMeta = symbolMeta;\n  return bar;\n}\n\nfunction updateBar(bar, opt, symbolMeta) {\n  var animationModel = symbolMeta.animationModel;\n  var dataIndex = symbolMeta.dataIndex;\n  var bundle = bar.__pictorialBundle;\n  graphic.updateProps(bundle, {\n    position: symbolMeta.bundlePosition.slice()\n  }, animationModel, dataIndex);\n\n  if (symbolMeta.symbolRepeat) {\n    createOrUpdateRepeatSymbols(bar, opt, symbolMeta, true);\n  } else {\n    createOrUpdateSingleSymbol(bar, opt, symbolMeta, true);\n  }\n\n  createOrUpdateBarRect(bar, symbolMeta, true);\n  createOrUpdateClip(bar, opt, symbolMeta, true);\n}\n\nfunction removeBar(data, dataIndex, animationModel, bar) {\n  // Not show text when animating\n  var labelRect = bar.__pictorialBarRect;\n  labelRect && (labelRect.style.text = null);\n  var pathes = [];\n  eachPath(bar, function (path) {\n    pathes.push(path);\n  });\n  bar.__pictorialMainPath && pathes.push(bar.__pictorialMainPath); // I do not find proper remove animation for clip yet.\n\n  bar.__pictorialClipPath && (animationModel = null);\n  zrUtil.each(pathes, function (path) {\n    graphic.updateProps(path, {\n      scale: [0, 0]\n    }, animationModel, dataIndex, function () {\n      bar.parent && bar.parent.remove(bar);\n    });\n  });\n  data.setItemGraphicEl(dataIndex, null);\n}\n\nfunction getShapeStr(data, symbolMeta) {\n  return [data.getItemVisual(symbolMeta.dataIndex, 'symbol') || 'none', !!symbolMeta.symbolRepeat, !!symbolMeta.symbolClip].join(':');\n}\n\nfunction eachPath(bar, cb, context) {\n  // Do not use Group#eachChild, because it do not support remove.\n  zrUtil.each(bar.__pictorialBundle.children(), function (el) {\n    el !== bar.__pictorialBarRect && cb.call(context, el);\n  });\n}\n\nfunction updateAttr(el, immediateAttrs, animationAttrs, symbolMeta, isUpdate, cb) {\n  immediateAttrs && el.attr(immediateAttrs); // when symbolCip used, only clip path has init animation, otherwise it would be weird effect.\n\n  if (symbolMeta.symbolClip && !isUpdate) {\n    animationAttrs && el.attr(animationAttrs);\n  } else {\n    animationAttrs && graphic[isUpdate ? 'updateProps' : 'initProps'](el, animationAttrs, symbolMeta.animationModel, symbolMeta.dataIndex, cb);\n  }\n}\n\nfunction updateCommon(bar, opt, symbolMeta) {\n  var color = symbolMeta.color;\n  var dataIndex = symbolMeta.dataIndex;\n  var itemModel = symbolMeta.itemModel; // Color must be excluded.\n  // Because symbol provide setColor individually to set fill and stroke\n\n  var normalStyle = itemModel.getModel('itemStyle').getItemStyle(['color']);\n  var hoverStyle = itemModel.getModel('emphasis.itemStyle').getItemStyle();\n  var cursorStyle = itemModel.getShallow('cursor');\n  eachPath(bar, function (path) {\n    // PENDING setColor should be before setStyle!!!\n    path.setColor(color);\n    path.setStyle(zrUtil.defaults({\n      fill: color,\n      opacity: symbolMeta.opacity\n    }, normalStyle));\n    graphic.setHoverStyle(path, hoverStyle);\n    cursorStyle && (path.cursor = cursorStyle);\n    path.z2 = symbolMeta.z2;\n  });\n  var barRectHoverStyle = {};\n  var barPositionOutside = opt.valueDim.posDesc[+(symbolMeta.boundingLength > 0)];\n  var barRect = bar.__pictorialBarRect;\n  setLabel(barRect.style, barRectHoverStyle, itemModel, color, opt.seriesModel, dataIndex, barPositionOutside);\n  graphic.setHoverStyle(barRect, barRectHoverStyle);\n}\n\nfunction toIntTimes(times) {\n  var roundedTimes = Math.round(times); // Escapse accurate error\n\n  return Math.abs(times - roundedTimes) < 1e-4 ? roundedTimes : Math.ceil(times);\n}\n\nvar _default = BarView;\nmodule.exports = _default;","// This icon file is generated automatically.\nvar CloudDownloadOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M624 706.3h-74.1V464c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v242.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.7a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z\" } }] }, \"name\": \"cloud-download\", \"theme\": \"outlined\" };\nexport default CloudDownloadOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport CloudDownloadOutlinedSvg from \"@ant-design/icons-svg/es/asn/CloudDownloadOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar CloudDownloadOutlined = function CloudDownloadOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: CloudDownloadOutlinedSvg\n  }));\n};\n\nCloudDownloadOutlined.displayName = 'CloudDownloadOutlined';\nexport default /*#__PURE__*/React.forwardRef(CloudDownloadOutlined);","import React, { useEffect, useState } from 'react'\nimport { Layout, Row, Col, Divider } from 'antd'\nimport {\n    WechatOutlined,\n    QqOutlined,\n    DingdingOutlined,\n    WeiboCircleOutlined,\n    FullscreenOutlined\n} from '@ant-design/icons'\nimport screenfull from 'screenfull'\nimport '@/style/view-style/index.less'\nimport BarEcharts from './bar.jsx'\nimport PieEcharts from './pie.jsx'\nimport LineEcharts from './line.jsx'\nimport ScatterEcharts from './scatter.jsx'\nimport PictorialBarEcharts from './pictorialBar.jsx'\nimport { APIgetSysConfig } from '@/mapi'\nimport { render } from 'react-dom'\n\nconst Mouse = props => {\n    const [state, setState] = useState({\n        x: 0,\n        y: 0\n    })\n\n    const handleMouseMove = event => {\n        console.log('22')\n        setState({\n            x: event.clientX,\n            y: event.clientY\n        })\n    }\n\n    return (\n        <div style={{ height: '100%', backgroundColor: 'red' }} onMouseMove={handleMouseMove}>\n            {' '}\n            {props.render(state)}{' '}\n        </div>\n    )\n}\n\nconst Index = () => {\n    const fullToggle = () => {\n        if (screenfull.isEnabled) {\n            screenfull.request(document.getElementById('bar'))\n        }\n    }\n\n    const [str, setStr] = useState('')\n\n    const showhtml = htmlString => {\n        var html = { __html: htmlString }\n        return <div dangerouslySetInnerHTML={html} />\n    }\n\n    const getHomeConfig = () => {\n        APIgetSysConfig({\n            limit: 10,\n            offset: 0\n        })\n            .then(res => {\n                let config = res.data.filter(item => {\n                    return item.key === 'system_title'\n                })\n                setStr(config[0].value)\n            })\n            .catch(err => {\n                console.log('err', err)\n            })\n    }\n\n    useEffect(() => {\n        // getHomeConfig()\n    }, [])\n\n    return (\n        <Layout className='index animated fadeIn'>\n            <Row>\n                {/* <Col span={24}><div className=\"base-style\">{showhtml(str)}</div></Col> */}\n                <Col span={24}>\n                    <p style={{ textAlign: 'center', fontSize: '16px' }}>Welcome to anyStarr </p>\n                    {/* <Mouse render={({x, y}) => (<h1>the mouse position is ({x},{y})</h1>)} /> */}\n                </Col>\n            </Row>\n        </Layout>\n    )\n}\n\nexport default Index\n","import Index from './Index.jsx'\n\nexport default Index\n","import React, { Component, useEffect, useState } from 'react'\nimport WebBreadcrumb from '@/components/WebBreadcrumb'\nimport {\n  Layout,\n  Row,\n  Col,\n  Tag,\n  Table,\n  Button,\n  Modal,\n  Input,\n  Form,\n  DatePicker,\n  Select,\n  message,\n  Upload,\n  Badge, Image\n} from 'antd'\nimport '@/style/view-style/table.less'\nimport {\n    APIexportRewardRecord,\n    APIGetUserList,\n    APIDownloadUser,\n    APIModifyUserStatus,\n    APIbatchUploadUserList,\n    APIDownloadUserNew,\n    APISendActiveEmail\n} from '@/mapi'\nimport { getKeyList } from '@/tools/action.js'\nimport { UploadOutlined, FormOutlined, CloudDownloadOutlined, SearchOutlined } from '@ant-design/icons'\nimport webhost from '@/tools/webhost.js'\nimport Aset from '@/imgs/aset1.png'\nimport { getYearMonthDayTimeNew, getCleanedParams } from '@/tools/help.js'\nimport {APIDeleteByUid, APIGetTikTokUserList} from \"../../mapi\";\nconst { MonthPicker, RangePicker } = DatePicker\nconst { Option } = Select\n\nconst statusList = [\n    { label: 'Active', value: '1' },\n    { label: 'Banned', value: '2' },\n    { label: 'Locked', value: '5' }\n]\n\nconst StatusOptions = statusList.map((option, index) => {\n    return (\n        <Option key={index} value={option.value}>\n            {option.label}\n        </Option>\n    )\n})\n\nconst getLocalTime = nS => {\n    return new Date(Date.parse(nS)).toLocaleString().replace(/:\\d{1,2}$/, ' ')\n}\n\nconst columns = (deleteById) => [\n    {\n        title: 'Avatar',\n        dataIndex: 'avatarUrl',\n        key: 'avatarUrl',\n        align: 'center',\n        render: (avatarUrl, item) => avatarUrl ? <Image style={{\n          width:\"60px\",\n          height:\"60px\"\n        }} src={avatarUrl}></Image> : null\n    },\n    {\n        title: 'Nick Name',\n        dataIndex: 'displayName',\n        key: 'displayName',\n        align: 'center'\n    },\n    {\n        title: 'Profile DeepLink',\n        dataIndex: 'profileDeepLink',\n        key: 'profileDeepLink',\n        align: 'center',\n        render:(v, item)=>{\n          return v ? <a href={v} target={\"_blank\"}>Profile</a> : null\n        }\n    },\n    {\n        title: 'Registered Time',\n        dataIndex: 'createTime',\n        key: 'createTime',\n        align: 'center',\n    },\n    {\n        title: 'Followers',\n        dataIndex: 'followerCount',\n        key: 'followerCount',\n        align: 'center'\n        // render: (text, item) => <span>{getLocalTime(item.create_time)}</span>\n    },\n    {\n        title: 'Action',\n        dataIndex: 'id',\n        key: 'id',\n        align: 'center',\n        render:(v, item)=>{\n          return <Button onClick={()=>deleteById(v)}>Delete</Button>\n        }\n    }\n]\n\nconst searchLayout = {\n    labelCol: {\n        span: 8\n    },\n    wrapperCol: {\n        span: 16\n    }\n}\n\nconst SearchBar = props => {\n    const [form] = Form.useForm()\n\n    const onFinish = values => {\n        props.changeSearch(values)\n    }\n\n    return (\n        <Form\n            {...searchLayout}\n            form={form}\n            name='advanced_search'\n            className='ant-advanced-search-form'\n            onFinish={onFinish}>\n            <Row gutter={24}>\n                <Col span={8}>\n                    <Form.Item name='searchName' label='Nick Name'>\n                        <Input />\n                    </Form.Item>\n                </Col>\n            </Row>\n            <Row>\n                <Col span={24} style={{ textAlign: 'right' }}>\n                    <Button icon={<SearchOutlined />} type='primary' htmlType='submit' loading={props.loading}>\n                        Search\n                    </Button>\n                    <Button\n                        style={{ margin: '0 8px' }}\n                        onClick={() => {\n                            form.resetFields()\n                        }}>\n                        Reset\n                    </Button>\n                </Col>\n            </Row>\n        </Form>\n    )\n}\n\nconst DetailModal = ({ visible, onCreate, onCancel }) => {\n    const [form] = Form.useForm()\n\n    const [user, setUser] = useState({})\n    const [allMemVisible, setAllMemVisible] = useState(false)\n\n    const layout = {\n        labelCol: { span: 6 },\n        wrapperCol: { span: 14 }\n    }\n    const rangeConfig = {\n        rules: [\n            {\n                type: 'array',\n                message: 'Please select time!'\n            }\n        ]\n    }\n\n    useEffect(() => {}, [])\n\n    return (\n        <Modal\n            visible={visible}\n            title=''\n            okText='Submit'\n            cancelText='Cancel'\n            onCancel={onCancel}\n            onOk={() => {\n                form.validateFields()\n                    .then(values => {\n                        form.resetFields()\n                        onCreate(values)\n                    })\n                    .catch(info => {\n                        console.log('Validate Failed:', info)\n                    })\n            }}>\n            <Form {...layout} form={form} name='form_in_modal'>\n                <Form.Item name='status' label='status' rules={[{ required: true }]}>\n                    <Select>{StatusOptions}</Select>\n                </Form.Item>\n            </Form>\n        </Modal>\n    )\n}\n\nconst SearchTableView = props => {\n    const [dataSource, setDataSource] = useState([]);\n    const [state, setState] = useState({\n        list: [],\n        search: {},\n        loading: true,\n        visible: false,\n        disabled: false,\n        formData: {},\n        startRow: 0,\n        userId: '',\n        downloadUserUrl: ''\n    })\n    const [loading, setLoading] = useState(false);\n\n    const [pageI, setPageI] = useState( {\n      current: 1,\n      pageSize: 20,\n      total:0,\n    })\n\n    useEffect(() => {\n      getList(1, 20);\n    }, [])\n\n    const getList = (page, pageSize, searchName) => {\n      setLoading(true);\n      APIGetTikTokUserList(JSON.stringify({\n        page,\n        pageSize,\n        searchName\n      })).then(resp=>{\n        console.log(resp.data.result, \"USER DATA\")\n        if(resp.data.result){\n          setDataSource(resp.data.result.records)\n          setPageI({\n            page:resp.data.result.current,\n            pageSize: 20,\n            total:resp.data.result.total\n          })\n        }\n      }).finally(()=>{\n        setLoading(false)\n      })\n    }\n\n    const deleteById = (uid) =>{\n      setLoading(true);\n      APIDeleteByUid({\n        uid:uid,\n      }).then(resp=>{\n        if(resp.data.result){\n          message.success(\"Delete success!\")\n        }\n      }).finally(()=>{\n        setLoading(false);\n        getList(pageI.current, pageI.pageSize, state.search.searchName)\n      })\n    }\n\n    const handleChange = pagination => {\n      console.log(pagination, \"currentcurrentcurrent\")\n        getList(pagination.current, pagination.pageSize, state.search.searchName)\n    }\n\n    const changeSearch = search => {\n        setState({\n            ...state,\n            ...search\n        })\n        getList(1, state.pagination.pageSize, search.searchName)\n    }\n\n    return (\n        <Layout className='animated fadeIn'>\n            <div className='web-bread-c'>\n                <WebBreadcrumb arr={['User List']} />\n                <h3>User List</h3>\n                <img src={Aset} className='aset' />\n            </div>\n            <div className='base-wr'>\n                <div className='base-style'>\n                    <SearchBar changeSearch={changeSearch} loading={state.loading} />\n                </div>\n                <Row>\n                    <Col span={24}>\n                        <div className='base-style'>\n                            <Table\n                                columns={columns(deleteById)}\n                                rowKey={record => record.key}\n                                dataSource={dataSource}\n                                onChange={handleChange}\n                                bordered\n                                loading={state.loading}\n                                pagination={state.pagination}\n                                scroll={{ scrollToFirstRowOnChange: true, x: 1000 }}\n                            />\n                        </div>\n                    </Col>\n                </Row>\n            </div>\n        </Layout>\n    )\n}\n\nexport default SearchTableView\n","import TiktokUser from './TiktokUser.jsx'\n\nexport default TiktokUser\n","import React, { Component, useEffect, useState } from 'react'\nimport WebBreadcrumb from '@/components/WebBreadcrumb'\nimport {\n    Layout,\n    Row,\n    Col,\n    Tag,\n    Table,\n    Button,\n    Modal,\n    Input,\n    Form,\n    DatePicker,\n    Select,\n    message,\n    Upload,\n    Badge\n} from 'antd'\nimport '@/style/view-style/table.less'\nimport {\n    APIexportRewardRecord,\n    APIGetUserList,\n    APIDownloadUser,\n    APIModifyUserStatus,\n    APIbatchUploadUserList,\n    APIDownloadUserNew,\n    APISendActiveEmail\n} from '@/mapi'\nimport { getKeyList } from '@/tools/action.js'\nimport { UploadOutlined, FormOutlined, CloudDownloadOutlined, SearchOutlined } from '@ant-design/icons'\nimport webhost from '@/tools/webhost.js'\nimport Aset from '@/imgs/aset1.png'\nimport { getYearMonthDayTimeNew, getCleanedParams } from '@/tools/help.js'\nconst { MonthPicker, RangePicker } = DatePicker\nconst { Option } = Select\n\nconst statusList = [\n    { label: 'Active', value: '1' },\n    { label: 'Banned', value: '2' },\n    { label: 'Locked', value: '5' }\n]\n\nconst StatusOptions = statusList.map((option, index) => {\n    return (\n        <Option key={index} value={option.value}>\n            {option.label}\n        </Option>\n    )\n})\n\nconst getLocalTime = nS => {\n    return new Date(Date.parse(nS)).toLocaleString().replace(/:\\d{1,2}$/, ' ')\n}\n\nconst columns = (edit, changeStatus, sendEmail, emailLoading) => [\n    {\n        title: 'Nick Name',\n        dataIndex: 'sendEmail',\n        key: 'sendEmail',\n        align: 'center'\n    },\n    {\n        title: 'Event Name',\n        dataIndex: 'email',\n        key: 'email',\n        align: 'center'\n    },\n    {\n        title: 'Target object',\n        dataIndex: 'invitation_code',\n        key: 'invitation_code',\n        align: 'center'\n    },\n    {\n        title: 'Create time',\n        dataIndex: 'create_time',\n        key: 'create_time',\n        align: 'center'\n        // render: (text, item) => <span>{getLocalTime(item.create_time)}</span>\n    }\n]\n\nconst searchLayout = {\n    labelCol: {\n        span: 8\n    },\n    wrapperCol: {\n        span: 16\n    }\n}\n\nconst SearchBar = props => {\n    const [form] = Form.useForm()\n\n    const onFinish = values => {\n        props.changeSearch(values)\n    }\n\n    return (\n        <Form\n            {...searchLayout}\n            form={form}\n            name='advanced_search'\n            className='ant-advanced-search-form'\n            onFinish={onFinish}>\n            <Row gutter={24}>\n                <Col span={8}>\n                    <Form.Item name='email' label='Email'>\n                        <Input />\n                    </Form.Item>\n                </Col>\n                <Col span={8}>\n                    <Form.Item name='id' label='User ID'>\n                        <Input />\n                    </Form.Item>\n                </Col>\n            </Row>\n            <Row>\n                <Col span={24} style={{ textAlign: 'right' }}>\n                    <Button icon={<SearchOutlined />} type='primary' htmlType='submit' loading={props.loading}>\n                        Search\n                    </Button>\n                    <Button\n                        style={{ margin: '0 8px' }}\n                        onClick={() => {\n                            form.resetFields()\n                        }}>\n                        Reset\n                    </Button>\n                </Col>\n            </Row>\n        </Form>\n    )\n}\n\nconst DetailModal = ({ visible, onCreate, onCancel }) => {\n    const [form] = Form.useForm()\n\n    const [user, setUser] = useState({})\n    const [allMemVisible, setAllMemVisible] = useState(false)\n\n    const layout = {\n        labelCol: { span: 6 },\n        wrapperCol: { span: 14 }\n    }\n    const rangeConfig = {\n        rules: [\n            {\n                type: 'array',\n                message: 'Please select time!'\n            }\n        ]\n    }\n\n    useEffect(() => {}, [])\n\n    return (\n        <Modal\n            visible={visible}\n            title=''\n            okText='Submit'\n            cancelText='Cancel'\n            onCancel={onCancel}\n            onOk={() => {\n                form.validateFields()\n                    .then(values => {\n                        form.resetFields()\n                        onCreate(values)\n                    })\n                    .catch(info => {\n                        console.log('Validate Failed:', info)\n                    })\n            }}>\n            <Form {...layout} form={form} name='form_in_modal'>\n                <Form.Item name='status' label='status' rules={[{ required: true }]}>\n                    <Select>{StatusOptions}</Select>\n                </Form.Item>\n            </Form>\n        </Modal>\n    )\n}\n\nconst SearchTableView = props => {\n    const [state, setState] = useState({\n        list: [],\n        pagination: {\n            current: 1,\n            pageSize: 10\n        },\n        search: {},\n        loading: true,\n        visible: false,\n        disabled: false,\n        formData: {},\n        startRow: 0,\n        userId: '',\n        downloadUserUrl: ''\n    })\n    const [handleState, setHandleState] = useState({\n        visible: false,\n        data: {}\n    })\n\n    const [emailLoading, setEmailLoading] = useState({\n        loading: false,\n        id: -1\n    })\n\n    useEffect(() => {}, [])\n\n    const getList = params => {\n        const { pagination, search } = state\n        console.log('paramslist', params)\n        let apiHref = APIDownloadUserNew()\n        let json = JSON.stringify({ ...state.search })\n        let resHref = `${apiHref}?userJson=${json}`\n        setState({\n            ...state,\n            loading: true\n        })\n        APIGetUserList({ userJson: JSON.stringify(getCleanedParams(params)) })\n            .then(resp => {\n                setState({\n                    ...state,\n                    list: resp.data.list && getKeyList(resp.data.list),\n                    loading: false,\n                    startRow: resp.data.pager.start_row,\n                    visible: false,\n                    pagination: {\n                        // ...state.pagination,\n                        total: resp.data.pager.total\n                    },\n                    downloadUserUrl: encodeURI(resHref)\n                })\n            })\n            .catch(err => {\n                console.log('err', err)\n            })\n    }\n\n    const handleChange = pagination => {\n        const params = {\n            ...state.search,\n            page_size: pagination.pageSize,\n            start_row: pagination.pageSize * (pagination.current - 1)\n        }\n        getList(params)\n    }\n\n    const changeSearch = search => {\n        const params = { ...search, page_size: state.pagination.pageSize, start_row: 0 }\n        setState({\n            ...state,\n            ...search\n        })\n        getList(params)\n    }\n\n    const exportRecord = () => {\n        APIexportRewardRecord()\n            .then(xhr => {\n                return\n            })\n            .catch((err, status, xhr) => {})\n    }\n\n    const edit = data => {\n        // console.log('data', data)\n        // props.history.push({\n        //     pathname: '/userDetail',\n        //     query: { ...data }\n        // })\n        // sessionStorage.setItem('query', JSON.stringify(data))\n\n        var url = webhost + '/userDetail/' + data.id\n        var win = window.open(url, '_blank')\n        win.focus()\n    }\n\n    const changeStatus = data => {\n        console.log('changeStatus', data)\n        setState({\n            ...state,\n            visible: true,\n            userId: data.id\n        })\n    }\n\n    const sendEmail = id => {\n        console.log('id', id)\n        console.log('state', state)\n        setEmailLoading({\n            loading: true,\n            id\n        })\n        APISendActiveEmail({ id }).then(resp => {\n            message.success('success')\n            const params = { page_size: 10, start_row: state.startRow }\n            getList(params)\n            setEmailLoading({\n                ...emailLoading,\n                loading: false\n            })\n        })\n    }\n\n    const downloadUser = () => {\n        const params = {\n            start_row: state.startRow,\n            page_size: state.pagination.pageSize || 10,\n            ...state.search\n        }\n        console.log('paams', params)\n        APIDownloadUser({ userJson: JSON.stringify(params), type: 'export' }).then(resp => {})\n    }\n\n    const onCreate = data => {\n        console.log('data', data)\n        let userId = state.userId\n        APIModifyUserStatus({\n            userJson: JSON.stringify({\n                id: userId,\n                status: data.status\n            })\n        })\n            .then(resp => {\n                const params = { page_size: 10, start_row: 0, status: data.prevStatus }\n                getList(params)\n            })\n            .catch(err => {\n                console.log('err', err)\n            })\n        // APIModifyPaymentStatus({paymentJson: JSON.stringify(data)})\n        //     .then(resp => {\n        //         const params = { page_size: 10, start_row: 0, status: data.prevStatus }\n        //         getList(params)\n        //     })\n        //     .catch(err => {\n        //         console.log('err', err)\n        //     })\n    }\n\n    const createAccount = () => {\n        props.history.push('/add_user')\n    }\n\n    const batchUploadUserList = ({ file, onSuccess }) => {\n        let confirmModal = window.confirm('Please confirm info is correct')\n        if (confirmModal) {\n            APIbatchUploadUserList({ file: file }).then(resp => {\n                message.success('success')\n                const params = { start_row: 0, page_size: state.pagination.pageSize }\n                getList(params)\n            })\n        }\n    }\n\n    const rowSelection = () => {}\n\n    return (\n        <Layout className='animated fadeIn'>\n            <DetailModal\n                visible={state.visible}\n                onCreate={onCreate}\n                onCancel={() => {\n                    setState({ ...state, visible: false })\n                }}\n            />\n            <div className='web-bread-c'>\n                <WebBreadcrumb arr={['User List']} />\n                <h3>User List</h3>\n                <img src={Aset} className='aset' />\n            </div>\n            <div className='base-wr'>\n                <div className='base-style'>\n                    <SearchBar changeSearch={changeSearch} loading={state.loading} />\n                </div>\n                <Row>\n                    <Col span={24}>\n                        <div className='base-style'>\n                            <Row>\n                                <Col span={24} style={{ textAlign: 'right', marginBottom: '15px' }}>\n                                    <a\n                                        style={{\n                                            backgroundColor: '#1890ff',\n                                            color: '#fff',\n                                            padding: '8px 15px',\n                                            marginLeft: '10px'\n                                        }}\n                                        href={state.downloadUserUrl}\n                                        type='download'>\n                                        <CloudDownloadOutlined />\n                                        <span style={{ marginLeft: '5px' }}>Download User</span>\n                                    </a>\n\n                                    <Button type='primary' onClick={createAccount} style={{ marginLeft: '10px' }}>\n                                        + Create Account\n                                    </Button>\n                                    <Upload customRequest={batchUploadUserList}>\n                                        <Button style={{ marginLeft: '10px' }} icon={<UploadOutlined />}>\n                                            Click to Upload File To Create\n                                        </Button>\n                                    </Upload>\n                                </Col>\n                            </Row>\n                            <Table\n                                columns={columns(edit, changeStatus, sendEmail, emailLoading)}\n                                rowKey={record => record.key}\n                                dataSource={state.list}\n                                onChange={handleChange}\n                                rowSelection={{\n                                    type: 'checkbox',\n                                    ...rowSelection\n                                }}\n                                bordered\n                                loading={state.loading}\n                                pagination={state.pagination}\n                                scroll={{ scrollToFirstRowOnChange: true, x: 1000 }}\n                            />\n                        </div>\n                    </Col>\n                </Row>\n            </div>\n        </Layout>\n    )\n}\n\nexport default SearchTableView\n","import EventList from './TiktokUser.jsx'\n\nexport default EventList\n","// This icon file is generated automatically.\nvar UploadOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z\" } }] }, \"name\": \"upload\", \"theme\": \"outlined\" };\nexport default UploadOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport UploadOutlinedSvg from \"@ant-design/icons-svg/es/asn/UploadOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar UploadOutlined = function UploadOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: UploadOutlinedSvg\n  }));\n};\n\nUploadOutlined.displayName = 'UploadOutlined';\nexport default /*#__PURE__*/React.forwardRef(UploadOutlined);","// This icon file is generated automatically.\nvar SearchOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z\" } }] }, \"name\": \"search\", \"theme\": \"outlined\" };\nexport default SearchOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport SearchOutlinedSvg from \"@ant-design/icons-svg/es/asn/SearchOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar SearchOutlined = function SearchOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: SearchOutlinedSvg\n  }));\n};\n\nSearchOutlined.displayName = 'SearchOutlined';\nexport default /*#__PURE__*/React.forwardRef(SearchOutlined);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar isFunction = _util.isFunction;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(seriesType, defaultSymbolType, legendSymbol) {\n  // Encoding visual for all series include which is filtered for legend drawing\n  return {\n    seriesType: seriesType,\n    // For legend.\n    performRawSeries: true,\n    reset: function (seriesModel, ecModel, api) {\n      var data = seriesModel.getData();\n      var symbolType = seriesModel.get('symbol');\n      var symbolSize = seriesModel.get('symbolSize');\n      var keepAspect = seriesModel.get('symbolKeepAspect');\n      var symbolRotate = seriesModel.get('symbolRotate');\n      var hasSymbolTypeCallback = isFunction(symbolType);\n      var hasSymbolSizeCallback = isFunction(symbolSize);\n      var hasSymbolRotateCallback = isFunction(symbolRotate);\n      var hasCallback = hasSymbolTypeCallback || hasSymbolSizeCallback || hasSymbolRotateCallback;\n      var seriesSymbol = !hasSymbolTypeCallback && symbolType ? symbolType : defaultSymbolType;\n      var seriesSymbolSize = !hasSymbolSizeCallback ? symbolSize : null;\n      var seriesSymbolRotate = !hasSymbolRotateCallback ? seriesSymbolRotate : null;\n      data.setVisual({\n        legendSymbol: legendSymbol || seriesSymbol,\n        // If seting callback functions on `symbol` or `symbolSize`, for simplicity and avoiding\n        // to bring trouble, we do not pick a reuslt from one of its calling on data item here,\n        // but just use the default value. Callback on `symbol` or `symbolSize` is convenient in\n        // some cases but generally it is not recommanded.\n        symbol: seriesSymbol,\n        symbolSize: seriesSymbolSize,\n        symbolKeepAspect: keepAspect,\n        symbolRotate: symbolRotate\n      }); // Only visible series has each data be visual encoded\n\n      if (ecModel.isSeriesFiltered(seriesModel)) {\n        return;\n      }\n\n      function dataEach(data, idx) {\n        if (hasCallback) {\n          var rawValue = seriesModel.getRawValue(idx);\n          var params = seriesModel.getDataParams(idx);\n          hasSymbolTypeCallback && data.setItemVisual(idx, 'symbol', symbolType(rawValue, params));\n          hasSymbolSizeCallback && data.setItemVisual(idx, 'symbolSize', symbolSize(rawValue, params));\n          hasSymbolRotateCallback && data.setItemVisual(idx, 'symbolRotate', symbolRotate(rawValue, params));\n        }\n\n        if (data.hasItemOption) {\n          var itemModel = data.getItemModel(idx);\n          var itemSymbolType = itemModel.getShallow('symbol', true);\n          var itemSymbolSize = itemModel.getShallow('symbolSize', true);\n          var itemSymbolRotate = itemModel.getShallow('symbolRotate', true);\n          var itemSymbolKeepAspect = itemModel.getShallow('symbolKeepAspect', true); // If has item symbol\n\n          if (itemSymbolType != null) {\n            data.setItemVisual(idx, 'symbol', itemSymbolType);\n          }\n\n          if (itemSymbolSize != null) {\n            // PENDING Transform symbolSize ?\n            data.setItemVisual(idx, 'symbolSize', itemSymbolSize);\n          }\n\n          if (itemSymbolRotate != null) {\n            data.setItemVisual(idx, 'symbolRotate', itemSymbolRotate);\n          }\n\n          if (itemSymbolKeepAspect != null) {\n            data.setItemVisual(idx, 'symbolKeepAspect', itemSymbolKeepAspect);\n          }\n        }\n      }\n\n      return {\n        dataEach: data.hasItemOption || hasCallback ? dataEach : null\n      };\n    }\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar map = _util.map;\n\nvar createRenderPlanner = require(\"../chart/helper/createRenderPlanner\");\n\nvar _dataStackHelper = require(\"../data/helper/dataStackHelper\");\n\nvar isDimensionStacked = _dataStackHelper.isDimensionStacked;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/* global Float32Array */\nfunction _default(seriesType) {\n  return {\n    seriesType: seriesType,\n    plan: createRenderPlanner(),\n    reset: function (seriesModel) {\n      var data = seriesModel.getData();\n      var coordSys = seriesModel.coordinateSystem;\n      var pipelineContext = seriesModel.pipelineContext;\n      var isLargeRender = pipelineContext.large;\n\n      if (!coordSys) {\n        return;\n      }\n\n      var dims = map(coordSys.dimensions, function (dim) {\n        return data.mapDimension(dim);\n      }).slice(0, 2);\n      var dimLen = dims.length;\n      var stackResultDim = data.getCalculationInfo('stackResultDimension');\n\n      if (isDimensionStacked(data, dims[0]\n      /*, dims[1]*/\n      )) {\n        dims[0] = stackResultDim;\n      }\n\n      if (isDimensionStacked(data, dims[1]\n      /*, dims[0]*/\n      )) {\n        dims[1] = stackResultDim;\n      }\n\n      function progress(params, data) {\n        var segCount = params.end - params.start;\n        var points = isLargeRender && new Float32Array(segCount * dimLen);\n\n        for (var i = params.start, offset = 0, tmpIn = [], tmpOut = []; i < params.end; i++) {\n          var point;\n\n          if (dimLen === 1) {\n            var x = data.get(dims[0], i);\n            point = !isNaN(x) && coordSys.dataToPoint(x, null, tmpOut);\n          } else {\n            var x = tmpIn[0] = data.get(dims[0], i);\n            var y = tmpIn[1] = data.get(dims[1], i); // Also {Array.<number>}, not undefined to avoid if...else... statement\n\n            point = !isNaN(x) && !isNaN(y) && coordSys.dataToPoint(tmpIn, null, tmpOut);\n          }\n\n          if (isLargeRender) {\n            points[offset++] = point ? point[0] : NaN;\n            points[offset++] = point ? point[1] : NaN;\n          } else {\n            data.setItemLayout(i, point && point.slice() || [NaN, NaN]);\n          }\n        }\n\n        isLargeRender && data.setLayout('symbolPoints', points);\n      }\n\n      return dimLen && {\n        progress: progress\n      };\n    }\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar graphic = require(\"../../util/graphic\");\n\nvar SymbolClz = require(\"./Symbol\");\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar isObject = _util.isObject;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @module echarts/chart/helper/SymbolDraw\n */\n\n/**\n * @constructor\n * @alias module:echarts/chart/helper/SymbolDraw\n * @param {module:zrender/graphic/Group} [symbolCtor]\n */\nfunction SymbolDraw(symbolCtor) {\n  this.group = new graphic.Group();\n  this._symbolCtor = symbolCtor || SymbolClz;\n}\n\nvar symbolDrawProto = SymbolDraw.prototype;\n\nfunction symbolNeedsDraw(data, point, idx, opt) {\n  return point && !isNaN(point[0]) && !isNaN(point[1]) && !(opt.isIgnore && opt.isIgnore(idx)) // We do not set clipShape on group, because it will cut part of\n  // the symbol element shape. We use the same clip shape here as\n  // the line clip.\n  && !(opt.clipShape && !opt.clipShape.contain(point[0], point[1])) && data.getItemVisual(idx, 'symbol') !== 'none';\n}\n/**\n * Update symbols draw by new data\n * @param {module:echarts/data/List} data\n * @param {Object} [opt] Or isIgnore\n * @param {Function} [opt.isIgnore]\n * @param {Object} [opt.clipShape]\n */\n\n\nsymbolDrawProto.updateData = function (data, opt) {\n  opt = normalizeUpdateOpt(opt);\n  var group = this.group;\n  var seriesModel = data.hostModel;\n  var oldData = this._data;\n  var SymbolCtor = this._symbolCtor;\n  var seriesScope = makeSeriesScope(data); // There is no oldLineData only when first rendering or switching from\n  // stream mode to normal mode, where previous elements should be removed.\n\n  if (!oldData) {\n    group.removeAll();\n  }\n\n  data.diff(oldData).add(function (newIdx) {\n    var point = data.getItemLayout(newIdx);\n\n    if (symbolNeedsDraw(data, point, newIdx, opt)) {\n      var symbolEl = new SymbolCtor(data, newIdx, seriesScope);\n      symbolEl.attr('position', point);\n      data.setItemGraphicEl(newIdx, symbolEl);\n      group.add(symbolEl);\n    }\n  }).update(function (newIdx, oldIdx) {\n    var symbolEl = oldData.getItemGraphicEl(oldIdx);\n    var point = data.getItemLayout(newIdx);\n\n    if (!symbolNeedsDraw(data, point, newIdx, opt)) {\n      group.remove(symbolEl);\n      return;\n    }\n\n    if (!symbolEl) {\n      symbolEl = new SymbolCtor(data, newIdx);\n      symbolEl.attr('position', point);\n    } else {\n      symbolEl.updateData(data, newIdx, seriesScope);\n      graphic.updateProps(symbolEl, {\n        position: point\n      }, seriesModel);\n    } // Add back\n\n\n    group.add(symbolEl);\n    data.setItemGraphicEl(newIdx, symbolEl);\n  }).remove(function (oldIdx) {\n    var el = oldData.getItemGraphicEl(oldIdx);\n    el && el.fadeOut(function () {\n      group.remove(el);\n    });\n  }).execute();\n  this._data = data;\n};\n\nsymbolDrawProto.isPersistent = function () {\n  return true;\n};\n\nsymbolDrawProto.updateLayout = function () {\n  var data = this._data;\n\n  if (data) {\n    // Not use animation\n    data.eachItemGraphicEl(function (el, idx) {\n      var point = data.getItemLayout(idx);\n      el.attr('position', point);\n    });\n  }\n};\n\nsymbolDrawProto.incrementalPrepareUpdate = function (data) {\n  this._seriesScope = makeSeriesScope(data);\n  this._data = null;\n  this.group.removeAll();\n};\n/**\n * Update symbols draw by new data\n * @param {module:echarts/data/List} data\n * @param {Object} [opt] Or isIgnore\n * @param {Function} [opt.isIgnore]\n * @param {Object} [opt.clipShape]\n */\n\n\nsymbolDrawProto.incrementalUpdate = function (taskParams, data, opt) {\n  opt = normalizeUpdateOpt(opt);\n\n  function updateIncrementalAndHover(el) {\n    if (!el.isGroup) {\n      el.incremental = el.useHoverLayer = true;\n    }\n  }\n\n  for (var idx = taskParams.start; idx < taskParams.end; idx++) {\n    var point = data.getItemLayout(idx);\n\n    if (symbolNeedsDraw(data, point, idx, opt)) {\n      var el = new this._symbolCtor(data, idx, this._seriesScope);\n      el.traverse(updateIncrementalAndHover);\n      el.attr('position', point);\n      this.group.add(el);\n      data.setItemGraphicEl(idx, el);\n    }\n  }\n};\n\nfunction normalizeUpdateOpt(opt) {\n  if (opt != null && !isObject(opt)) {\n    opt = {\n      isIgnore: opt\n    };\n  }\n\n  return opt || {};\n}\n\nsymbolDrawProto.remove = function (enableAnimation) {\n  var group = this.group;\n  var data = this._data; // Incremental model do not have this._data.\n\n  if (data && enableAnimation) {\n    data.eachItemGraphicEl(function (el) {\n      el.fadeOut(function () {\n        group.remove(el);\n      });\n    });\n  } else {\n    group.removeAll();\n  }\n};\n\nfunction makeSeriesScope(data) {\n  var seriesModel = data.hostModel;\n  return {\n    itemStyle: seriesModel.getModel('itemStyle').getItemStyle(['color']),\n    hoverItemStyle: seriesModel.getModel('emphasis.itemStyle').getItemStyle(),\n    symbolRotate: seriesModel.get('symbolRotate'),\n    symbolOffset: seriesModel.get('symbolOffset'),\n    hoverAnimation: seriesModel.get('hoverAnimation'),\n    labelModel: seriesModel.getModel('label'),\n    hoverLabelModel: seriesModel.getModel('emphasis.label'),\n    cursorStyle: seriesModel.get('cursor')\n  };\n}\n\nvar _default = SymbolDraw;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\n\nvar _labelHelper = require(\"./labelHelper\");\n\nvar getDefaultLabel = _labelHelper.getDefaultLabel;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @module echarts/chart/helper/Symbol\n */\n\n/**\n * @constructor\n * @alias {module:echarts/chart/helper/Symbol}\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @extends {module:zrender/graphic/Group}\n */\nfunction SymbolClz(data, idx, seriesScope) {\n  graphic.Group.call(this);\n  this.updateData(data, idx, seriesScope);\n}\n\nvar symbolProto = SymbolClz.prototype;\n/**\n * @public\n * @static\n * @param {module:echarts/data/List} data\n * @param {number} dataIndex\n * @return {Array.<number>} [width, height]\n */\n\nvar getSymbolSize = SymbolClz.getSymbolSize = function (data, idx) {\n  var symbolSize = data.getItemVisual(idx, 'symbolSize');\n  return symbolSize instanceof Array ? symbolSize.slice() : [+symbolSize, +symbolSize];\n};\n\nfunction getScale(symbolSize) {\n  return [symbolSize[0] / 2, symbolSize[1] / 2];\n}\n\nfunction driftSymbol(dx, dy) {\n  this.parent.drift(dx, dy);\n}\n\nsymbolProto._createSymbol = function (symbolType, data, idx, symbolSize, keepAspect) {\n  // Remove paths created before\n  this.removeAll();\n  var color = data.getItemVisual(idx, 'color'); // var symbolPath = createSymbol(\n  //     symbolType, -0.5, -0.5, 1, 1, color\n  // );\n  // If width/height are set too small (e.g., set to 1) on ios10\n  // and macOS Sierra, a circle stroke become a rect, no matter what\n  // the scale is set. So we set width/height as 2. See #4150.\n\n  var symbolPath = createSymbol(symbolType, -1, -1, 2, 2, color, keepAspect);\n  symbolPath.attr({\n    z2: 100,\n    culling: true,\n    scale: getScale(symbolSize)\n  }); // Rewrite drift method\n\n  symbolPath.drift = driftSymbol;\n  this._symbolType = symbolType;\n  this.add(symbolPath);\n};\n/**\n * Stop animation\n * @param {boolean} toLastFrame\n */\n\n\nsymbolProto.stopSymbolAnimation = function (toLastFrame) {\n  this.childAt(0).stopAnimation(toLastFrame);\n};\n/**\n * FIXME:\n * Caution: This method breaks the encapsulation of this module,\n * but it indeed brings convenience. So do not use the method\n * unless you detailedly know all the implements of `Symbol`,\n * especially animation.\n *\n * Get symbol path element.\n */\n\n\nsymbolProto.getSymbolPath = function () {\n  return this.childAt(0);\n};\n/**\n * Get scale(aka, current symbol size).\n * Including the change caused by animation\n */\n\n\nsymbolProto.getScale = function () {\n  return this.childAt(0).scale;\n};\n/**\n * Highlight symbol\n */\n\n\nsymbolProto.highlight = function () {\n  this.childAt(0).trigger('emphasis');\n};\n/**\n * Downplay symbol\n */\n\n\nsymbolProto.downplay = function () {\n  this.childAt(0).trigger('normal');\n};\n/**\n * @param {number} zlevel\n * @param {number} z\n */\n\n\nsymbolProto.setZ = function (zlevel, z) {\n  var symbolPath = this.childAt(0);\n  symbolPath.zlevel = zlevel;\n  symbolPath.z = z;\n};\n\nsymbolProto.setDraggable = function (draggable) {\n  var symbolPath = this.childAt(0);\n  symbolPath.draggable = draggable;\n  symbolPath.cursor = draggable ? 'move' : symbolPath.cursor;\n};\n/**\n * Update symbol properties\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @param {Object} [seriesScope]\n * @param {Object} [seriesScope.itemStyle]\n * @param {Object} [seriesScope.hoverItemStyle]\n * @param {Object} [seriesScope.symbolRotate]\n * @param {Object} [seriesScope.symbolOffset]\n * @param {module:echarts/model/Model} [seriesScope.labelModel]\n * @param {module:echarts/model/Model} [seriesScope.hoverLabelModel]\n * @param {boolean} [seriesScope.hoverAnimation]\n * @param {Object} [seriesScope.cursorStyle]\n * @param {module:echarts/model/Model} [seriesScope.itemModel]\n * @param {string} [seriesScope.symbolInnerColor]\n * @param {Object} [seriesScope.fadeIn=false]\n */\n\n\nsymbolProto.updateData = function (data, idx, seriesScope) {\n  this.silent = false;\n  var symbolType = data.getItemVisual(idx, 'symbol') || 'circle';\n  var seriesModel = data.hostModel;\n  var symbolSize = getSymbolSize(data, idx);\n  var isInit = symbolType !== this._symbolType;\n\n  if (isInit) {\n    var keepAspect = data.getItemVisual(idx, 'symbolKeepAspect');\n\n    this._createSymbol(symbolType, data, idx, symbolSize, keepAspect);\n  } else {\n    var symbolPath = this.childAt(0);\n    symbolPath.silent = false;\n    graphic.updateProps(symbolPath, {\n      scale: getScale(symbolSize)\n    }, seriesModel, idx);\n  }\n\n  this._updateCommon(data, idx, symbolSize, seriesScope);\n\n  if (isInit) {\n    var symbolPath = this.childAt(0);\n    var fadeIn = seriesScope && seriesScope.fadeIn;\n    var target = {\n      scale: symbolPath.scale.slice()\n    };\n    fadeIn && (target.style = {\n      opacity: symbolPath.style.opacity\n    });\n    symbolPath.scale = [0, 0];\n    fadeIn && (symbolPath.style.opacity = 0);\n    graphic.initProps(symbolPath, target, seriesModel, idx);\n  }\n\n  this._seriesModel = seriesModel;\n}; // Update common properties\n\n\nvar normalStyleAccessPath = ['itemStyle'];\nvar emphasisStyleAccessPath = ['emphasis', 'itemStyle'];\nvar normalLabelAccessPath = ['label'];\nvar emphasisLabelAccessPath = ['emphasis', 'label'];\n/**\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @param {Array.<number>} symbolSize\n * @param {Object} [seriesScope]\n */\n\nsymbolProto._updateCommon = function (data, idx, symbolSize, seriesScope) {\n  var symbolPath = this.childAt(0);\n  var seriesModel = data.hostModel;\n  var color = data.getItemVisual(idx, 'color'); // Reset style\n\n  if (symbolPath.type !== 'image') {\n    symbolPath.useStyle({\n      strokeNoScale: true\n    });\n  } else {\n    symbolPath.setStyle({\n      opacity: 1,\n      shadowBlur: null,\n      shadowOffsetX: null,\n      shadowOffsetY: null,\n      shadowColor: null\n    });\n  }\n\n  var itemStyle = seriesScope && seriesScope.itemStyle;\n  var hoverItemStyle = seriesScope && seriesScope.hoverItemStyle;\n  var symbolOffset = seriesScope && seriesScope.symbolOffset;\n  var labelModel = seriesScope && seriesScope.labelModel;\n  var hoverLabelModel = seriesScope && seriesScope.hoverLabelModel;\n  var hoverAnimation = seriesScope && seriesScope.hoverAnimation;\n  var cursorStyle = seriesScope && seriesScope.cursorStyle;\n\n  if (!seriesScope || data.hasItemOption) {\n    var itemModel = seriesScope && seriesScope.itemModel ? seriesScope.itemModel : data.getItemModel(idx); // Color must be excluded.\n    // Because symbol provide setColor individually to set fill and stroke\n\n    itemStyle = itemModel.getModel(normalStyleAccessPath).getItemStyle(['color']);\n    hoverItemStyle = itemModel.getModel(emphasisStyleAccessPath).getItemStyle();\n    symbolOffset = itemModel.getShallow('symbolOffset');\n    labelModel = itemModel.getModel(normalLabelAccessPath);\n    hoverLabelModel = itemModel.getModel(emphasisLabelAccessPath);\n    hoverAnimation = itemModel.getShallow('hoverAnimation');\n    cursorStyle = itemModel.getShallow('cursor');\n  } else {\n    hoverItemStyle = zrUtil.extend({}, hoverItemStyle);\n  }\n\n  var elStyle = symbolPath.style;\n  var symbolRotate = data.getItemVisual(idx, 'symbolRotate');\n  symbolPath.attr('rotation', (symbolRotate || 0) * Math.PI / 180 || 0);\n\n  if (symbolOffset) {\n    symbolPath.attr('position', [parsePercent(symbolOffset[0], symbolSize[0]), parsePercent(symbolOffset[1], symbolSize[1])]);\n  }\n\n  cursorStyle && symbolPath.attr('cursor', cursorStyle); // PENDING setColor before setStyle!!!\n\n  symbolPath.setColor(color, seriesScope && seriesScope.symbolInnerColor);\n  symbolPath.setStyle(itemStyle);\n  var opacity = data.getItemVisual(idx, 'opacity');\n\n  if (opacity != null) {\n    elStyle.opacity = opacity;\n  }\n\n  var liftZ = data.getItemVisual(idx, 'liftZ');\n  var z2Origin = symbolPath.__z2Origin;\n\n  if (liftZ != null) {\n    if (z2Origin == null) {\n      symbolPath.__z2Origin = symbolPath.z2;\n      symbolPath.z2 += liftZ;\n    }\n  } else if (z2Origin != null) {\n    symbolPath.z2 = z2Origin;\n    symbolPath.__z2Origin = null;\n  }\n\n  var useNameLabel = seriesScope && seriesScope.useNameLabel;\n  graphic.setLabelStyle(elStyle, hoverItemStyle, labelModel, hoverLabelModel, {\n    labelFetcher: seriesModel,\n    labelDataIndex: idx,\n    defaultText: getLabelDefaultText,\n    isRectText: true,\n    autoColor: color\n  }); // Do not execute util needed.\n\n  function getLabelDefaultText(idx, opt) {\n    return useNameLabel ? data.getName(idx) : getDefaultLabel(data, idx);\n  }\n\n  symbolPath.__symbolOriginalScale = getScale(symbolSize);\n  symbolPath.hoverStyle = hoverItemStyle;\n  symbolPath.highDownOnUpdate = hoverAnimation && seriesModel.isAnimationEnabled() ? highDownOnUpdate : null;\n  graphic.setHoverStyle(symbolPath);\n};\n\nfunction highDownOnUpdate(fromState, toState) {\n  // Do not support this hover animation util some scenario required.\n  // Animation can only be supported in hover layer when using `el.incremetal`.\n  if (this.incremental || this.useHoverLayer) {\n    return;\n  }\n\n  if (toState === 'emphasis') {\n    var scale = this.__symbolOriginalScale;\n    var ratio = scale[1] / scale[0];\n    var emphasisOpt = {\n      scale: [Math.max(scale[0] * 1.1, scale[0] + 3), Math.max(scale[1] * 1.1, scale[1] + 3 * ratio)]\n    }; // FIXME\n    // modify it after support stop specified animation.\n    // toState === fromState\n    //     ? (this.stopAnimation(), this.attr(emphasisOpt))\n\n    this.animateTo(emphasisOpt, 400, 'elasticOut');\n  } else if (toState === 'normal') {\n    this.animateTo({\n      scale: this.__symbolOriginalScale\n    }, 400, 'elasticOut');\n  }\n}\n/**\n * @param {Function} cb\n * @param {Object} [opt]\n * @param {Object} [opt.keepLabel=true]\n */\n\n\nsymbolProto.fadeOut = function (cb, opt) {\n  var symbolPath = this.childAt(0); // Avoid mistaken hover when fading out\n\n  this.silent = symbolPath.silent = true; // Not show text when animating\n\n  !(opt && opt.keepLabel) && (symbolPath.style.text = null);\n  graphic.updateProps(symbolPath, {\n    style: {\n      opacity: 0\n    },\n    scale: [0, 0]\n  }, this._seriesModel, this.dataIndex, cb);\n};\n\nzrUtil.inherits(SymbolClz, graphic.Group);\nvar _default = SymbolClz;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _dataStackHelper = require(\"../../data/helper/dataStackHelper\");\n\nvar isDimensionStacked = _dataStackHelper.isDimensionStacked;\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar map = _util.map;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {Object} coordSys\n * @param {module:echarts/data/List} data\n * @param {string} valueOrigin lineSeries.option.areaStyle.origin\n */\nfunction prepareDataCoordInfo(coordSys, data, valueOrigin) {\n  var baseAxis = coordSys.getBaseAxis();\n  var valueAxis = coordSys.getOtherAxis(baseAxis);\n  var valueStart = getValueStart(valueAxis, valueOrigin);\n  var baseAxisDim = baseAxis.dim;\n  var valueAxisDim = valueAxis.dim;\n  var valueDim = data.mapDimension(valueAxisDim);\n  var baseDim = data.mapDimension(baseAxisDim);\n  var baseDataOffset = valueAxisDim === 'x' || valueAxisDim === 'radius' ? 1 : 0;\n  var dims = map(coordSys.dimensions, function (coordDim) {\n    return data.mapDimension(coordDim);\n  });\n  var stacked;\n  var stackResultDim = data.getCalculationInfo('stackResultDimension');\n\n  if (stacked |= isDimensionStacked(data, dims[0]\n  /*, dims[1]*/\n  )) {\n    // jshint ignore:line\n    dims[0] = stackResultDim;\n  }\n\n  if (stacked |= isDimensionStacked(data, dims[1]\n  /*, dims[0]*/\n  )) {\n    // jshint ignore:line\n    dims[1] = stackResultDim;\n  }\n\n  return {\n    dataDimsForPoint: dims,\n    valueStart: valueStart,\n    valueAxisDim: valueAxisDim,\n    baseAxisDim: baseAxisDim,\n    stacked: !!stacked,\n    valueDim: valueDim,\n    baseDim: baseDim,\n    baseDataOffset: baseDataOffset,\n    stackedOverDimension: data.getCalculationInfo('stackedOverDimension')\n  };\n}\n\nfunction getValueStart(valueAxis, valueOrigin) {\n  var valueStart = 0;\n  var extent = valueAxis.scale.getExtent();\n\n  if (valueOrigin === 'start') {\n    valueStart = extent[0];\n  } else if (valueOrigin === 'end') {\n    valueStart = extent[1];\n  } // auto\n  else {\n      // Both positive\n      if (extent[0] > 0) {\n        valueStart = extent[0];\n      } // Both negative\n      else if (extent[1] < 0) {\n          valueStart = extent[1];\n        } // If is one positive, and one negative, onZero shall be true\n\n    }\n\n  return valueStart;\n}\n\nfunction getStackedOnPoint(dataCoordInfo, coordSys, data, idx) {\n  var value = NaN;\n\n  if (dataCoordInfo.stacked) {\n    value = data.get(data.getCalculationInfo('stackedOverDimension'), idx);\n  }\n\n  if (isNaN(value)) {\n    value = dataCoordInfo.valueStart;\n  }\n\n  var baseDataOffset = dataCoordInfo.baseDataOffset;\n  var stackedData = [];\n  stackedData[baseDataOffset] = data.get(dataCoordInfo.baseDim, idx);\n  stackedData[1 - baseDataOffset] = value;\n  return coordSys.dataToPoint(stackedData);\n}\n\nexports.prepareDataCoordInfo = prepareDataCoordInfo;\nexports.getStackedOnPoint = getStackedOnPoint;"],"sourceRoot":""}