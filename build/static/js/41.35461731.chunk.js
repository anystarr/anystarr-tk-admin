(this["webpackJsonpreact-admin"]=this["webpackJsonpreact-admin"]||[]).push([[41],{100:function(e,a,t){"use strict";var n=t(0),s=t.n(n),i=t(76),l=t(78),r=t.n(l);var c=e=>{let{title:a}=e;return s.a.createElement("div",{className:"web-bread-c"},s.a.createElement(i.a,{arr:[a]}),s.a.createElement("h3",null,a),s.a.createElement("img",{src:r.a,className:"aset",alt:"aset"}))};a.a=c},132:function(e,a,t){"use strict";var n=t(136),s=t.n(n),i=t(88);const l=localStorage.getItem("token"),r=s.a.create({baseURL:i.a,timeout:5e3});r.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",r.interceptors.request.use(e=>(l&&(e.headers.Authorization=l),e),e=>Promise.reject(e)),r.interceptors.response.use(e=>200===e.status?Promise.resolve(e):Promise.reject(e),e=>{if(e.response&&e.response.status)switch(e.response.status){case 401:case 403:case 404:case 500:break;default:console.log("\u5176\u4ed6\u9519\u8bef\u4fe1\u606f")}return Promise.reject(e)})},179:function(e,a){},1982:function(e,a,t){"use strict";t.r(a);t(58);var n=t(59),s=t.n(n),i=(t(56),t(55)),l=t.n(i),r=(t(529),t(460)),c=t.n(r),o=(t(63),t(66)),m=t.n(o),d=(t(74),t(75)),p=t.n(d),u=(t(64),t(67)),E=t.n(u),f=t(68),g=(t(69),t(72)),y=t.n(g),b=(t(62),t(65)),h=t.n(b),v=(t(79),t(80)),x=t.n(v),O=t(0),k=t.n(O),P=(t(130),t(100)),j=(t(87),t(60));t(132),t(88),t(222),t(198),t(178);const{RangePicker:w}=x.a,C={labelCol:{span:8},wrapperCol:{span:16}},L={wrapperCol:{offset:10,span:16}},{Option:N}=h.a;var F=e=>{const[a,t]=Object(O.useState)({id:"12",fullName:"hhh",displayName:"display",logo:"",allPermissionsList:[],selectPermissions:[]}),[n]=y.a.useForm(),i=()=>{Object(j.Cb)().then(s=>{(s=>{let i=e.match.params.id;0!=i?Object(j.Bb)({id:i}).then(e=>{n.setFieldsValue({name:e.data.data.name,description:e.data.data.descrption});let i=e.data.data.role_permission_list?e.data.data.role_permission_list:[],l=[];i.map(e=>e.permission_list.map(e=>{l.push(e.id)})),t(Object(f.a)(Object(f.a)({},a),{},{allPermissionsList:s,selectPermissions:l})),console.log("rolePList",l)}):t(Object(f.a)(Object(f.a)({},a),{},{allPermissionsList:s}))})(s.data.data)})};return Object(O.useEffect)(()=>{i()},[]),k.a.createElement(s.a,{className:"index animated fadeIn"},k.a.createElement(P.a,{title:"Role info"}),k.a.createElement("div",{className:"base-style base-detail",id:"demoline"},k.a.createElement(m.a,null,k.a.createElement(E.a,{span:24},k.a.createElement(y.a,Object.assign({},C,{name:"basic",initialValues:{remember:!0},form:n,onFinish:t=>{let n=e.match.params.id,s={name:t.name,admin:"Super admin"===t.name?1:0,descrption:t.description,permission_ids:a.selectPermissions};0!=n&&(s.id=n),Object(j.r)({roleJson:JSON.stringify(s)}).then(a=>{e.history.push("/permissions/role")})},onFinishFailed:e=>{console.log("Failed:",e)}}),k.a.createElement(m.a,null,k.a.createElement(E.a,{span:12},k.a.createElement(y.a.Item,{label:"Role Name",name:"name"},k.a.createElement(h.a,null,k.a.createElement(N,{key:"Super admin",value:"Super admin"},"Super admin"),k.a.createElement(N,{key:"Operation Manager",value:"Operation Manager"},"Operation Manager"),k.a.createElement(N,{key:"Operation",value:"Operation"},"Operation"),k.a.createElement(N,{key:"Marketing",value:"Marketing"},"Marketing"),k.a.createElement(N,{key:"Customer service",value:"Customer service"},"Customer service"),k.a.createElement(N,{key:"Accountant",value:"Accountant"},"Accountant"),k.a.createElement(N,{key:"Product",value:"Product"},"Product"),k.a.createElement(N,{key:"Logistic",value:"Logistic"},"Logistic"),k.a.createElement(N,{key:"Intern",value:"Intern"},"Intern")))),k.a.createElement(E.a,{span:12},k.a.createElement(y.a.Item,{label:"Description",name:"description"},k.a.createElement(p.a,null)))),k.a.createElement(m.a,null,k.a.createElement(E.a,{style:{width:"79%",margin:"0 auto",border:"2px dashed #eee",padding:"30px"}},k.a.createElement("div",null,k.a.createElement("div",{style:{display:"flex",marginBottom:"20px",backgroundColor:"#eee",padding:"10px 0 10px 0"}},k.a.createElement("div",{style:{minWidth:"400px",textAlign:"center"}},"Function module"),k.a.createElement("div",{style:{flex:1,paddingLeft:"40px",display:"flex",flexWrap:"wrap",justifyContent:"center"}},"Features")),a.allPermissionsList.map((e,n)=>k.a.createElement("div",{style:{display:"flex",marginBottom:"20px"},key:n},k.a.createElement("div",{className:"module",style:{minWidth:"400px",textAlign:"center"}},e.modular),k.a.createElement("div",{style:{flex:1,paddingLeft:"40px",display:"flex",flexWrap:"wrap"},className:"feature"},e.permission_list.map((e,n)=>k.a.createElement("div",{key:n,style:{minWidth:"230px"}},k.a.createElement(c.a,{onChange:()=>{(e=>{console.log("data",e);let n=a.selectPermissions,s=e.id;if(n.includes(s)){console.log("1");let e=n.indexOf(s);n.splice(e,1),t(Object(f.a)(Object(f.a)({},a),{},{selectPermissions:n}))}else console.log("2"),n.push(s),t(Object(f.a)(Object(f.a)({},a),{},{selectPermissions:n}))})(e)},checked:a.selectPermissions.includes(e.id)},e.descrption))))))))),k.a.createElement(y.a.Item,L,k.a.createElement("div",null,k.a.createElement(l.a,{type:"primary",htmlType:"submit",style:{marginTop:"30px"}},"Save"))))))))};a.default=F},87:function(e,a,t){},88:function(e,a,t){"use strict";t.d(a,"a",(function(){return n}));const n="http://149.28.152.251:9001/v1"}}]);