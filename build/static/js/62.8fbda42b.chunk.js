(this["webpackJsonpreact-admin"]=this["webpackJsonpreact-admin"]||[]).push([[62],{1985:function(e,a,t){"use strict";t.r(a);t(58);var n=t(59),l=t.n(n),r=(t(83),t(84)),c=t.n(r),s=(t(220),t(221)),i=t.n(s),m=(t(77),t(70)),o=t.n(m),d=t(68),p=(t(94),t(95)),g=t.n(p),u=(t(56),t(55)),b=t.n(u),E=(t(63),t(66)),h=t.n(E),_=(t(64),t(67)),y=t.n(_),O=(t(74),t(75)),f=t.n(O),k=(t(69),t(72)),w=t.n(k),j=(t(278),t(282)),v=t.n(j),I=(t(289),t(140)),S=t.n(I),x=(t(62),t(65)),C=t.n(x),N=(t(79),t(80)),z=t.n(N),D=t(0),F=t.n(D),T=t(76),J=(t(116),t(60)),A=t(103),L=t(122),U=(t(12),t(281),t(135)),R=t.n(U),q=t(130),H=t.n(q),K=t(78),M=t.n(K),P=t(2002);const{MonthPicker:V,RangePicker:B}=z.a,{Option:Y}=C.a,G=([{label:"\u5f85\u5904\u7406",value:"to_handle"},{label:"\u5df2\u5904\u7406",value:"handled"}].map((e,a)=>F.a.createElement(Y,{key:a,value:e.value},e.label)),{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}}),Q=(e,a,t)=>[{title:"Action",dataIndex:"action",key:"action",align:"center",render:(a,t)=>F.a.createElement("a",{className:"action-btn",onClick:()=>{e(t)}},F.a.createElement(P.a,null),F.a.createElement("span",{style:{marginLeft:"4px"}},"Edit"))},{title:" Application ID",dataIndex:"id",key:"id",width:"101",align:"center",render:(e,a)=>F.a.createElement("span",{className:"table-id"},e)},{title:"Task ID",dataIndex:"task_id",key:"task_id",align:"center",width:"100"},{title:"Campaign ID",dataIndex:"campaign_id",key:"campaign_id",align:"center",width:"100"},{title:"Campaign title",dataIndex:"title",key:"title",align:"center",render:(e,a)=>F.a.createElement(S.a,{title:e},F.a.createElement("div",{style:{width:"300px"}},e))},{title:"Application status",dataIndex:"status",key:"status",width:160,align:"center",render:(e,a)=>F.a.createElement("div",null,F.a.createElement(v.a,{status:4==e?"default":"success"}),F.a.createElement("span",null,1==e?"New application":4==e?"Closed":3==e?"Approved":"Shipped"))},{title:"Update date",dataIndex:"update_time",key:"update_time",align:"center",width:180},{title:"Username",dataIndex:"from_user",key:"from_user",width:100,align:"center"},{title:"Courier",dataIndex:"courier",key:"courier",align:"center"},{title:"Tracking number",dataIndex:"tracking_number",key:"tracking_number",width:100,align:"center",render:(e,a)=>F.a.createElement("a",{href:"https://www.ydhex.com/tools/inquire?number=".concat(e),target:"_blank"},e)}],W=e=>{const[a]=w.a.useForm();return F.a.createElement(w.a,Object.assign({},G,{form:a,name:"advanced_search",className:"ant-advanced-search-form",onFinish:a=>{console.log("values",a),e.changeSearch(a)}}),F.a.createElement(h.a,{gutter:24},F.a.createElement(y.a,{span:10},F.a.createElement(w.a.Item,{name:"id",label:"ID"},F.a.createElement(f.a,null))),F.a.createElement(y.a,{span:10},F.a.createElement(w.a.Item,{name:"user_id",label:"User ID"},F.a.createElement(f.a,null)))),F.a.createElement(h.a,{gutter:24},F.a.createElement(y.a,{span:10},F.a.createElement(w.a.Item,{name:"from_user",label:"User Email"},F.a.createElement(f.a,null))),F.a.createElement(y.a,{span:10},F.a.createElement(w.a.Item,{name:"tracking_number",label:"Tracking Number"},F.a.createElement(f.a,null)))),F.a.createElement(h.a,{gutter:24},F.a.createElement(y.a,{span:10},F.a.createElement(w.a.Item,{name:"status",label:"Application status"},F.a.createElement(C.a,{allowClear:!0},F.a.createElement(Y,{value:1},"New application"),F.a.createElement(Y,{value:2},"Shipped"),F.a.createElement(Y,{value:3},"Approved"),F.a.createElement(Y,{value:4},"Closed")))),F.a.createElement(y.a,{span:10},F.a.createElement(w.a.Item,{name:"time",label:"time"},F.a.createElement(B,{ranges:{Today:[H()(),H()()],Yesterday:[H()().subtract(1,"days"),H()().subtract(1,"days")],"Last 7 days":[H()().subtract(6,"days"),H()()],"Last 28 days":[H()().subtract(27,"days"),H()()]}})))),F.a.createElement(h.a,null,F.a.createElement(y.a,{span:10},F.a.createElement(w.a.Item,{name:"campaign_ids",label:"Campaign IDs"},F.a.createElement(f.a,{placeholder:"Separated by English commas"})))),F.a.createElement(h.a,null,F.a.createElement(y.a,{span:24,style:{textAlign:"right"}},F.a.createElement(b.a,{type:"primary",htmlType:"submit",loading:e.loading},"Search"),F.a.createElement(b.a,{style:{margin:"0 8px"},onClick:()=>{a.resetFields()}},"Reset"))))},X=e=>{let{visible:a,onCreate:t,onCancel:n,formData:l,disabled:r}=e;const[c]=w.a.useForm(),[s,i]=Object(D.useState)({}),[m,o]=Object(D.useState)(!1);Object(D.useEffect)(()=>{console.log("formdata",l),Object.keys(l).length?c.setFieldsValue(l):c.resetFields()},[l]);return F.a.createElement(g.a,{visible:a,title:"sku",okText:"Submit",cancelText:"Cancel",onCancel:n,onOk:()=>{c.validateFields().then(e=>{c.resetFields(),t(e)}).catch(e=>{console.log("Validate Failed:",e)})}},F.a.createElement(w.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:14}},{form:c,name:"form_in_modal"}),F.a.createElement(w.a.Item,{name:"id",label:"ID"},F.a.createElement(f.a,{disabled:!0})),F.a.createElement(w.a.Item,{name:"tier_1_cat",label:"Tier1 Cat",rules:[{required:!0}]},F.a.createElement(f.a,null)),F.a.createElement(w.a.Item,{name:"tier_2_cat",label:"Tier2 Cat"},F.a.createElement(f.a,null)),F.a.createElement(w.a.Item,{name:"tier_3_cat",label:"Tier3 Cat"},F.a.createElement(f.a,null)),F.a.createElement(w.a.Item,{name:"shown_name",label:"Sku name",rules:[{required:!0}]},F.a.createElement(f.a,null))))};var Z=e=>{const[a,t]=Object(D.useState)({list:[],pagination:{current:1,pageSize:10},search:{},loading:!0,visible:!1,disabled:!1,formData:{}}),[n,r]=Object(D.useState)({visible:!1,data:{}});Object(D.useEffect)(()=>{const{pagination:e}=a,t={start_row:0,page_size:a.pagination.pageSize};s(t)},[]);const s=e=>{const{pagination:n,search:l}=a;if(t(Object(d.a)(Object(d.a)({},a),{},{loading:!0})),e.time&&(e.start_time=Object(L.c)(e.time[0]._d),e.end_time=Object(L.c)(e.time[1]._d)),console.log("params.campaign_ids",e.campaign_ids),e.campaign_ids){let a=e.campaign_ids.split(",").map(e=>JSON.parse(e));e.campaign_ids=a}Object(J.Fb)({sampleOrderJson:JSON.stringify(e)}).then(n=>{t(Object(d.a)(Object(d.a)({},a),{},{visible:!1,list:n.data.list&&Object(A.getKeyList)(n.data.list),loading:!1,search:e.search,pagination:{total:n.data.pager.total,current:e.start_row/e.page_size+1,pageSize:e.page_size}}))}).catch(e=>{console.log("err",e)})};return F.a.createElement(l.a,{className:"animated fadeIn"},F.a.createElement(X,{visible:a.visible,onCreate:e=>{console.log("data",e),e.is_show_app=1,Object(J.s)({categoryJson:JSON.stringify(e)}).then(e=>{o.a.success("success");const t=Object(d.a)(Object(d.a)({},a.search),{},{start_row:0,page_size:10});s(t)}).catch(e=>{console.log("err",e)})},onCancel:()=>{t(Object(d.a)(Object(d.a)({},a),{},{visible:!1}))},formData:a.formData,disabled:a.disabled}),F.a.createElement("div",{className:"web-bread-c"},F.a.createElement(T.a,{arr:["Sample application List"]}),F.a.createElement("h3",null,"Sample application List"),F.a.createElement("img",{src:M.a,className:"aset",alt:"aset"})),F.a.createElement("div",{className:"base-wr"},F.a.createElement("div",{className:"base-style"},F.a.createElement(W,{changeSearch:e=>{const n=Object(d.a)(Object(d.a)({},e),{},{page_size:10,start_row:0,search:e});t(Object(d.a)(Object(d.a)({},a),{},{search:e})),s(n)},loading:a.loading})),F.a.createElement(h.a,null,F.a.createElement(y.a,{span:24},F.a.createElement("div",{className:"base-style"},F.a.createElement(h.a,null,F.a.createElement(y.a,{span:24,style:{textAlign:"right",marginBottom:"15px"}},F.a.createElement(i.a,{customRequest:e=>{let{file:t,onSuccess:n}=e;Object(J.Ac)({file:t}).then(e=>{n();const t={start_row:0,page_size:a.pagination.pageSize};s(t)})}},F.a.createElement(b.a,{type:"primary"},"Upload sample result")),F.a.createElement("div",{style:{marginLeft:"10px",display:"inline-block"}},F.a.createElement(i.a,{customRequest:e=>{let{file:t,onSuccess:n}=e;Object(J.Hc)({file:t}).then(e=>{n();const t={start_row:0,page_size:a.pagination.pageSize};s(t)})}},F.a.createElement(b.a,{type:"primary"}," Upload tracking number"))),F.a.createElement("a",{style:{backgroundColor:"#1890ff",color:"#fff",padding:"8px 15px",marginLeft:"10px"},href:(()=>{let e=Object(J.M)(),t=Object(d.a)({},a.search);if(t.campaign_ids){let e=t.campaign_ids.split(",").map(e=>JSON.parse(e));t.campaign_ids=e}let n=JSON.stringify(t),l="".concat(e,"?sampleOrderJson=").concat(n);return console.log("resHref",l),encodeURI(l)})(),type:"download"},"Download"))),F.a.createElement(c.a,{rowSelection:Object(d.a)({type:"checkbox"},()=>{}),columns:Q(e=>{let a=R.a+"/sample_detail/"+e.id;window.open(a,"_blank").focus()}),rowKey:e=>e.key,dataSource:a.list,onChange:e=>{console.log("state",a);const t=Object(d.a)(Object(d.a)({},a.search),{},{page_size:e.pageSize,start_row:e.pageSize*(e.current-1),search:a.search});console.log("ttt",t),s(t)},bordered:!0,size:"small",loading:a.loading,pagination:a.pagination,scroll:{scrollToFirstRowOnChange:!0,x:1e3}}))))))};a.default=Z}}]);